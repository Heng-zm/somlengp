"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5613],{6259:(e,s,a)=>{a.d(s,{SQ:()=>x,_2:()=>h,lp:()=>p,mB:()=>u,rI:()=>c,ty:()=>m});var t=a(95155),r=a(12115),l=a(47971),n=a(27937),i=a(5917),d=a(99051),o=a(64269);let c=l.bL,m=l.l9;l.YJ,l.ZL,l.Pb,l.z6,r.forwardRef((e,s)=>{let{className:a,inset:r,children:i,...d}=e;return(0,t.jsxs)(l.ZP,{ref:s,className:(0,o.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",a),...d,children:[i,(0,t.jsx)(n.A,{className:"ml-auto"})]})}).displayName=l.ZP.displayName,r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.G5,{ref:s,className:(0,o.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...r})}).displayName=l.G5.displayName;let x=r.forwardRef((e,s)=>{let{className:a,sideOffset:r=4,...n}=e;return(0,t.jsx)(l.ZL,{children:(0,t.jsx)(l.UC,{ref:s,sideOffset:r,className:(0,o.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...n})})});x.displayName=l.UC.displayName;let h=r.forwardRef((e,s)=>{let{className:a,inset:r,...n}=e;return(0,t.jsx)(l.q7,{ref:s,className:(0,o.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",a),...n})});h.displayName=l.q7.displayName,r.forwardRef((e,s)=>{let{className:a,children:r,checked:n,...d}=e;return(0,t.jsxs)(l.H_,{ref:s,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:n,...d,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(l.VF,{children:(0,t.jsx)(i.A,{className:"h-4 w-4"})})}),r]})}).displayName=l.H_.displayName,r.forwardRef((e,s)=>{let{className:a,children:r,...n}=e;return(0,t.jsxs)(l.hN,{ref:s,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...n,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(l.VF,{children:(0,t.jsx)(d.A,{className:"h-2 w-2 fill-current"})})}),r]})}).displayName=l.hN.displayName;let p=r.forwardRef((e,s)=>{let{className:a,inset:r,...n}=e;return(0,t.jsx)(l.JU,{ref:s,className:(0,o.cn)("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",a),...n})});p.displayName=l.JU.displayName;let u=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.wv,{ref:s,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",a),...r})});u.displayName=l.wv.displayName},20243:(e,s,a)=>{a.d(s,{E:()=>l});var t=a(95155),r=a(64269);function l(e){let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,r.cn)("animate-pulse rounded-md bg-muted",s),...a})}},31120:(e,s,a)=>{a.d(s,{T:()=>n});var t=a(95155),r=a(12115),l=a(64269);let n=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:s,...r})});n.displayName="Textarea"},72245:(e,s,a)=>{a.d(s,{B:()=>u});var t=a(95155),r=a(12115),l=a(67048),n=a(44615),i=a(3829),d=a(50859),o=a(14285),c=a(40725),m=a(18756),x=a(3998),h=a(31120),p=a(64269);let u=(0,r.memo)(function(e){let{placeholder:s="Add comment...",onSubmit:a,parentId:u,disabled:g=!1,loading:f=!1,className:b,submitText:N="Submit"}=e,[j,y]=(0,r.useState)(""),[v,w]=(0,r.useState)(!1),k=(0,r.useRef)(null),C=[{type:"bold",icon:l.A,action:()=>A("**","**")},{type:"italic",icon:n.A,action:()=>A("*","*")},{type:"underline",icon:i.A,action:()=>A("<u>","</u>")},{type:"link",icon:d.A,action:()=>A("[","](url)")},{type:"attachment",icon:o.A,action:()=>{}},{type:"emoji",icon:c.A,action:()=>{}},{type:"mention",icon:m.A,action:()=>A("@","")}],A=(0,r.useCallback)((e,s)=>{let a=k.current;if(!a)return;let t=a.selectionStart,r=a.selectionEnd,l=j.substring(t,r);y(j.substring(0,t)+e+l+s+j.substring(r)),setTimeout(()=>{a.focus();let s=t+e.length+l.length;a.setSelectionRange(s,s)},0)},[j]),z=(0,r.useCallback)(()=>{!j.trim()||g||f||(a(j.trim(),u),y(""),w(!1))},[j,g,f,a,u]),R=(0,r.useCallback)(e=>{"Enter"===e.key&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),z())},[z]);return(0,t.jsxs)("div",{className:(0,p.cn)("bg-white dark:bg-gray-900 rounded-xl border border-gray-200 dark:border-gray-700","transition-all duration-200 ease-in-out",v&&"ring-2 ring-blue-500/20 border-blue-300 dark:border-blue-600",b),children:[(0,t.jsx)("div",{className:"p-3 sm:p-4",children:(0,t.jsx)(h.T,{ref:k,placeholder:s,value:j,onChange:e=>y(e.target.value),onFocus:()=>w(!0),onBlur:()=>w(!1),onKeyDown:R,disabled:g||f,className:(0,p.cn)("min-h-[60px] sm:min-h-[80px] resize-none border-0 bg-transparent p-0","focus:ring-0 focus:outline-none placeholder:text-gray-400 text-sm","dark:placeholder:text-gray-500")})}),(0,t.jsx)("div",{className:"border-t border-gray-100 dark:border-gray-800 px-3 sm:px-4 py-2 sm:py-3",children:(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1 flex-wrap",children:[C.slice(0,4).map(e=>{let s=e.icon;return(0,t.jsx)(x.$,{variant:"ghost",size:"sm",onClick:e.action,disabled:g||f,className:"w-7 h-7 sm:w-8 sm:h-8 p-0 hover:bg-gray-100 dark:hover:bg-gray-800",children:(0,t.jsx)(s,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-600 dark:text-gray-400"})},e.type)}),(0,t.jsx)("div",{className:"hidden sm:flex items-center gap-1",children:C.slice(4).map(e=>{let s=e.icon;return(0,t.jsx)(x.$,{variant:"ghost",size:"sm",onClick:e.action,disabled:g||f,className:"w-8 h-8 p-0 hover:bg-gray-100 dark:hover:bg-gray-800",children:(0,t.jsx)(s,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})},e.type)})})]}),(0,t.jsx)(x.$,{onClick:z,disabled:!j.trim()||g||f,size:"sm",className:"bg-orange-500 hover:bg-orange-600 text-white px-4 sm:px-6 text-xs sm:text-sm flex-shrink-0",children:f?"Submitting...":N})]})})]})})},78439:(e,s,a)=>{a.d(s,{L:()=>u});var t=a(95155),r=a(12115),l=a(17910),n=a(25276),i=a(49745),d=a(5937),o=a(37772),c=a(3998),m=a(85897),x=a(6259),h=a(64269),p=a(72245);let u=(0,r.memo)(function e(s){let{comment:a,onVote:u,onReply:g,onEdit:f,onDelete:b,className:N,level:j=0,maxLevel:y=3}=s,[v,w]=(0,r.useState)(!1),[k,C]=(0,r.useState)(!0),A=e=>{u(a.id,e)};return(0,t.jsxs)("div",{className:(0,h.cn)("space-y-3",N),children:[(0,t.jsxs)("div",{className:"flex gap-2 sm:gap-3",children:[(0,t.jsxs)(m.eu,{className:"w-7 h-7 sm:w-8 sm:h-8 flex-shrink-0 mt-1",children:[(0,t.jsx)(m.BK,{src:a.author.avatar,alt:a.author.name}),(0,t.jsx)(m.q5,{className:"bg-blue-100 text-blue-700 text-xs",children:a.author.name.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2)})]}),(0,t.jsxs)("div",{className:"flex-grow min-w-0",children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-1 sm:gap-2 mb-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("span",{className:"font-medium text-xs sm:text-sm text-gray-900 dark:text-gray-100 break-words",children:a.author.name}),a.author.isVerified&&(0,t.jsx)(l.A,{className:"w-3 h-3 sm:w-4 sm:h-4 text-orange-500 fill-orange-500 flex-shrink-0"})]}),(0,t.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400 flex-shrink-0",children:(e=>{let s=Math.floor((new Date().getTime()-e.getTime())/1e3);return s<60?"".concat(s," seconds ago"):s<3600?"".concat(Math.floor(s/60)," minutes ago"):s<86400?"".concat(Math.floor(s/3600)," hours ago"):"".concat(Math.floor(s/86400)," days ago")})(a.createdAt)}),a.isEdited&&(0,t.jsx)("span",{className:"text-xs text-gray-400 dark:text-gray-500 flex-shrink-0",children:"(edited)"})]}),(0,t.jsx)("div",{className:"text-xs sm:text-sm text-gray-800 dark:text-gray-200 mb-3 leading-relaxed break-words",children:a.content}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsxs)(c.$,{variant:"ghost",size:"sm",onClick:()=>A("upvote"),className:(0,h.cn)("h-6 px-2 text-xs hover:bg-green-50 dark:hover:bg-green-950/20","upvote"===a.userVote&&"bg-green-50 dark:bg-green-950/20 text-green-600"),children:[(0,t.jsx)(n.A,{className:"w-3 h-3 mr-1"}),a.upvotes]}),(0,t.jsxs)(c.$,{variant:"ghost",size:"sm",onClick:()=>A("downvote"),className:(0,h.cn)("h-6 px-2 text-xs hover:bg-red-50 dark:hover:bg-red-950/20","downvote"===a.userVote&&"bg-red-50 dark:bg-red-950/20 text-red-600"),children:[(0,t.jsx)(i.A,{className:"w-3 h-3 mr-1"}),a.downvotes]})]}),j<y&&(0,t.jsxs)(c.$,{variant:"ghost",size:"sm",onClick:()=>w(!v),className:"h-6 px-2 text-xs hover:bg-gray-50 dark:hover:bg-gray-800",children:[(0,t.jsx)(d.A,{className:"w-3 h-3 mr-1"}),"Reply"]}),(0,t.jsxs)(x.rI,{children:[(0,t.jsx)(x.ty,{asChild:!0,children:(0,t.jsx)(c.$,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-gray-50 dark:hover:bg-gray-800",children:(0,t.jsx)(o.A,{className:"w-3 h-3"})})}),(0,t.jsxs)(x.SQ,{align:"end",className:"w-32",children:[f&&(0,t.jsx)(x._2,{className:"text-xs",onClick:()=>f(a.id,a.content),children:"Edit"}),b&&(0,t.jsx)(x._2,{className:"text-xs text-red-600",onClick:()=>b(a.id),children:"Delete"}),(0,t.jsx)(x._2,{className:"text-xs",children:"Report"})]})]})]}),v&&(0,t.jsx)("div",{className:"mt-3",children:(0,t.jsx)(p.B,{placeholder:"Write a reply...",onSubmit:e=>{g(e,a.id),w(!1)},parentId:a.id,submitText:"Reply",className:"bg-gray-50 dark:bg-gray-800"})})]})]}),a.replies&&a.replies.length>0&&(0,t.jsxs)("div",{className:"ml-8 sm:ml-11 space-y-3 border-l border-gray-200 dark:border-gray-700 pl-2 sm:pl-3",children:[k&&a.replies.map(s=>(0,t.jsx)(e,{comment:s,onVote:u,onReply:g,onEdit:f,onDelete:b,level:j+1,maxLevel:y},s.id)),!k&&(0,t.jsxs)(c.$,{variant:"ghost",size:"sm",onClick:()=>C(!0),className:"text-xs text-blue-600 hover:text-blue-700 p-0 h-auto",children:["Show ",a.replies.length," ",1===a.replies.length?"reply":"replies"]})]})]})})},85613:(e,s,a)=>{a.d(s,{Z:()=>u});var t=a(95155),r=a(12115),l=a(12108),n=a(24033),i=a(86948),d=a(3998),o=a(6259),c=a(20243),m=a(64269),x=a(72245),h=a(78439);let p=[{value:"recent",label:"Most recent"},{value:"oldest",label:"Oldest first"},{value:"popular",label:"Most popular"}],u=(0,r.memo)(function(e){var s;let{comments:a,stats:c,sortBy:u,loading:f=!1,error:b=null,initialLimit:N=3,enableInitialLimit:j=!1,onSubmitComment:y,onVote:v,onReply:w,onSortChange:k,onEdit:C,onDelete:A,onLoadMore:z,hasMore:R=!1,className:S,commentsTitle:_="Comments",sortLabels:E={recent:"Most recent",oldest:"Oldest first",popular:"Most popular"},addCommentPlaceholder:$="Add comment...",submitText:L="Submit",showMoreText:M="Show more",showLessText:V="Show less"}=e,[B,T]=(0,r.useState)(!j),D=j&&!B?a.slice(0,N):a,Z=j&&a.length>N,F=j?a.length-N:0;return b?(0,t.jsx)(i.Zp,{className:(0,m.cn)("w-full",S),children:(0,t.jsxs)(i.Wu,{className:"p-6 text-center space-y-4",children:[(0,t.jsxs)("div",{className:"text-red-600 dark:text-red-400",children:[(0,t.jsx)("p",{className:"font-medium",children:"Error loading comments"}),(0,t.jsx)("p",{className:"text-sm mt-1 text-red-500 dark:text-red-300",children:b})]}),(0,t.jsx)(d.$,{variant:"outline",size:"sm",onClick:()=>window.location.reload(),className:"mt-2",children:"Refresh Page"})]})}):(0,t.jsx)(i.Zp,{className:(0,m.cn)("w-full",S),children:(0,t.jsxs)(i.Wu,{className:"p-0",children:[(0,t.jsx)("div",{className:"p-4 sm:p-6 border-b border-gray-100 dark:border-gray-800",children:(0,t.jsx)(x.B,{placeholder:$,onSubmit:y,submitText:L})}),(0,t.jsx)("div",{className:"px-4 sm:px-6 py-3 sm:py-4 border-b border-gray-100 dark:border-gray-800",children:(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 min-w-0",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 text-sm sm:text-base",children:_}),(0,t.jsx)("span",{className:"bg-orange-500 text-white text-xs px-2 py-1 rounded-full font-medium flex-shrink-0",children:c.totalComments})]}),(0,t.jsxs)(o.rI,{children:[(0,t.jsx)(o.ty,{asChild:!0,children:(0,t.jsxs)(d.$,{variant:"ghost",size:"sm",className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 px-2 sm:px-3",children:[(0,t.jsx)(l.A,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:E[u]||(null==(s=p.find(e=>e.value===u))?void 0:s.label)||"Most recent"}),(0,t.jsx)("span",{className:"sm:hidden",children:"Sort"}),(0,t.jsx)(n.A,{className:"w-3 h-3 sm:w-4 sm:h-4 ml-1"})]})}),(0,t.jsx)(o.SQ,{align:"end",className:"w-40",children:p.map(e=>(0,t.jsx)(o._2,{onClick:()=>k(e.value),className:(0,m.cn)("text-sm cursor-pointer",u===e.value&&"bg-gray-100 dark:bg-gray-800"),children:E[e.value]||e.label},e.value))})]})]})}),(0,t.jsxs)("div",{className:"px-4 sm:px-6 py-4",children:[f&&0===a.length?(0,t.jsx)("div",{className:"space-y-4",children:Array.from({length:3}).map((e,s)=>(0,t.jsx)(g,{},s))}):0===a.length?(0,t.jsx)("div",{className:"text-center py-8",children:(0,t.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"No comments yet. Be the first to share your thoughts!"})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"space-y-6",children:D.map((e,s)=>(0,t.jsx)("div",{className:(0,m.cn)("animate-in fade-in slide-in-from-bottom-2 duration-300",j&&B&&s>=N&&"animate-in fade-in slide-in-from-top-2"),style:{animationDelay:j&&B&&s>=N?"".concat((s-N)*100,"ms"):"".concat(100*s,"ms")},children:(0,t.jsx)(h.L,{comment:e,onVote:v,onReply:w,onEdit:C,onDelete:A})},e.id))}),Z&&(0,t.jsx)("div",{className:"flex flex-col items-center mt-6 space-y-3",children:(0,t.jsx)(d.$,{variant:"ghost",onClick:()=>{T(!B)},className:(0,m.cn)("group transition-all duration-200 hover:bg-transparent",B?"text-gray-600 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300":"text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300"),children:B?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.A,{className:"w-4 h-4 mr-2 group-hover:animate-bounce"}),V]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.A,{className:"w-4 h-4 mr-2 group-hover:animate-bounce"}),M," (",F,")"]})})})]}),R&&B&&(0,t.jsx)("div",{className:"flex justify-center mt-6",children:(0,t.jsxs)(d.$,{variant:"outline",onClick:z,disabled:f,className:"text-orange-600 border-orange-200 hover:bg-orange-50 dark:text-orange-400 dark:border-orange-800 dark:hover:bg-orange-950/20",children:[f?"Loading...":"Load more comments",(0,t.jsx)(n.A,{className:"w-4 h-4 ml-2"})]})})]})]})})}),g=(0,r.memo)(function(){return(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(c.E,{className:"w-8 h-8 rounded-full flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-grow space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(c.E,{className:"h-4 w-24"}),(0,t.jsx)(c.E,{className:"h-3 w-16"})]}),(0,t.jsx)(c.E,{className:"h-4 w-full"}),(0,t.jsx)(c.E,{className:"h-4 w-3/4"}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,t.jsx)(c.E,{className:"h-6 w-12"}),(0,t.jsx)(c.E,{className:"h-6 w-12"}),(0,t.jsx)(c.E,{className:"h-6 w-16"})]})]})]})})},85897:(e,s,a)=>{a.d(s,{BK:()=>d,eu:()=>i,q5:()=>o});var t=a(95155),r=a(12115),l=a(7870),n=a(64269);let i=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.bL,{ref:s,className:(0,n.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...r})});i.displayName=l.bL.displayName;let d=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l._V,{ref:s,className:(0,n.cn)("aspect-square h-full w-full object-cover object-center rounded-full",a),...r})});d.displayName=l._V.displayName;let o=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.H4,{ref:s,className:(0,n.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...r})});o.displayName=l.H4.displayName}}]);