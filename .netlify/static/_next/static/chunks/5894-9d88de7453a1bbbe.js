"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5894],{15894:(t,e,s)=>{s.d(e,{dj:()=>d,oR:()=>h});var r=s(12115),i=s(48370);let n=0,a=new Map,o=t=>{let{error:e}=(0,i.xZ)(()=>{if(!t||"string"!=typeof t||0===t.trim().length)throw new i.yI("Invalid toast ID for removal queue",{toastId:t});if(a.has(t))return;if(a.size>=10){let t=a.keys().next().value;if(t){let e=a.get(t);e&&clearTimeout(e),a.delete(t)}}let e=setTimeout(()=>{try{a.delete(t),u({type:"REMOVE_TOAST",toastId:t})}catch(e){i.r_.handle(e,{function:"removeToastTimeout",toastId:t})}},5e3);a.set(t,e)},void 0,{operation:"addToRemoveQueue",toastId:t})},c=[],l={toasts:[]};function u(t){let{error:e}=(0,i.xZ)(()=>{l=((t,e)=>{let{data:s,error:r}=(0,i.xZ)(()=>{if(!t||"object"!=typeof t)throw new i.yI("Invalid state provided to reducer",{state:typeof t});if(!e||"object"!=typeof e||!e.type)throw new i.yI("Invalid action provided to reducer",{action:e});let s=Array.isArray(t.toasts)?t.toasts:[];switch(e.type){case"ADD_TOAST":{if(!e.toast||"object"!=typeof e.toast)throw new i.yI("Invalid toast data for ADD_TOAST action",{toast:e.toast});if(!e.toast.id||"string"!=typeof e.toast.id)throw new i.yI("Toast must have a valid ID",{id:e.toast.id});if(s.find(t=>t.id===e.toast.id))return t;let r=[e.toast,...s].slice(0,3);return{...t,toasts:r}}case"UPDATE_TOAST":if(!e.toast||"object"!=typeof e.toast||!e.toast.id)throw new i.yI("Invalid toast data for UPDATE_TOAST action",{toast:e.toast});if(!s.some(t=>t.id===e.toast.id))return t;return{...t,toasts:s.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{let{toastId:r}=e;if(r&&("string"!=typeof r||0===r.trim().length))throw new i.yI("Invalid toastId for DISMISS_TOAST action",{toastId:r});return r?o(r):s.forEach(t=>{t.id&&o(t.id)}),{...t,toasts:s.map(t=>t.id===r||void 0===r?{...t,open:!1}:t)}}case"REMOVE_TOAST":if(void 0===e.toastId)return{...t,toasts:[]};if("string"!=typeof e.toastId)throw new i.yI("Invalid toastId for REMOVE_TOAST action",{toastId:e.toastId});return{...t,toasts:s.filter(t=>t.id!==e.toastId)};default:return t}},t,{operation:"toastReducer",actionType:e.type});return r?(i.r_.handle(r,{function:"reducer",actionType:e.type}),t):s||t})(l,t),c.forEach(t=>{try{t(l)}catch(t){i.r_.handle(t,{function:"dispatch-listener"})}})},void 0,{operation:"dispatchToastAction",actionType:t.type});e&&i.r_.handle(e,{function:"dispatch",actionType:t.type})}function h(t){let{...e}=t,{data:s,error:r}=(0,i.xZ)(()=>{if(!e||"object"!=typeof e)throw new i.yI("Toast props must be a valid object",{props:e});if(e.title&&"string"==typeof e.title&&e.title.length>100&&(e.title=e.title.substring(0,100)+"..."),e.description&&"string"==typeof e.description&&e.description.length>500&&(e.description=e.description.substring(0,500)+"..."),l.toasts.length>=10){let t=l.toasts[l.toasts.length-1];(null==t?void 0:t.id)&&u({type:"REMOVE_TOAST",toastId:t.id})}let t=function(){let{data:t,error:e}=(0,i.xZ)(()=>(n=(n+1)%999999).toString(),null,{operation:"generateToastId"});return e||!t?"toast_".concat(Date.now(),"_").concat(Math.floor(1e4*Math.random())):t}(),s=()=>{let{error:e}=(0,i.xZ)(()=>u({type:"DISMISS_TOAST",toastId:t}),void 0,{operation:"dismissToast",toastId:t})};return u({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{try{e||s()}catch(e){i.r_.handle(e,{function:"onOpenChange",toastId:t})}}}}),{id:t,dismiss:s,update:e=>{let{error:s}=(0,i.xZ)(()=>{if(!e||"object"!=typeof e)throw new i.yI("Update props must be a valid object");u({type:"UPDATE_TOAST",toast:{...e,id:t}})},void 0,{operation:"updateToast",toastId:t})}}},null,{operation:"createToast"});return r?(i.r_.handle(r,{function:"toast"}),{id:"fallback_".concat(Date.now()),dismiss:()=>console.warn("Fallback toast dismiss called"),update:()=>console.warn("Fallback toast update called")}):s||{id:"error",dismiss:()=>{},update:()=>{}}}function d(){let[t,e]=r.useState(l);return r.useEffect(()=>{let{error:t}=(0,i.xZ)(()=>{c.push(e)},void 0,{operation:"addToastListener"});return t&&i.r_.handle(t,{function:"useToast-effect"}),()=>{let{error:t}=(0,i.xZ)(()=>{let t=c.indexOf(e);t>-1&&c.splice(t,1)},void 0,{operation:"removeToastListener"})}},[]),{...t,toast:h,dismiss:t=>{let{error:e}=(0,i.xZ)(()=>{if(t&&"string"!=typeof t)throw new i.yI("Toast ID must be a string",{toastId:t});u({type:"DISMISS_TOAST",toastId:t})},void 0,{operation:"dismissToastFromHook",toastId:t})}}}},48370:(t,e,s)=>{s.d(e,{Ae:()=>u,IB:()=>d,TT:()=>l,r_:()=>h,s7:()=>n,xZ:()=>c,yI:()=>i});class r extends Error{getDefaultUserMessage(){switch(this.type){case"NETWORK":return"Network error occurred. Please check your internet connection and try again.";case"VALIDATION":return"Invalid input provided. Please check your data and try again.";case"AUTH":return"Authentication error. Please sign in again.";case"STORAGE":return"Storage error occurred. Please try again.";case"CLIPBOARD":return"Unable to access clipboard. Please copy manually.";case"MEDIA":return"Media access error. Please check permissions and try again.";case"PARSER":return"Unable to process the provided data.";default:return"An unexpected error occurred. Please try again."}}toJSON(){return{name:this.name,message:this.message,type:this.type,severity:this.severity,context:this.context,timestamp:this.timestamp,userMessage:this.userMessage,recoverable:this.recoverable,stack:this.stack}}constructor(t,e="UNKNOWN",s="MEDIUM",r={},i,n=!0){super(t),this.name="AppError",this.type=e,this.severity=s,this.context=r,this.timestamp=Date.now(),this.userMessage=i||this.getDefaultUserMessage(),this.recoverable=n}}class i extends r{constructor(t,e={},s){super(t,"VALIDATION","MEDIUM",e,s),this.name="ValidationError"}}class n extends r{constructor(t,e={},s){super(t,"PARSER","MEDIUM",e,s),this.name="ParserError"}}class a{static getInstance(){return a.instance||(a.instance=new a),a.instance}handle(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=this.normalizeError(t,e);return this.logError(s),this.reportError(s),s}normalizeError(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t instanceof r?t:t instanceof Error?new r(t.message,"UNKNOWN","MEDIUM",{...e,originalError:t.name,stack:t.stack}):"string"==typeof t?new r(t,"UNKNOWN","MEDIUM",e):new r("Unknown error occurred","UNKNOWN","MEDIUM",{...e,originalError:t})}logError(t){this.errorLog.unshift(t),this.errorLog.length>this.maxLogSize&&(this.errorLog=this.errorLog.slice(0,this.maxLogSize))}reportError(t){try{window.gtag&&window.gtag("event","exception",{description:t.message,fatal:"CRITICAL"===t.severity,error_type:t.type})}catch(t){}}getRecentErrors(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this.errorLog.slice(0,t)}getErrorsByType(t){return this.errorLog.filter(e=>e.type===t)}clearLog(){this.errorLog=[]}constructor(){this.errorLog=[],this.maxLogSize=100}}async function o(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{return{data:await t(),error:null}}catch(r){return{data:e||null,error:a.getInstance().handle(r,{...s,function:t.name||"anonymous"})}}}function c(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{return{data:t(),error:null}}catch(r){return{data:e||null,error:a.getInstance().handle(r,{...s,function:t.name||"anonymous"})}}}function l(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(let r of e)if(!r.condition(t))throw new i(r.message,s,r.userMessage)}function u(){return{writeText:async t=>{let{error:e}=await o(async()=>{if(navigator.clipboard&&navigator.clipboard.writeText)await navigator.clipboard.writeText(t);else{let e=document.createElement("textarea");e.value=t,document.body.appendChild(e),e.focus(),e.select(),document.execCommand("copy"),document.body.removeChild(e)}},void 0,{operation:"writeText",textLength:t.length});return!e},readText:async()=>{let{data:t,error:e}=await o(async()=>navigator.clipboard&&navigator.clipboard.readText?await navigator.clipboard.readText():null,null,{operation:"readText"});return t}}}let h=a.getInstance(),d={required:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"This field is required";return{condition:t=>null!=t&&""!==t,message:t,userMessage:t}},string:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Must be a string";return{condition:t=>"string"==typeof t,message:t,userMessage:t}},minLength:(t,e)=>({condition:e=>"string"==typeof e&&e.length>=t,message:e||"Must be at least ".concat(t," characters"),userMessage:e||"Must be at least ".concat(t," characters")}),maxLength:(t,e)=>({condition:e=>"string"==typeof e&&e.length<=t,message:e||"Must be no more than ".concat(t," characters"),userMessage:e||"Must be no more than ".concat(t," characters")}),email:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Must be a valid email address";return{condition:t=>"string"==typeof t&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),message:t,userMessage:t}},url:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Must be a valid URL";return{condition:t=>{try{return new URL(t),!0}catch(t){return!1}},message:t,userMessage:t}}};class g{async execute(t){if("OPEN"===this.state){if(Date.now()<this.nextAttempt)throw new r("Circuit breaker is OPEN","NETWORK","HIGH",{failureCount:this.failureCount,nextAttempt:this.nextAttempt},"Service is temporarily unavailable. Please try again later.");this.state="HALF_OPEN"}try{let e=await t();return this.onSuccess(),e}catch(t){throw this.onFailure(),t}}onSuccess(){this.successCount++,"HALF_OPEN"===this.state&&(this.failureCount=0,this.state="CLOSED")}onFailure(){this.failureCount++,this.failureCount>=this.threshold&&(this.state="OPEN",this.nextAttempt=Date.now()+this.resetTimeout)}getStats(){return{state:this.state,failureCount:this.failureCount,successCount:this.successCount,nextAttempt:this.nextAttempt}}reset(){this.failureCount=0,this.successCount=0,this.state="CLOSED",this.nextAttempt=Date.now()}constructor(t=5,e=6e4,s=6e4){this.threshold=t,this.resetTimeout=e,this.monitoringPeriod=s,this.failureCount=0,this.successCount=0,this.nextAttempt=Date.now(),this.state="CLOSED"}}class p{async add(t){let{operation:e,priority:s=0,context:r={}}=t;return new Promise((t,i)=>{var n;let a="op_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9));this.queue.push({id:a,operation:e,resolve:t,reject:i,priority:s,context:r}),this.queue.sort((t,e)=>e.priority-t.priority),this.stats.pending=this.queue.length,null==(n=this.onProgress)||n.call(this,this.stats),this.processNext()})}async processNext(){if(this.running>=this.maxConcurrency||0===this.queue.length)return;let t=this.queue.shift();if(t){this.running++,this.stats.pending=this.queue.length;try{let e=await t.operation();t.resolve(e),this.stats.processed++}catch(s){let e=a.getInstance().handle(s,{...t.context,operationId:t.id});t.reject(e),this.stats.failed++}finally{var e;this.running--,null==(e=this.onProgress)||e.call(this,this.stats),setImmediate(()=>this.processNext())}}}getStats(){return{...this.stats,running:this.running,pending:this.queue.length}}clear(){this.queue.forEach(t=>{t.reject(new r("Queue cleared","UNKNOWN","LOW",{},"Operation was cancelled due to queue clearing"))}),this.queue=[],this.stats={processed:0,failed:0,pending:0}}constructor(t=3,e){this.maxConcurrency=t,this.onProgress=e,this.queue=[],this.running=0,this.stats={processed:0,failed:0,pending:0}}}class f{async execute(t){return await this.acquire(),t()}async acquire(){return new Promise((t,e)=>{this.refillTokens(),this.tokens>0?(this.tokens--,t()):(this.waitingQueue.push({resolve:t,reject:e}),setTimeout(()=>{let s=this.waitingQueue.findIndex(e=>e.resolve===t);-1!==s&&(this.waitingQueue.splice(s,1),e(new r("Rate limit timeout","NETWORK","HIGH",{queueLength:this.waitingQueue.length},"Request was rate limited. Please try again later.")))},3e4))})}refillTokens(){let t=Date.now(),e=Math.floor((t-this.lastRefill)/1e3*this.refillRate);if(e>0)for(this.tokens=Math.min(this.maxTokens,this.tokens+e),this.lastRefill=t;this.tokens>0&&this.waitingQueue.length>0;){let t=this.waitingQueue.shift();t&&(this.tokens--,t.resolve())}}getStats(){return{tokens:this.tokens,maxTokens:this.maxTokens,queueLength:this.waitingQueue.length,refillRate:this.refillRate}}constructor(t=10,e=1,s=t){this.maxTokens=t,this.refillRate=e,this.burstAllowance=s,this.waitingQueue=[],this.tokens=t,this.lastRefill=Date.now()}}new g,new p,new f}}]);