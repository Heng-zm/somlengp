"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2256],{10084:(e,t,a)=>{function r(){return"undefined"!=typeof navigator&&!!(navigator.mediaDevices&&"function"==typeof navigator.mediaDevices.getUserMedia&&window.isSecureContext)}async function n(){try{if("undefined"==typeof navigator||!("permissions"in navigator))return null;return(await navigator.permissions.query({name:"camera"})).state}catch(e){return null}}async function i(){try{var e;if("undefined"==typeof navigator||!(null==(e=navigator.mediaDevices)?void 0:e.enumerateDevices))return[];return(await navigator.mediaDevices.enumerateDevices()).filter(e=>"videoinput"===e.kind).map(e=>({deviceId:e.deviceId,label:e.label||"Camera ".concat(e.deviceId.slice(0,8),"..."),kind:e.kind,groupId:e.groupId}))}catch(e){return[]}}async function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{video:!0};if(!r())return{success:!1,error:{name:"NotSupportedError",message:"Camera access is not supported in this browser or requires HTTPS",code:"CAMERA_NOT_SUPPORTED"}};try{let t=await n(),a=await navigator.mediaDevices.getUserMedia(e);return{success:!0,stream:a,permissions:{camera:t||"granted"}}}catch(t){let e={NotAllowedError:{message:"Camera access was denied. Please allow camera permissions in your browser.",code:"PERMISSION_DENIED"},NotFoundError:{message:"No camera was found. Please check if a camera is connected.",code:"NO_CAMERA_FOUND"},NotReadableError:{message:"Camera is already in use by another application.",code:"CAMERA_IN_USE"},OverconstrainedError:{message:"Camera does not support the requested video settings.",code:"UNSUPPORTED_CONSTRAINTS"},AbortError:{message:"Camera access was aborted.",code:"ACCESS_ABORTED"},SecurityError:{message:"Camera access blocked due to security restrictions.",code:"SECURITY_ERROR"}}[t.name]||{message:"Camera access failed: ".concat(t.message),code:"UNKNOWN_ERROR"};return{success:!1,error:{name:t.name,message:e.message,code:e.code}}}}async function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s({...t,video:{deviceId:{exact:e},width:{ideal:1280,min:320},height:{ideal:720,min:240}}})}async function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"medium",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"user",{width:r,height:n}={low:{width:320,height:240},medium:{width:640,height:480},high:{width:1280,height:720},ultra:{width:1920,height:1080}}[e];return s({...t,video:{width:{ideal:r,min:320},height:{ideal:n,min:240},facingMode:a}})}function u(e){e&&e.getTracks().forEach(e=>{e.stop()})}async function d(){var e;let t={supported:r(),secureContext:window.isSecureContext,mediaDevicesSupported:"undefined"!=typeof navigator&&!!navigator.mediaDevices,getUserMediaSupported:"undefined"!=typeof navigator&&!!(null==(e=navigator.mediaDevices)?void 0:e.getUserMedia),permissionStatus:await n(),devices:[],userAgent:"undefined"!=typeof navigator?navigator.userAgent:"SSR",location:window.location.href};return t.supported&&(t.devices=await i()),t}async function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"medium",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o(e,t,"environment")}async function m(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"medium",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o(e,t,"user")}async function v(){return(await i()).filter(e=>{let t=e.label.toLowerCase();return t.includes("back")||t.includes("rear")||t.includes("environment")||t.includes("camera2")||t.includes("facing back")})}async function g(){return(await i()).filter(e=>{let t=e.label.toLowerCase();return t.includes("front")||t.includes("user")||t.includes("selfie")||t.includes("camera0")||t.includes("facing front")||!t.includes("back")&&!t.includes("rear")})}async function f(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"medium";try{let t=await l(e);if(t.success)return t}catch(e){}for(let e of(await v()))try{let t=await c(e.deviceId);if(t.success)return t}catch(e){continue}return h()}async function h(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"user";for(let t of[{video:{width:{ideal:1280},height:{ideal:720},facingMode:e}},{video:{width:{ideal:640},height:{ideal:480},facingMode:e}},{video:{facingMode:e}},{video:!0},{video:{width:320,height:240}}])try{let e=await s(t);if(e.success)return e}catch(e){continue}return s({video:!0})}async function w(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"medium";e&&u(e);let a="user";if(e){let t=e.getVideoTracks()[0];t&&(a=t.getSettings().facingMode||"user")}return o(t,{},"user"===a?"environment":"user")}a.d(t,{Cj:()=>o,D_:()=>h,IK:()=>u,UA:()=>s,Uk:()=>m,W6:()=>r,Z5:()=>i,_Z:()=>v,aI:()=>w,be:()=>c,dJ:()=>d,e:()=>f,iW:()=>g,rx:()=>n,w8:()=>l})},62256:(e,t,a)=>{a.d(t,{Mj:()=>i,Yf:()=>s});var r=a(12115),n=a(10084);function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{autoRequest:t=!1,defaultConstraints:a={video:!0},quality:i="medium",facingMode:s="user",useFallback:c=!0,autoStop:o=!0}=e,[u,d]=(0,r.useState)(null),[l,m]=(0,r.useState)(!1),[v,g]=(0,r.useState)(!1),[f,h]=(0,r.useState)(null),[w,y]=(0,r.useState)([]),[C,p]=(0,r.useState)([]),[k,E]=(0,r.useState)([]),[b,S]=(0,r.useState)(null),[N,R]=(0,r.useState)(null),[_]=(0,r.useState)(()=>"undefined"!=typeof navigator&&(0,n.W6)()),D=(0,r.useRef)(null);(0,r.useEffect)(()=>{D.current=u},[u]);let I=(0,r.useCallback)(()=>{D.current&&((0,n.IK)(D.current),d(null),D.current=null)},[]);(0,r.useEffect)(()=>{if(o)return I},[o,I]);let U=(0,r.useCallback)(async()=>{try{let e=await (0,n.rx)();h(e),g("granted"===e)}catch(e){}},[]),O=(0,r.useCallback)(async()=>{try{let e=await (0,n.Z5)(),t=await (0,n._Z)(),a=await (0,n.iW)();y(e),p(t),E(a)}catch(e){y([]),p([]),E([])}},[]),A=(0,r.useCallback)(async e=>{m(!0),R(null);try{I();let a=await e();if(a.success&&a.stream){var t;d(a.stream),g(!0),h((null==(t=a.permissions)?void 0:t.camera)||"granted"),O()}else R(a.error||null),g(!1);return a}catch(t){let e={name:"UnknownError",message:t instanceof Error?t.message:"Unknown error occurred",code:"UNKNOWN_ERROR"};return R(e),{success:!1,error:e}}finally{m(!1)}},[I,O]),M=(0,r.useCallback)(e=>A(()=>(0,n.UA)(e||a)),[A,a]),T=(0,r.useCallback)(e=>A(()=>(0,n.be)(e)),[A]),q=(0,r.useCallback)((e,t)=>A(()=>(0,n.Cj)(e,{},t||s)),[A,s]),F=(0,r.useCallback)(e=>A(()=>(0,n.D_)(e||s)),[A,s]),P=(0,r.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"medium";return A(()=>(S("environment"),(0,n.w8)(e)))},[A]),W=(0,r.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"medium";return A(()=>(S("user"),(0,n.Uk)(e)))},[A]),x=(0,r.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"medium";return A(()=>(S("environment"),(0,n.e)(e)))},[A]),K=(0,r.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"medium";return A(()=>{let t=(0,n.aI)(D.current,e);return S("user"===b?"environment":"user"),t})},[A,b]),L=(0,r.useCallback)(()=>{I(),g(!1),R(null)},[I]),Z=(0,r.useCallback)(e=>w.find(t=>t.deviceId===e),[w]),j=(0,r.useCallback)(async e=>{if(!Z(e)){let t={name:"NotFoundError",message:"Camera device with ID ".concat(e," not found"),code:"DEVICE_NOT_FOUND"};return R(t),{success:!1,error:t}}return T(e)},[Z,T]);return(0,r.useEffect)(()=>{(async()=>{await U(),await O(),t&&_&&(c?await F():await q(i))})()},[t,_,c,i,U,O,F,q]),(0,r.useEffect)(()=>{let e;if("undefined"!=typeof navigator&&navigator.permissions)return(async()=>{try{e=await navigator.permissions.query({name:"camera"});let t=()=>{h(e.state),g("granted"===e.state),"denied"===e.state&&I()};e.addEventListener("change",t),t()}catch(e){}})(),()=>{e&&e.removeEventListener("change",()=>{})}},[I]),{stream:u,isLoading:l,isSupported:_,hasPermission:v,permissionState:f,devices:w,backCameras:C,frontCameras:k,currentFacingMode:b,error:N,requestPermission:M,requestWithDevice:T,requestWithQuality:q,requestWithFallback:F,requestBackCamera:P,requestFrontCamera:W,requestBackCameraWithFallback:x,switchFacingMode:K,stopCamera:L,refreshDevices:O,checkPermission:U,getDeviceById:Z,switchCamera:j}}function s(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"medium";return i({autoRequest:e,facingMode:"environment",quality:t,useFallback:!0,autoStop:!0})}}}]);