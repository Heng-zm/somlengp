(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3429],{11186:(e,t,s)=>{"use strict";s.d(t,{bq:()=>x,eb:()=>p,gC:()=>f,l6:()=>c,yv:()=>m});var r=s(95155),a=s(12115),l=s(47887),i=s(24033),n=s(12108),o=s(5917),d=s(64269);let c=l.bL;l.YJ;let m=l.WT,x=a.forwardRef((e,t)=>{let{className:s,children:a,...n}=e;return(0,r.jsxs)(l.l9,{ref:t,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...n,children:[a,(0,r.jsx)(l.In,{asChild:!0,children:(0,r.jsx)(i.A,{className:"h-4 w-4 opacity-50"})})]})});x.displayName=l.l9.displayName;let u=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(l.PP,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",s),...a,children:(0,r.jsx)(n.A,{className:"h-4 w-4"})})});u.displayName=l.PP.displayName;let h=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(l.wn,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",s),...a,children:(0,r.jsx)(i.A,{className:"h-4 w-4"})})});h.displayName=l.wn.displayName;let f=a.forwardRef((e,t)=>{let{className:s,children:a,position:i="popper",...n}=e;return(0,r.jsx)(l.ZL,{children:(0,r.jsxs)(l.UC,{ref:t,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:i,...n,children:[(0,r.jsx)(u,{}),(0,r.jsx)(l.LM,{className:(0,d.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,r.jsx)(h,{})]})})});f.displayName=l.UC.displayName,a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(l.JU,{ref:t,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...a})}).displayName=l.JU.displayName;let p=a.forwardRef((e,t)=>{let{className:s,children:a,...i}=e;return(0,r.jsxs)(l.q7,{ref:t,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...i,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(l.VF,{children:(0,r.jsx)(o.A,{className:"h-4 w-4"})})}),(0,r.jsx)(l.p4,{children:a})]})});p.displayName=l.q7.displayName,a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(l.wv,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",s),...a})}).displayName=l.wv.displayName},13005:(e,t,s)=>{Promise.resolve().then(s.bind(s,71840))},17037:(e,t,s)=>{"use strict";s.d(t,{F:()=>n});var r=s(95155),a=s(12115),l=s(59034),i=s(64269);let n=a.forwardRef((e,t)=>{let{className:s,children:a,...n}=e;return(0,r.jsxs)(l.bL,{ref:t,className:(0,i.cn)("relative overflow-hidden",s),...n,children:[(0,r.jsx)(l.LM,{className:"h-full w-full rounded-[inherit]",children:a}),(0,r.jsx)(o,{}),(0,r.jsx)(l.OK,{})]})});n.displayName=l.bL.displayName;let o=a.forwardRef((e,t)=>{let{className:s,orientation:a="vertical",...n}=e;return(0,r.jsx)(l.VM,{ref:t,orientation:a,className:(0,i.cn)("flex touch-none select-none transition-colors","vertical"===a&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===a&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",s),...n,children:(0,r.jsx)(l.lr,{className:"relative flex-1 rounded-full bg-border"})})});o.displayName=l.VM.displayName},65142:(e,t,s)=>{"use strict";s.d(t,{p:()=>i});var r=s(95155),a=s(12115),l=s(64269);let i=a.forwardRef((e,t)=>{let{className:s,type:a,...i}=e;return(0,r.jsx)("input",{type:a,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...i})});i.displayName="Input"},71840:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>z});var r=s(95155),a=s(12115),l=s(52619),i=s.n(l),n=s(39142),o=s(89715),d=s(41805),c=s(69124),m=s(42196),x=s(26667),u=s(80534),h=s(86651),f=s(83457),p=s(39867),j=s(21786),g=s(71360),v=s(35299),N=s(54485),y=s(26983),b=s(3998),w=s(86948),C=s(65142),k=s(11186),A=s(40105),R=s(16449),S=s(50168),L=s(72221),P=s(17037),F=s(15894);let M={"/voice-transcript":n.A,"/pdf-transcript":o.A,"/text-to-speech":d.A,"/combine-pdf":c.A,"/image-to-pdf":m.A,"/convert-image-format":x.A};function z(){let{history:e,isLoaded:t,isLoading:s,error:l,deleteHistoryItem:n,clearHistory:o,toggleFavorite:d,searchHistory:c,getHistoryStats:m,getHistoryByCategory:x,exportHistory:z,importHistory:E}=(0,A.W)(),I=(0,a.useContext)(L.s),{toast:U}=(0,F.dj)(),[V,q]=(0,a.useState)(""),[$,D]=(0,a.useState)("all"),[H,O]=(0,a.useState)("recent"),[Z,T]=(0,a.useState)(!1),[W,_]=(0,a.useState)(!1);if(!I)throw Error("HistoryPage must be used within a LanguageProvider");let{language:J}=I,B=(0,a.useMemo)(()=>S.Wk[J],[J]),G=(0,a.useMemo)(()=>{let t=V?c(V):e;switch("all"!==$&&(t=x($)),Z&&(t=t.filter(e=>e.favorite)),H){case"recent":return[...t].sort((e,t)=>t.lastVisited-e.lastVisited);case"frequent":return[...t].sort((e,t)=>t.count-e.count);case"name":return[...t].sort((e,t)=>e.label.localeCompare(t.label));default:return t}},[e,V,$,Z,H,c,x]),Y=(0,a.useMemo)(()=>Array.from(new Set(e.map(e=>e.category||"General"))).sort(),[e]),K=(0,a.useMemo)(()=>m(),[m]),Q=(0,a.useCallback)(e=>{let t=Date.now()-e,s=Math.floor(t/6e4),r=Math.floor(t/36e5),a=Math.floor(t/864e5);return s<1?"Just now":s<60?"".concat(s,"m ago"):r<24?"".concat(r,"h ago"):a<30?"".concat(a,"d ago"):new Date(e).toLocaleDateString()},[]),X=(0,a.useCallback)((e,t)=>{e.preventDefault(),e.stopPropagation();let s=d(t);U({title:s?"Added to Favorites":"Removed from Favorites",description:s?"Page saved to your favorites":"Page removed from favorites"})},[d,U]),ee=(0,a.useCallback)((e,t)=>{e.preventDefault(),e.stopPropagation(),confirm("Are you sure you want to delete this history item?")&&n(t)&&U({title:"Item Deleted",description:"History item has been removed"})},[n,U]),et=(0,a.useCallback)(()=>{confirm("Are you sure you want to clear all history? This action cannot be undone.")&&(o(),U({title:"History Cleared",description:"All history items have been deleted"}))},[o,U]),es=(0,a.useCallback)(()=>{try{let e=z(),t=new Blob([e],{type:"application/json"}),s=URL.createObjectURL(t),r=document.createElement("a");r.href=s,r.download="history-export-".concat(new Date().toISOString().split("T")[0],".json"),document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(s),U({title:"History Exported",description:"Your history has been downloaded"})}catch(e){U({title:"Export Failed",description:"Failed to export history",variant:"destructive"})}},[z,U]),er=(0,a.useCallback)(e=>{var t;let s=null==(t=e.target.files)?void 0:t[0];if(!s)return;let r=new FileReader;r.onload=e=>{try{var t;let s=null==(t=e.target)?void 0:t.result,r=E(s);r.success?U({title:"Import Successful",description:"Imported ".concat(r.imported," items").concat(r.errors.length>0?" with ".concat(r.errors.length," errors"):"")}):U({title:"Import Failed",description:r.errors.join(", "),variant:"destructive"})}catch(e){U({title:"Import Error",description:"Failed to read the import file",variant:"destructive"})}},r.readAsText(s),e.target.value=""},[E,U]);return l?(0,r.jsx)(R.s,{title:B.history,children:(0,r.jsx)("div",{className:"p-4 md:p-6 h-full flex items-center justify-center",children:(0,r.jsxs)(w.Zp,{className:"p-6 text-center",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-destructive mb-2",children:"Error Loading History"}),(0,r.jsx)("p",{className:"text-muted-foreground mb-4",children:l}),(0,r.jsx)(b.$,{onClick:()=>window.location.reload(),children:"Retry"})]})})}):(0,r.jsx)(R.s,{title:B.history,children:(0,r.jsxs)("div",{className:"p-4 md:p-6 h-full flex flex-col gap-4",children:[W&&(0,r.jsxs)(w.Zp,{children:[(0,r.jsx)(w.aR,{children:(0,r.jsxs)(w.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(u.A,{className:"h-5 w-5"}),"Statistics"]})}),(0,r.jsx)(w.Wu,{children:(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-primary",children:K.totalVisits}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"Total Visits"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:K.uniquePages}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"Unique Pages"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-pink-600",children:K.favoritePages}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"Favorites"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-green-600",children:Object.keys(K.categories).length}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"Categories"})]})]})})]}),(0,r.jsx)(w.Zp,{children:(0,r.jsxs)(w.Wu,{className:"p-4",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:[(0,r.jsxs)("div",{className:"relative flex-1",children:[(0,r.jsx)(h.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,r.jsx)(C.p,{placeholder:"Search history...",value:V,onChange:e=>q(e.target.value),className:"pl-10"})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(k.l6,{value:$,onValueChange:D,children:[(0,r.jsx)(k.bq,{className:"w-40",children:(0,r.jsx)(k.yv,{placeholder:"Category"})}),(0,r.jsxs)(k.gC,{children:[(0,r.jsx)(k.eb,{value:"all",children:"All Categories"}),Y.map(e=>(0,r.jsx)(k.eb,{value:e,children:e},e))]})]}),(0,r.jsxs)(k.l6,{value:H,onValueChange:e=>O(e),children:[(0,r.jsx)(k.bq,{className:"w-32",children:(0,r.jsx)(k.yv,{})}),(0,r.jsxs)(k.gC,{children:[(0,r.jsx)(k.eb,{value:"recent",children:"Recent"}),(0,r.jsx)(k.eb,{value:"frequent",children:"Most Used"}),(0,r.jsx)(k.eb,{value:"name",children:"Name"})]})]})]})]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,r.jsxs)(b.$,{variant:Z?"default":"outline",size:"sm",onClick:()=>T(!Z),children:[(0,r.jsx)(f.A,{className:"h-4 w-4 mr-1 ".concat(Z?"fill-current":"")}),Z?"Show All":"Favorites"]}),(0,r.jsxs)(b.$,{variant:W?"default":"outline",size:"sm",onClick:()=>_(!W),children:[(0,r.jsx)(u.A,{className:"h-4 w-4 mr-1"}),"Stats"]}),(0,r.jsxs)(b.$,{variant:"outline",size:"sm",onClick:es,children:[(0,r.jsx)(p.A,{className:"h-4 w-4 mr-1"}),"Export"]}),(0,r.jsxs)(b.$,{variant:"outline",size:"sm",onClick:()=>{var e;return null==(e=document.getElementById("import-file"))?void 0:e.click()},children:[(0,r.jsx)(j.A,{className:"h-4 w-4 mr-1"}),"Import"]}),e.length>0&&(0,r.jsxs)(b.$,{variant:"outline",size:"sm",onClick:et,className:"text-destructive hover:text-destructive",children:[(0,r.jsx)(g.A,{className:"h-4 w-4 mr-1"}),"Clear All"]})]}),(0,r.jsx)("input",{id:"import-file",type:"file",accept:".json",onChange:er,className:"hidden"})]})}),(0,r.jsx)(w.Zp,{className:"flex-1 flex flex-col",children:s?(0,r.jsx)("div",{className:"flex items-center justify-center flex-1 py-12",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(v.A,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Loading history..."})]})}):t&&0!==G.length?(0,r.jsx)(P.F,{className:"flex-grow",children:(0,r.jsx)(w.Wu,{className:"p-4 space-y-3",children:G.map(e=>{let t=M[e.href]||N.A;return(0,r.jsx)(i(),{href:e.href,children:(0,r.jsx)(w.Zp,{className:"p-4 transition-all hover:shadow-md hover:border-primary/50 cursor-pointer group",children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:"p-3 bg-primary/10 rounded-lg",children:(0,r.jsx)(t,{className:"w-6 h-6 text-primary"})}),(0,r.jsxs)("div",{className:"flex-grow min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,r.jsx)("h4",{className:"font-semibold text-lg truncate",children:e.label}),e.favorite&&(0,r.jsx)(f.A,{className:"h-4 w-4 text-pink-500 fill-current flex-shrink-0"}),e.category&&(0,r.jsx)("span",{className:"px-2 py-1 bg-secondary rounded text-xs text-secondary-foreground flex-shrink-0",children:e.category})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[(0,r.jsxs)("span",{className:"flex items-center gap-1",children:[(0,r.jsx)(y.A,{className:"h-3 w-3"}),Q(e.lastVisited)]}),e.count>1&&(0,r.jsxs)("span",{className:"flex items-center gap-1",children:[(0,r.jsx)(N.A,{className:"h-3 w-3"}),e.count," visits"]})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,r.jsx)(b.$,{variant:"ghost",size:"icon",onClick:t=>X(t,e.id),className:e.favorite?"text-pink-500 hover:text-pink-600":"hover:text-pink-500",children:(0,r.jsx)(f.A,{className:"h-4 w-4 ".concat(e.favorite?"fill-current":"")})}),(0,r.jsx)(b.$,{variant:"ghost",size:"icon",onClick:t=>ee(t,e.id),className:"text-muted-foreground hover:text-destructive",children:(0,r.jsx)(g.A,{className:"h-4 w-4"})})]})]})})},e.id)})})}):(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center text-center p-10 flex-grow",children:[(0,r.jsx)(N.A,{className:"w-16 h-16 text-muted-foreground mb-4"}),(0,r.jsx)("h3",{className:"text-xl font-semibold",children:0===e.length?B.noHistory:"No matches found"}),(0,r.jsx)("p",{className:"text-muted-foreground mt-2",children:0===e.length?"Start using the tools to see your history here.":"Try adjusting your search or filters."}),0===e.length&&(0,r.jsx)(b.$,{asChild:!0,className:"mt-4",children:(0,r.jsx)(i(),{href:"/home",children:"Go to Home"})})]})})]})})}}},e=>{e.O(0,[5848,8861,5624,9701,8779,8405,8116,6335,8995,6699,5021,9290,6073,7708,2432,8585,9592,7940,2652,3719,408,5894,6449,6975,7358],()=>e(e.s=13005)),_N_E=e.O()}]);