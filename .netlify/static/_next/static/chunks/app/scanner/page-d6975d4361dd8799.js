(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7063,7307],{1169:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>et});var r=a(95155),s=a(12115),i=a(54690),n=a(52583),o=a(23327),l=a(1473),c=a(17910),d=a(52056),m=a(30814),h=a(56154),u=a(63581),p=a(52619),x=a.n(p),g=a(3998),f=a(11647),b=a(18332),y=a(86948),w=a(13406),v=a(80991),j=a(58609),N=a(24033),C=a(64269);let R=j.bL,k=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(j.q7,{ref:t,className:(0,C.cn)("border-b",a),...s})});k.displayName="AccordionItem";let S=s.forwardRef((e,t)=>{let{className:a,children:s,...i}=e;return(0,r.jsx)(j.Y9,{className:"flex",children:(0,r.jsxs)(j.l9,{ref:t,className:(0,C.cn)("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",a),...i,children:[s,(0,r.jsx)(N.A,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})})});S.displayName=j.l9.displayName;let A=s.forwardRef((e,t)=>{let{className:a,children:s,...i}=e;return(0,r.jsx)(j.UC,{ref:t,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...i,children:(0,r.jsx)("div",{className:(0,C.cn)("pb-4 pt-0",a),children:s})})});A.displayName=j.UC.displayName;var E=a(47520);let T=E.Kq,D=E.bL,I=E.l9,M=s.forwardRef((e,t)=>{let{className:a,sideOffset:s=4,...i}=e;return(0,r.jsx)(E.UC,{ref:t,sideOffset:s,className:(0,C.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...i})});M.displayName=E.UC.displayName;var L=a(11186),F=a(95664),_=a(6132),Q=a(59e3),U=a(21786),P=a(65229),z=a(48314),B=a(15894),W=a(48370);class O{ensureCanvasElements(){return"undefined"!=typeof document&&(this.canvas&&this.ctx&&this.preprocessingCanvas&&this.preprocessingCtx||(this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.preprocessingCanvas=document.createElement("canvas"),this.preprocessingCtx=this.preprocessingCanvas.getContext("2d")),!!(this.canvas&&this.ctx&&this.preprocessingCanvas&&this.preprocessingCtx))}async detectQRCode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.ensureCanvasElements())return null;let a=performance.now(),{enablePreprocessing:r=!0,enableRotationCorrection:s=!0,enableContrastEnhancement:i=!0,enableBlurReduction:n=!0,maxRetries:o=3,timeoutMs:l=5e3,minQuality:c=.3}=t;try{if(await this.ensureJsQRAvailable(),!window.jsQR)throw Error("jsQR library not loaded after multiple attempts");let t=[()=>this.directDetection(e),...r?[()=>this.detectionWithPreprocessing(e,{enableContrastEnhancement:i,enableBlurReduction:n})]:[],...s?[()=>this.detectionWithRotation(e,r)]:[],()=>this.multiScaleDetection(e),()=>this.regionBasedDetection(e)];for(let e=0;e<o;e++)for(let e=0;e<t.length;e++)try{let r=t[e],s=await Promise.race([r(),new Promise((e,a)=>setTimeout(()=>a(Error("Detection timeout")),l/t.length))]);if(s&&this.isValidQRResult(s,c)){let t=performance.now()-a;return{...s,processingTime:t,strategy:this.getStrategyName(e)}}}catch(e){continue}return null}catch(e){return W.r_.handle(e,{method:"detectQRCode",options:t}),null}}async directDetection(e){try{let t=this.getImageData(e),a=window.jsQR(t.data,t.width,t.height,{inversionAttempts:"attemptBoth"});if(a)return{data:a.data,location:a.location?{topLeftCorner:a.location.topLeftCorner,topRightCorner:a.location.topRightCorner,bottomLeftCorner:a.location.bottomLeftCorner,bottomRightCorner:a.location.bottomRightCorner}:void 0,confidence:this.calculateConfidence(a)};return null}catch(e){return null}}async detectionWithPreprocessing(e,t){try{let a=this.getImageData(e);t.enableContrastEnhancement&&(a=this.enhanceContrast(a)),t.enableBlurReduction&&(a=this.reduceBlur(a)),a=this.toGrayscale(a),a=this.adaptiveThreshold(a);let r=window.jsQR(a.data,a.width,a.height,{inversionAttempts:"attemptBoth"});if(r)return{data:r.data,location:r.location?{topLeftCorner:r.location.topLeftCorner,topRightCorner:r.location.topRightCorner,bottomLeftCorner:r.location.bottomLeftCorner,bottomRightCorner:r.location.bottomRightCorner}:void 0,confidence:this.calculateConfidence(r)};return null}catch(e){return null}}async detectionWithRotation(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];try{for(let a of[0,90,180,270,45,135,225,315]){let r=this.rotateImageData(this.getImageData(e),a);t&&(r=this.enhanceContrast(r),r=this.toGrayscale(r),r=this.adaptiveThreshold(r));let s=window.jsQR(r.data,r.width,r.height,{inversionAttempts:"attemptBoth"});if(s)return{data:s.data,location:s.location?{topLeftCorner:s.location.topLeftCorner,topRightCorner:s.location.topRightCorner,bottomLeftCorner:s.location.bottomLeftCorner,bottomRightCorner:s.location.bottomRightCorner}:void 0,confidence:this.calculateConfidence(s)}}return null}catch(e){return null}}async multiScaleDetection(e){try{for(let t of[1,1.5,2,.75,.5]){let a=this.getImageData(e);1!==t&&(a=this.scaleImageData(a,t)),a=this.enhanceContrast(a),a=this.toGrayscale(a);let r=window.jsQR(a.data,a.width,a.height,{inversionAttempts:"attemptBoth"});if(r)return{data:r.data,location:r.location?{topLeftCorner:r.location.topLeftCorner,topRightCorner:r.location.topRightCorner,bottomLeftCorner:r.location.bottomLeftCorner,bottomRightCorner:r.location.bottomRightCorner}:void 0,confidence:this.calculateConfidence(r)}}return null}catch(e){return null}}async regionBasedDetection(e){try{let t=this.getImageData(e),{width:a,height:r}=t;for(let e of[{x:.25*a,y:.25*r,w:.5*a,h:.5*r},{x:.1*a,y:.1*r,w:.4*a,h:.4*r},{x:.5*a,y:.1*r,w:.4*a,h:.4*r},{x:.1*a,y:.5*r,w:.4*a,h:.4*r},{x:.5*a,y:.5*r,w:.4*a,h:.4*r},{x:0,y:0,w:a,h:r}])try{let a=this.extractRegion(t,e),r=this.toGrayscale(this.enhanceContrast(a)),s=window.jsQR(r.data,r.width,r.height,{inversionAttempts:"attemptBoth"});if(s)return{data:s.data,location:s.location?{topLeftCorner:{x:s.location.topLeftCorner.x+e.x,y:s.location.topLeftCorner.y+e.y},topRightCorner:{x:s.location.topRightCorner.x+e.x,y:s.location.topRightCorner.y+e.y},bottomLeftCorner:{x:s.location.bottomLeftCorner.x+e.x,y:s.location.bottomLeftCorner.y+e.y},bottomRightCorner:{x:s.location.bottomRightCorner.x+e.x,y:s.location.bottomRightCorner.y+e.y}}:void 0,confidence:this.calculateConfidence(s)}}catch(e){continue}return null}catch(e){return null}}getImageData(e){if(e instanceof ImageData)return e;if(e instanceof HTMLCanvasElement)return e.getContext("2d").getImageData(0,0,e.width,e.height);if(!this.canvas||!this.ctx)throw Error("Canvas not available");return this.canvas.width=e instanceof HTMLVideoElement?e.videoWidth:e.naturalWidth||e.width,this.canvas.height=e instanceof HTMLVideoElement?e.videoHeight:e.naturalHeight||e.height,this.ctx.drawImage(e,0,0),this.ctx.getImageData(0,0,this.canvas.width,this.canvas.height)}enhanceContrast(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1.5,a=new Uint8ClampedArray(e.data);for(let e=0;e<a.length;e+=4)for(let r=0;r<3;r++){let s=(a[e+r]-128)*t+128;a[e+r]=Math.max(0,Math.min(255,s))}return new ImageData(a,e.width,e.height)}reduceBlur(e){let t=new Uint8ClampedArray(e.data),{width:a,height:r}=e,s=[0,-1,0,-1,5,-1,0,-1,0];for(let i=1;i<r-1;i++)for(let r=1;r<a-1;r++)for(let n=0;n<3;n++){let o=0;for(let t=-1;t<=1;t++)for(let l=-1;l<=1;l++){let c=((i+t)*a+(r+l))*4+n;o+=e.data[c]*s[(t+1)*3+(l+1)]}t[(i*a+r)*4+n]=Math.max(0,Math.min(255,o))}return new ImageData(t,a,r)}toGrayscale(e){let t=new Uint8ClampedArray(e.data);for(let e=0;e<t.length;e+=4){let a=Math.round(.299*t[e]+.587*t[e+1]+.114*t[e+2]);t[e]=a,t[e+1]=a,t[e+2]=a}return new ImageData(t,e.width,e.height)}adaptiveThreshold(e){let t=new Uint8ClampedArray(e.data),{width:a,height:r}=e;for(let s=0;s<r;s++)for(let i=0;i<a;i++){let n=0,o=0;for(let t=-15;t<=15;t++)for(let l=-15;l<=15;l++){let c=s+t,d=i+l;c>=0&&c<r&&d>=0&&d<a&&(n+=e.data[(c*a+d)*4],o++)}let l=n/o,c=(s*a+i)*4,d=255*(e.data[c]>l-10);t[c]=d,t[c+1]=d,t[c+2]=d}return new ImageData(t,a,r)}rotateImageData(e,t){if(!this.preprocessingCanvas||!this.preprocessingCtx)throw Error("Preprocessing canvas not available");let a=t*Math.PI/180,r=Math.cos(a),s=Math.sin(a),{width:i,height:n}=e,o=Math.ceil(Math.abs(i*r)+Math.abs(n*s)),l=Math.ceil(Math.abs(i*s)+Math.abs(n*r));this.preprocessingCanvas.width=o,this.preprocessingCanvas.height=l;let c=document.createElement("canvas");return c.width=i,c.height=n,c.getContext("2d").putImageData(e,0,0),this.preprocessingCtx.clearRect(0,0,o,l),this.preprocessingCtx.save(),this.preprocessingCtx.translate(o/2,l/2),this.preprocessingCtx.rotate(a),this.preprocessingCtx.drawImage(c,-i/2,-n/2),this.preprocessingCtx.restore(),this.preprocessingCtx.getImageData(0,0,o,l)}scaleImageData(e,t){if(!this.preprocessingCanvas||!this.preprocessingCtx)throw Error("Preprocessing canvas not available");let{width:a,height:r}=e,s=Math.round(a*t),i=Math.round(r*t);this.preprocessingCanvas.width=s,this.preprocessingCanvas.height=i;let n=document.createElement("canvas");return n.width=a,n.height=r,n.getContext("2d").putImageData(e,0,0),this.preprocessingCtx.clearRect(0,0,s,i),this.preprocessingCtx.drawImage(n,0,0,a,r,0,0,s,i),this.preprocessingCtx.getImageData(0,0,s,i)}extractRegion(e,t){let{x:a,y:r,w:s,h:i}=t,{width:n}=e,o=Math.max(0,Math.min(n-1,Math.round(a))),l=Math.max(0,Math.min(e.height-1,Math.round(r))),c=Math.max(1,Math.min(n-o,Math.round(s))),d=Math.max(1,Math.min(e.height-l,Math.round(i))),m=new Uint8ClampedArray(c*d*4);for(let t=0;t<d;t++){let a=((l+t)*n+o)*4,r=t*c*4,s=4*c;m.set(e.data.subarray(a,a+s),r)}return new ImageData(m,c,d)}calculateConfidence(e){if(!e.location)return .5;let{topLeftCorner:t,topRightCorner:a,bottomLeftCorner:r,bottomRightCorner:s}=e.location,i=Math.sqrt(Math.pow(a.x-t.x,2)+Math.pow(a.y-t.y,2)),n=Math.sqrt(Math.pow(s.x-r.x,2)+Math.pow(s.y-r.y,2)),o=Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2)),l=Math.sqrt(Math.pow(s.x-a.x,2)+Math.pow(s.y-a.y,2)),c=(i+n)/2,d=(o+l)/2;return .4*Math.max(0,1-Math.abs(c/d-1))+.4*Math.min(1,Math.sqrt(c*d)/200)+.2*Math.min(1,e.data.length/100)}isValidQRResult(e,t){return!!e&&!!e.data&&!(e.data.length<3)&&(!e.confidence||!(e.confidence<t))}async ensureJsQRAvailable(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;for(let a=0;a<e;a++){if("function"==typeof window.jsQR)return;await new Promise(e=>setTimeout(e,t))}if(!window.jsQR)try{let e=await Promise.all([a.e(8779),a.e(8405),a.e(8116),a.e(6335),a.e(8995),a.e(6699),a.e(5021),a.e(9290),a.e(6073),a.e(7708),a.e(2432),a.e(8585),a.e(9592),a.e(7940),a.e(2652),a.e(3719),a.e(408)]).then(a.t.bind(a,82122,23));window.jsQR=e.default}catch(e){}}getStrategyName(e){let t=["direct","preprocessed","rotation-corrected","multi-scale","region-based"];return t[Math.min(e,t.length-1)]||"unknown"}morphologyOpen(e){let t=new Uint8ClampedArray(e.data),{width:a,height:r}=e,s=this.erode(new ImageData(t,a,r));return this.dilate(s)}erode(e){let t=new Uint8ClampedArray(e.data),{width:a,height:r}=e;for(let s=1;s<r-1;s++)for(let r=1;r<a-1;r++){let i=255;for(let t=-1;t<=1;t++)for(let n=-1;n<=1;n++){let o=((s+t)*a+(r+n))*4;i=Math.min(i,e.data[o])}let n=(s*a+r)*4;t[n]=t[n+1]=t[n+2]=i}return new ImageData(t,a,r)}dilate(e){let t=new Uint8ClampedArray(e.data),{width:a,height:r}=e;for(let s=1;s<r-1;s++)for(let r=1;r<a-1;r++){let i=0;for(let t=-1;t<=1;t++)for(let n=-1;n<=1;n++){let o=((s+t)*a+(r+n))*4;i=Math.max(i,e.data[o])}let n=(s*a+r)*4;t[n]=t[n+1]=t[n+2]=i}return new ImageData(t,a,r)}constructor(){this.canvas=null,this.ctx=null,this.preprocessingCanvas=null,this.preprocessingCtx=null,"undefined"!=typeof document&&(this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.preprocessingCanvas=document.createElement("canvas"),this.preprocessingCtx=this.preprocessingCanvas.getContext("2d"))}}let $=new O;async function q(e,t){return $.detectQRCode(e,t)}async function V(e){let t={fileInfo:{name:e.name,size:e.size,type:e.type},imageInfo:void 0,attempts:[],suggestions:[]};try{let a=await new Promise((t,a)=>{let r=new FileReader;r.onload=e=>{var a;return t(null==(a=e.target)?void 0:a.result)},r.onerror=a,r.readAsDataURL(e)}),r=new Image;await new Promise(e=>{r.onload=()=>e(),r.src=a}),t.imageInfo={width:r.width,height:r.height,aspectRatio:r.width/r.height},e.size>5242880&&t.suggestions.push("Image file is very large. Consider compressing it."),(r.width<200||r.height<200)&&t.suggestions.push("Image is quite small. QR codes work better with higher resolution images."),(r.width>4e3||r.height>4e3)&&t.suggestions.push("Image is very high resolution. Consider resizing to improve processing speed.");try{let e=await q(r,{enablePreprocessing:!1,enableRotationCorrection:!1,enableContrastEnhancement:!1,enableBlurReduction:!1,minQuality:.1,maxRetries:1,timeoutMs:3e3});if(t.attempts.push({strategy:"Direct (no preprocessing)",success:!!e,result:e}),e)return{success:!0,result:e,debug:t}}catch(e){t.attempts.push({strategy:"Direct (no preprocessing)",success:!1,error:String(e)})}try{let e=await q(r,{enablePreprocessing:!0,enableRotationCorrection:!0,enableContrastEnhancement:!0,enableBlurReduction:!0,minQuality:.05,maxRetries:3,timeoutMs:8e3});if(t.attempts.push({strategy:"Enhanced preprocessing",success:!!e,result:e}),e)return{success:!0,result:e,debug:t}}catch(e){t.attempts.push({strategy:"Enhanced preprocessing",success:!1,error:String(e)})}try{let e=await q(r,{enablePreprocessing:!0,enableRotationCorrection:!0,enableContrastEnhancement:!0,enableBlurReduction:!0,minQuality:.01,maxRetries:5,timeoutMs:15e3});if(t.attempts.push({strategy:"Extreme settings",success:!!e,result:e}),e)return{success:!0,result:e,debug:t}}catch(e){t.attempts.push({strategy:"Extreme settings",success:!1,error:String(e)})}return t.attempts.some(e=>e.success)||(t.suggestions.push("No QR code detected. Ensure the image contains a clear, well-lit QR code."),t.suggestions.push("Try taking a new photo with better lighting and focus."),t.suggestions.push("Make sure the QR code takes up a significant portion of the image."),t.suggestions.push("Avoid images with excessive blur, glare, or distortion.")),{success:!1,debug:t}}catch(e){return t.attempts.push({strategy:"File processing",success:!1,error:String(e)}),t.suggestions.push("Failed to process the image file. Please try a different image format (JPG, PNG, WebP)."),{success:!1,debug:t}}}let H=e=>{try{var t,a,r,s,i,n,o,l,c;(0,W.TT)(e,[W.IB.required("QR data is empty or invalid"),W.IB.string("QR data must be a string")],{function:"parseQRData"});let d=e.trim();if(d.match(/^https?:\/\/.+/i))try{return{type:"url",icon:"\uD83D\uDD17",label:"Website URL",data:d,actions:[{label:"Open Link",icon:"\uD83D\uDD17",action:()=>{try{window.open(d,"_blank")}catch(e){throw W.r_.handle(e,{action:"openUrl",url:d}),new W.s7("Failed to open URL",{url:d})}},primary:!0},{label:"Copy URL",icon:"\uD83D\uDCCB",action:async()=>{let e=(0,W.Ae)();if(!await e.writeText(d))throw new W.s7("Failed to copy to clipboard",{data:d})}}]}}catch(e){W.r_.handle(e,{section:"url_detection",data:d})}if(d.match(/^mailto:/i))try{let e=d.match(/mailto:([^?]+)(\?(.+))?/i),r=(null==e?void 0:e[1])||"",s=(null==e?void 0:e[3])||"",i=(null==(t=s.match(/subject=([^&]+)/i))?void 0:t[1])||"",n=(null==(a=s.match(/body=([^&]+)/i))?void 0:a[1])||"";return{type:"email",icon:"\uD83D\uDCE7",label:"Email",data:d,parsed:{email:r,subject:decodeURIComponent(i),body:decodeURIComponent(n)},actions:[{label:"Send Email",icon:"\uD83D\uDCE7",action:()=>{try{window.open(d)}catch(e){throw W.r_.handle(e,{action:"openEmail",email:r}),new W.s7("Failed to open email client",{email:r})}},primary:!0},{label:"Copy Email",icon:"\uD83D\uDCCB",action:async()=>{let e=(0,W.Ae)();if(!await e.writeText(r))throw new W.s7("Failed to copy email to clipboard",{email:r})}}]}}catch(e){W.r_.handle(e,{section:"mailto_detection",data:d})}if(d.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/))try{return{type:"email",icon:"\uD83D\uDCE7",label:"Email Address",data:d,actions:[{label:"Send Email",icon:"\uD83D\uDCE7",action:()=>{try{window.open("mailto:".concat(d))}catch(e){throw W.r_.handle(e,{action:"openEmail",email:d}),new W.s7("Failed to open email client",{email:d})}},primary:!0},{label:"Copy Email",icon:"\uD83D\uDCCB",action:async()=>{let e=(0,W.Ae)();if(!await e.writeText(d))throw new W.s7("Failed to copy email to clipboard",{email:d})}}]}}catch(e){W.r_.handle(e,{section:"email_detection",data:d})}if(d.match(/^tel:/i))try{let e=d.match(/tel:(.+)/i),t=(null==e?void 0:e[1])||"";return{type:"phone",icon:"\uD83D\uDCDE",label:"Phone Number",data:d,parsed:{phone:t},actions:[{label:"Call Number",icon:"\uD83D\uDCDE",action:()=>{try{window.open(d)}catch(e){throw W.r_.handle(e,{action:"openPhone",phone:t}),new W.s7("Failed to initiate phone call",{phone:t})}},primary:!0},{label:"Copy Number",icon:"\uD83D\uDCCB",action:async()=>{let e=(0,W.Ae)();if(!await e.writeText(t))throw new W.s7("Failed to copy phone number to clipboard",{phone:t})}}]}}catch(e){W.r_.handle(e,{section:"tel_detection",data:d})}if(d.match(/^[\+]?[0-9\s\-\(\)]{10,}$/))try{return{type:"phone",icon:"\uD83D\uDCDE",label:"Phone Number",data:d,actions:[{label:"Call Number",icon:"\uD83D\uDCDE",action:()=>{try{window.open("tel:".concat(d))}catch(e){throw W.r_.handle(e,{action:"openPhone",phone:d}),new W.s7("Failed to initiate phone call",{phone:d})}},primary:!0},{label:"Copy Number",icon:"\uD83D\uDCCB",action:async()=>{let e=(0,W.Ae)();if(!await e.writeText(d))throw new W.s7("Failed to copy phone number to clipboard",{phone:d})}}]}}catch(e){W.r_.handle(e,{section:"phone_detection",data:d})}if(d.match(/^sms:/i))try{let e=d.match(/sms:([^?]+)(\?(.+))?/i),t=(null==e?void 0:e[1])||"",a=(null==(r=((null==e?void 0:e[3])||"").match(/body=([^&]+)/i))?void 0:r[1])||"";return{type:"sms",icon:"\uD83D\uDCAC",label:"SMS Message",data:d,parsed:{number:t,message:decodeURIComponent(a)},actions:[{label:"Send SMS",icon:"\uD83D\uDCAC",action:()=>{try{window.open(d)}catch(e){throw W.r_.handle(e,{action:"openSMS",number:t}),new W.s7("Failed to open SMS app",{number:t})}},primary:!0},{label:"Copy Number",icon:"\uD83D\uDCCB",action:async()=>{let e=(0,W.Ae)();if(!await e.writeText(t))throw new W.s7("Failed to copy phone number to clipboard",{number:t})}}]}}catch(e){W.r_.handle(e,{section:"sms_detection",data:d})}if(d.match(/^WIFI:/i))try{let e=d.match(/WIFI:T:([^;]*);S:([^;]*);P:([^;]*);H:([^;]*);?/i);if(e){let t=e[1]||"NONE",a=e[2]||"",r=e[3]||"",s="true"===e[4];return{type:"wifi",icon:"\uD83D\uDCF6",label:"WiFi Network",data:d,parsed:{ssid:a,password:r,security:t,hidden:s},actions:[{label:"Copy Password",icon:"\uD83D\uDD11",action:async()=>{let e=(0,W.Ae)();if(!await e.writeText(r))throw new W.s7("Failed to copy WiFi password to clipboard",{ssid:a})},primary:!0},{label:"Copy Network Name",icon:"\uD83D\uDCCB",action:async()=>{let e=(0,W.Ae)();if(!await e.writeText(a))throw new W.s7("Failed to copy network name to clipboard",{ssid:a})}}]}}}catch(e){W.r_.handle(e,{section:"wifi_detection",data:d})}if(d.match(/^BEGIN:VCARD/i))try{let e={},t=d.match(/FN:(.+)/i);t&&(e.name=t[1].trim());let a=d.match(/TEL:(.+)/i);a&&(e.phone=a[1].trim());let r=d.match(/EMAIL:(.+)/i);r&&(e.email=r[1].trim());let s=d.match(/ORG:(.+)/i);s&&(e.organization=s[1].trim());let i=d.match(/TITLE:(.+)/i);i&&(e.title=i[1].trim());let n=d.match(/URL:(.+)/i);n&&(e.url=n[1].trim());let o=[{label:"Copy Contact",icon:"\uD83D\uDC64",action:async()=>{let e=(0,W.Ae)();if(!await e.writeText(d))throw new W.s7("Failed to copy contact to clipboard")},primary:!0}];return e.phone&&o.push({label:"Call",icon:"\uD83D\uDCDE",action:()=>{try{window.open("tel:".concat(e.phone))}catch(t){throw W.r_.handle(t,{action:"callContact",phone:e.phone}),new W.s7("Failed to initiate call",{phone:e.phone})}}}),e.email&&o.push({label:"Email",icon:"\uD83D\uDCE7",action:()=>{try{window.open("mailto:".concat(e.email))}catch(t){throw W.r_.handle(t,{action:"emailContact",email:e.email}),new W.s7("Failed to open email client",{email:e.email})}}}),{type:"contact",icon:"\uD83D\uDC64",label:"Contact Card",data:d,parsed:e,actions:o}}catch(e){W.r_.handle(e,{section:"vcard_detection",data:d})}if(d.match(/^geo:/i))try{let e=d.match(/geo:([^,]+),([^?]+)(\?(.+))?/i);if(e){let t=parseFloat(e[1]||"0"),a=parseFloat(e[2]||"0"),r=e[4]||"";return{type:"geo",icon:"\uD83D\uDCCD",label:"Location",data:d,parsed:{latitude:t,longitude:a,query:r},actions:[{label:"Open in Maps",icon:"\uD83D\uDDFA️",action:()=>{try{window.open("https://maps.google.com/?q=".concat(t,",").concat(a))}catch(e){throw W.r_.handle(e,{action:"openMap",latitude:t,longitude:a}),new W.s7("Failed to open map",{latitude:t,longitude:a})}},primary:!0},{label:"Copy Coordinates",icon:"\uD83D\uDCCB",action:async()=>{let e=(0,W.Ae)();if(!await e.writeText("".concat(t,", ").concat(a)))throw new W.s7("Failed to copy coordinates to clipboard",{latitude:t,longitude:a})}}]}}}catch(e){W.r_.handle(e,{section:"geo_detection",data:d})}if(d.match(/^(bitcoin|btc):/i))try{let e=d.match(/^(bitcoin|btc):([^?]+)(\?(.+))?/i);if(e){let t=e[2],a=e[4]||"",r=(null==(s=a.match(/amount=([^&]+)/i))?void 0:s[1])||void 0,o=(null==(i=a.match(/label=([^&]+)/i))?void 0:i[1])||void 0,l=(null==(n=a.match(/message=([^&]+)/i))?void 0:n[1])||void 0;return{type:"crypto",icon:"₿",label:"Bitcoin Payment",data:d,parsed:{type:"bitcoin",address:t,amount:r?parseFloat(r):void 0,label:o?decodeURIComponent(o):void 0,message:l?decodeURIComponent(l):void 0},actions:[{label:"Open Bitcoin Wallet",icon:"₿",action:()=>{try{window.open(d)}catch(e){throw W.r_.handle(e,{action:"openBitcoin",address:t}),new W.s7("Failed to open Bitcoin wallet",{address:t})}},primary:!0},{label:"Copy Address",icon:"\uD83D\uDCCB",action:async()=>{let e=(0,W.Ae)();if(!await e.writeText(t))throw new W.s7("Failed to copy Bitcoin address to clipboard",{address:t})}}]}}}catch(e){W.r_.handle(e,{section:"bitcoin_detection",data:d})}if(d.match(/^ethereum:/i)||d.match(/^0x[a-fA-F0-9]{40}$/))try{let e,t,a,r="";if(d.startsWith("ethereum:")){let s=d.match(/^ethereum:([^?@]+)(?:@[^?]+)?(\?(.+))?/i);if(s){r=s[1];let i=s[3]||"";e=null==(o=i.match(/value=([^&]+)/i))?void 0:o[1],t=null==(l=i.match(/label=([^&]+)/i))?void 0:l[1],a=null==(c=i.match(/message=([^&]+)/i))?void 0:c[1]}}else r=d;return{type:"crypto",icon:"Ξ",label:"Ethereum Address",data:d,parsed:{type:"ethereum",address:r,amount:e?parseFloat(e):void 0,label:t?decodeURIComponent(t):void 0,message:a?decodeURIComponent(a):void 0},actions:[{label:"Open Ethereum Wallet",icon:"Ξ",action:()=>{try{let e=d.startsWith("ethereum:")?d:"ethereum:".concat(d);window.open(e)}catch(e){throw W.r_.handle(e,{action:"openEthereum",address:r}),new W.s7("Failed to open Ethereum wallet",{address:r})}},primary:!0},{label:"Copy Address",icon:"\uD83D\uDCCB",action:async()=>{let e=(0,W.Ae)();if(!await e.writeText(r))throw new W.s7("Failed to copy Ethereum address to clipboard",{address:r})}}]}}catch(e){W.r_.handle(e,{section:"ethereum_detection",data:d})}for(let{pattern:e,platform:t,icon:a}of[{pattern:/^https?:\/\/(www\.)?(twitter\.com|x\.com)\/([^\/?]+)/i,platform:"twitter",icon:"\uD83D\uDC26"},{pattern:/^https?:\/\/(www\.)?instagram\.com\/([^\/?]+)/i,platform:"instagram",icon:"\uD83D\uDCF8"},{pattern:/^https?:\/\/(www\.)?facebook\.com\/([^\/?]+)/i,platform:"facebook",icon:"\uD83D\uDC64"},{pattern:/^https?:\/\/(www\.)?linkedin\.com\/(in|company)\/([^\/?]+)/i,platform:"linkedin",icon:"\uD83D\uDCBC"},{pattern:/^https?:\/\/(www\.)?tiktok\.com\/@([^\/?]+)/i,platform:"tiktok",icon:"\uD83C\uDFB5"},{pattern:/^https?:\/\/(www\.)?snapchat\.com\/(add|u)\/([^\/?]+)/i,platform:"snapchat",icon:"\uD83D\uDC7B"},{pattern:/^https?:\/\/(wa\.me|whatsapp\.com)\/([^\/?]+)/i,platform:"whatsapp",icon:"\uD83D\uDCAC"},{pattern:/^https?:\/\/(t\.me|telegram\.me)\/([^\/?]+)/i,platform:"telegram",icon:"✈️"},{pattern:/^https?:\/\/(discord\.gg|discord\.com\/invite)\/([^\/?]+)/i,platform:"discord",icon:"\uD83C\uDFAE"}]){let r=d.match(e);if(r){try{let e=r[3]||r[2]||"";return{type:"social",icon:a,label:"".concat(t.charAt(0).toUpperCase()+t.slice(1)," Profile"),data:d,parsed:{platform:t,username:e,url:d},actions:[{label:"Open ".concat(t.charAt(0).toUpperCase()+t.slice(1)),icon:a,action:()=>{try{window.open(d,"_blank")}catch(e){throw W.r_.handle(e,{action:"openSocial",platform:t,url:d}),new W.s7("Failed to open ".concat(t),{url:d})}},primary:!0},{label:"Copy Profile Link",icon:"\uD83D\uDCCB",action:async()=>{let e=(0,W.Ae)();if(!await e.writeText(d))throw new W.s7("Failed to copy profile link to clipboard",{url:d})}},{label:"Copy Username",icon:"\uD83D\uDC64",action:async()=>{let t=(0,W.Ae)();if(!await t.writeText(e))throw new W.s7("Failed to copy username to clipboard",{username:e})}}]}}catch(e){W.r_.handle(e,{section:"social_detection",platform:t,data:d})}break}}for(let{pattern:e,platform:t,icon:a}of[{pattern:/^https?:\/\/apps\.apple\.com\/.*\/app\/([^\/]+)\/id(\d+)/i,platform:"ios",icon:"\uD83D\uDCF1"},{pattern:/^https?:\/\/itunes\.apple\.com\/.*\/app\/([^\/]+)\/id(\d+)/i,platform:"ios",icon:"\uD83D\uDCF1"},{pattern:/^https?:\/\/play\.google\.com\/store\/apps\/details\?id=([^&]+)/i,platform:"android",icon:"\uD83E\uDD16"},{pattern:/^https?:\/\/www\.microsoft\.com\/.*\/p\/([^\/]+)\/(\w+)/i,platform:"windows",icon:"\uD83E\uDE9F"},{pattern:/^https?:\/\/apps\.microsoft\.com\/.*\/detail\/([^\/]+)\/(\w+)/i,platform:"windows",icon:"\uD83E\uDE9F"}]){let r=d.match(e);if(r){try{let e=r[2]||r[1],s=r[1].replace(/[-_]/g," ");return{type:"app",icon:a,label:"".concat(t.charAt(0).toUpperCase()+t.slice(1)," App"),data:d,parsed:{platform:t,identifier:e,name:s,url:d},actions:[{label:"Open in App Store",icon:a,action:()=>{try{window.open(d,"_blank")}catch(e){throw W.r_.handle(e,{action:"openAppStore",platform:t,url:d}),new W.s7("Failed to open app store",{url:d})}},primary:!0},{label:"Copy App Link",icon:"\uD83D\uDCCB",action:async()=>{let e=(0,W.Ae)();if(!await e.writeText(d))throw new W.s7("Failed to copy app link to clipboard",{url:d})}}]}}catch(e){W.r_.handle(e,{section:"app_detection",platform:t,data:d})}break}}for(let{pattern:e,type:t,icon:a}of[{pattern:/^https?:\/\/(www\.)?paypal\.(me|com)\/([^\/?]+)/i,type:"paypal",icon:"\uD83D\uDCB3"},{pattern:/^https?:\/\/venmo\.com\/([^\/?]+)/i,type:"venmo",icon:"\uD83D\uDCB8"},{pattern:/^https?:\/\/(cash\.app|\$)([^\/?]+)/i,type:"cashapp",icon:"\uD83D\uDCB0"}]){let r=d.match(e);if(r){try{let e=r[3]||r[2]||r[1];return{type:"payment",icon:a,label:"".concat(t.charAt(0).toUpperCase()+t.slice(1)," Payment"),data:d,parsed:{type:t,recipient:e,url:d},actions:[{label:"Send ".concat(t.charAt(0).toUpperCase()+t.slice(1)," Payment"),icon:a,action:()=>{try{window.open(d,"_blank")}catch(e){throw W.r_.handle(e,{action:"openPayment",type:t,url:d}),new W.s7("Failed to open ".concat(t),{url:d})}},primary:!0},{label:"Copy Payment Link",icon:"\uD83D\uDCCB",action:async()=>{let e=(0,W.Ae)();if(!await e.writeText(d))throw new W.s7("Failed to copy payment link to clipboard",{url:d})}}]}}catch(e){W.r_.handle(e,{section:"payment_detection",type:t,data:d})}break}}if(d.match(/^https?:\/\/.+/i)){for(let{pattern:e,type:t,icon:a}of[{pattern:/\.(pdf)(\?|$|#)/i,type:"pdf",icon:"\uD83D\uDCC4"},{pattern:/\.(docx?|odt)(\?|$|#)/i,type:"doc",icon:"\uD83D\uDCDD"},{pattern:/\.(xlsx?|ods|csv)(\?|$|#)/i,type:"spreadsheet",icon:"\uD83D\uDCCA"},{pattern:/\.(pptx?|odp)(\?|$|#)/i,type:"presentation",icon:"\uD83D\uDCFD️"}])if(d.match(e)){try{return{type:"document",icon:a,label:"".concat(t.toUpperCase()," Document"),data:d,parsed:{type:t,url:d},actions:[{label:"Open Document",icon:a,action:()=>{try{window.open(d,"_blank")}catch(e){throw W.r_.handle(e,{action:"openDocument",type:t,url:d}),new W.s7("Failed to open document",{url:d})}},primary:!0},{label:"Copy Document Link",icon:"\uD83D\uDCCB",action:async()=>{let e=(0,W.Ae)();if(!await e.writeText(d))throw new W.s7("Failed to copy document link to clipboard",{url:d})}},{label:"Download Document",icon:"⬇️",action:()=>{try{let e=document.createElement("a");e.href=d,e.download="",document.body.appendChild(e),e.click(),document.body.removeChild(e)}catch(e){throw W.r_.handle(e,{action:"downloadDocument",url:d}),new W.s7("Failed to download document",{url:d})}}}]}}catch(e){W.r_.handle(e,{section:"document_detection",type:t,data:d})}break}}if(d.match(/^BEGIN:VEVENT/i))try{let e={},t=d.match(/SUMMARY:(.+)/i);t&&(e.summary=t[1].trim());let a=d.match(/LOCATION:(.+)/i);a&&(e.location=a[1].trim());let r=d.match(/DESCRIPTION:(.+)/i);return r&&(e.description=r[1].trim()),{type:"event",icon:"\uD83D\uDCC5",label:"Calendar Event",data:d,parsed:e,actions:[{label:"Add to Calendar",icon:"\uD83D\uDCC5",action:()=>{try{let e=new Blob([d],{type:"text/calendar"}),t=URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.download="event.ics",document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(t)}catch(t){throw W.r_.handle(t,{action:"downloadCalendarEvent",eventSummary:e.summary}),new W.s7("Failed to download calendar event",{eventSummary:e.summary})}},primary:!0},{label:"Copy Event",icon:"\uD83D\uDCCB",action:async()=>{let t=(0,W.Ae)();if(!await t.writeText(d))throw new W.s7("Failed to copy event to clipboard",{eventSummary:e.summary})}}]}}catch(e){W.r_.handle(e,{section:"calendar_detection",data:d})}return{type:"text",icon:"\uD83D\uDCC4",label:"Text",data:d,actions:[{label:"Copy Text",icon:"\uD83D\uDCCB",action:async()=>{let e=(0,W.Ae)();if(!await e.writeText(d))throw new W.s7("Failed to copy text to clipboard")},primary:!0},{label:"Search Online",icon:"\uD83D\uDD0D",action:()=>{try{window.open("https://www.google.com/search?q=".concat(encodeURIComponent(d)))}catch(e){throw W.r_.handle(e,{action:"searchText",text:d}),new W.s7("Failed to perform web search",{text:d})}}}]}}catch(t){return W.r_.handle(t,{function:"parseQRData",data:e}),{type:"text",icon:"⚠️",label:"Error Parsing QR Code",data:"string"==typeof e?e:"Invalid QR Data",actions:[{label:"Copy Raw Data",icon:"\uD83D\uDCCB",action:async()=>{let t=(0,W.Ae)();await t.writeText("string"==typeof e?e:"Invalid QR Data")},primary:!0}]}}},G=e=>{try{return({url:"blue",email:"green",phone:"purple",sms:"cyan",wifi:"orange",contact:"pink",text:"gray",geo:"red",event:"yellow",crypto:"amber",social:"indigo",app:"emerald",payment:"rose",identity:"violet",document:"slate"})[e]||"gray"}catch(t){return W.r_.handle(t,{function:"getQRTypeColor",type:e}),"gray"}};var Z=a(62256),J=a(27063);function Y(e){let{onClose:t,onScanSuccess:a,onScanError:i,autoStart:o=!1,showResults:l=!0}=e,[c,d]=(0,s.useState)(!1),[m,h]=(0,s.useState)(null),[u,p]=(0,s.useState)(!1),[x,b]=(0,s.useState)(""),[y,w]=(0,s.useState)(0),[v,j]=(0,s.useState)(!1),N=(0,s.useRef)(null),C=(0,s.useRef)(null),R=(0,s.useRef)(null),k=(0,s.useRef)(null),S=(0,s.useRef)(null),A=(0,s.useRef)(!0),{toast:E}=(0,B.dj)(),{stream:T,isLoading:D,isSupported:I,hasPermission:M,error:L,requestBackCameraWithFallback:W,stopCamera:O}=(0,Z.Yf)(o,"high");(0,s.useEffect)(()=>(A.current=!0,j(!0),()=>{A.current=!1,S.current&&clearTimeout(S.current),O()}),[O]);let $=(0,s.useCallback)(async()=>{if(c&&N.current&&A.current){try{performance.now(),w(e=>e+1);let e=await q(N.current,{enablePreprocessing:!0,enableRotationCorrection:!0,enableContrastEnhancement:!0,enableBlurReduction:!0,minQuality:.5,maxRetries:2,timeoutMs:1e3});if(e&&e.data!==x)try{let t=H(e.data),r={id:"scan-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),timestamp:new Date,detectionResult:e,parsedData:t};b(e.data),h(r),d(!1),l&&p(!0),Y(e),null==a||a(e,t),E({title:"QR Code Detected!",description:"".concat(t.type,": ").concat(t.label)})}catch(e){null==i||i("Failed to parse QR code data")}}catch(e){y%10==0&&(null==i||i("QR code scanning failed"))}c&&A.current&&(S.current=setTimeout(()=>{A.current&&requestAnimationFrame($)},100))}},[c,x,y,a,i,l,E]),Y=(0,s.useCallback)(e=>{if(!R.current||!N.current)return;let t=R.current,a=N.current,r=t.getContext("2d");if(!r||!e.location)return;t.width=a.videoWidth,t.height=a.videoHeight,r.clearRect(0,0,t.width,t.height);let{topLeftCorner:s,topRightCorner:i,bottomLeftCorner:n,bottomRightCorner:o}=e.location;r.strokeStyle="#00ff00",r.lineWidth=4,r.beginPath(),r.moveTo(s.x,s.y),r.lineTo(i.x,i.y),r.lineTo(o.x,o.y),r.lineTo(n.x,n.y),r.closePath(),r.stroke();let l=(e,t)=>{r.fillStyle="#00ff00",r.fillRect(e-6,t-6,12,12),r.fillStyle="#ffffff",r.fillRect(e-3,t-3,6,6)};l(s.x,s.y),l(i.x,i.y),l(n.x,n.y),l(o.x,o.y);let c=(s.x+o.x)/2,d=s.y-20;r.fillStyle="#00ff00",r.font="bold 18px Arial",r.textAlign="center",r.fillText("✓ DETECTED",c,d),setTimeout(()=>{A.current&&r&&r.clearRect(0,0,t.width,t.height)},3e3)},[]),K=(0,s.useCallback)(async()=>{try{let e=await W("high");e.success?(d(!0),w(0),b(""),E({title:"Scanner Started",description:"Point your camera at a QR code"})):e.error&&E({title:"Camera Error",description:e.error.message,variant:"destructive"})}catch(e){null==i||i("Failed to start camera")}},[W,E,i]),X=(0,s.useCallback)(()=>{d(!1),O(),E({title:"Scanner Stopped",description:m?"QR code detected successfully":"Scanning stopped"})},[O,m,E]),ee=(0,s.useCallback)(()=>{if(h(null),p(!1),b(""),w(0),R.current){let e=R.current.getContext("2d");e&&e.clearRect(0,0,R.current.width,R.current.height)}},[]);(0,s.useEffect)(()=>{if(N.current&&T){let e=N.current;e.srcObject=T;let t=()=>{A.current&&o&&setTimeout(()=>{A.current&&!c&&(d(!0),requestAnimationFrame($))},500)};return e.addEventListener("loadedmetadata",t),()=>{e.removeEventListener("loadedmetadata",t)}}},[T,o,$,c]);let et=(0,s.useCallback)(e=>{var t;let r=null==(t=e.target.files)?void 0:t[0];if(r){if(!r.type.startsWith("image/"))return void E({title:"Invalid File",description:"Please select an image file",variant:"destructive"});(async()=>{try{let t=await new Promise((e,t)=>{let a=new FileReader;a.onload=t=>{var a;return e(null==(a=t.target)?void 0:a.result)},a.onerror=t,a.readAsDataURL(r)}),s=new Image;await new Promise(e=>{s.onload=()=>e(),s.src=t});let n=await V(r),o=n.success?n.result:null;if(o){let e=H(o.data),t={id:"upload-".concat(Date.now()),timestamp:new Date,detectionResult:o,parsedData:e};h(t),l&&p(!0),null==a||a(o,e),E({title:"QR Code Found!",description:"".concat(e.type,": ").concat(e.label)})}else{var e;let t=((null==(e=n.debug)?void 0:e.suggestions)||[])[0]||"Please ensure the image contains a clear, well-lit QR code.";E({title:"No QR Code Found",description:t,variant:"destructive"}),null==i||i("No QR code found in image: ".concat(t))}}catch(e){E({title:"Processing Failed",description:"Could not process the uploaded image",variant:"destructive"}),null==i||i("Failed to process uploaded image")}})()}},[a,i,l,E]);return(0,r.jsxs)("div",{className:"relative w-full h-full bg-gradient-to-br from-slate-900 via-gray-900 to-black text-white",children:[(0,r.jsx)("div",{className:"relative w-full h-full overflow-hidden",children:T&&(c||m)?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("video",{ref:N,autoPlay:!0,playsInline:!0,muted:!0,className:"absolute inset-0 w-full h-full object-cover bg-black"}),(0,r.jsx)("canvas",{ref:R,className:"absolute inset-0 w-full h-full object-cover pointer-events-none",style:{mixBlendMode:"screen"}}),c&&(0,r.jsxs)("div",{className:"absolute inset-0 pointer-events-none",children:[(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,r.jsx)("div",{className:"relative",children:(0,r.jsxs)("div",{className:"w-64 h-64 border-4 border-blue-500/50 rounded-2xl relative",children:[(0,r.jsxs)("div",{className:"absolute -inset-2",children:[(0,r.jsx)("div",{className:"absolute top-0 left-0 w-8 h-8 border-l-4 border-t-4 border-blue-400"}),(0,r.jsx)("div",{className:"absolute top-0 right-0 w-8 h-8 border-r-4 border-t-4 border-blue-400"}),(0,r.jsx)("div",{className:"absolute bottom-0 left-0 w-8 h-8 border-l-4 border-b-4 border-blue-400"}),(0,r.jsx)("div",{className:"absolute bottom-0 right-0 w-8 h-8 border-r-4 border-b-4 border-blue-400"})]}),(0,r.jsx)("div",{className:"absolute inset-x-0 top-0 h-1 bg-gradient-to-r from-transparent via-blue-400 to-transparent animate-pulse"})]})})}),(0,r.jsx)("div",{className:"absolute top-6 left-1/2 transform -translate-x-1/2",children:(0,r.jsx)("div",{className:"bg-black/80 backdrop-blur-md rounded-2xl px-6 py-3 border border-blue-500/30",children:(0,r.jsxs)("div",{className:"flex items-center gap-3 text-white",children:[(0,r.jsx)(n.A,{className:"h-5 w-5 text-blue-400 animate-pulse"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-semibold",children:"Scanning for QR Code"}),(0,r.jsx)("p",{className:"text-xs text-blue-300",children:y>0&&"".concat(y," attempts")})]})]})})})]})]}):(0,r.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,r.jsx)("div",{className:"text-center space-y-6",children:D?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"w-24 h-24 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full flex items-center justify-center mx-auto animate-pulse",children:(0,r.jsx)(F.A,{className:"h-12 w-12 text-white animate-bounce"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-white text-2xl font-bold",children:"Starting Scanner..."}),(0,r.jsx)("p",{className:"text-gray-400 text-lg",children:"Preparing camera for QR detection"})]})]}):L?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"w-24 h-24 bg-red-600 rounded-full flex items-center justify-center mx-auto",children:(0,r.jsx)(_.A,{className:"h-12 w-12 text-white"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-white text-2xl font-bold",children:"Camera Error"}),(0,r.jsx)("p",{className:"text-red-400 text-lg max-w-md mx-auto",children:L.message})]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"w-28 h-28 bg-gradient-to-br from-gray-700 to-gray-800 rounded-full flex items-center justify-center mx-auto border border-gray-600",children:(0,r.jsx)(n.A,{className:"h-14 w-14 text-blue-400"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-white text-3xl font-bold",children:"QR Scanner Ready"}),(0,r.jsx)("p",{className:"text-gray-400 text-lg max-w-sm mx-auto leading-relaxed",children:"Scan QR codes using your camera or upload an image"})]})]})})})}),(0,r.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black/80 via-black/50 to-transparent",children:T&&c?(0,r.jsxs)("div",{className:"flex items-center justify-center gap-4",children:[(0,r.jsxs)(g.$,{onClick:X,className:"bg-gradient-to-r from-red-600 to-red-500 hover:from-red-700 hover:to-red-600 px-8 py-4 text-lg font-bold rounded-2xl",children:[(0,r.jsx)(Q.A,{className:"h-6 w-6 mr-3"}),"Stop Scanning"]}),(0,r.jsxs)(g.$,{onClick:()=>{var e;return null==(e=k.current)?void 0:e.click()},variant:"outline",className:"border-2 border-white/30 text-white hover:bg-white/10 px-6 py-4 text-lg rounded-2xl",children:[(0,r.jsx)(U.A,{className:"h-6 w-6 mr-3"}),"Upload Image"]})]}):(0,r.jsxs)("div",{className:"space-y-4",children:[v&&I&&(0,r.jsxs)(g.$,{onClick:K,disabled:D,className:"w-full bg-gradient-to-r from-blue-600 via-purple-600 to-blue-600 hover:from-blue-700 hover:via-purple-700 hover:to-blue-700 py-6 text-xl font-bold rounded-2xl",children:[(0,r.jsx)(F.A,{className:"h-7 w-7 mr-3"}),D?"Starting Scanner...":"Start Camera Scan"]}),(0,r.jsxs)(g.$,{onClick:()=>{var e;return null==(e=k.current)?void 0:e.click()},variant:"outline",className:"w-full border-2 border-white/30 text-white hover:bg-white/10 py-5 text-lg font-bold rounded-2xl",children:[(0,r.jsx)(U.A,{className:"h-6 w-6 mr-3"}),"Upload QR Code Image"]})]})}),t&&(0,r.jsx)("div",{className:"absolute top-4 right-4",children:(0,r.jsx)(g.$,{variant:"ghost",size:"icon",onClick:t,className:"text-white hover:bg-white/10 rounded-full",children:(0,r.jsx)(P.A,{className:"h-6 w-6"})})}),m&&(0,r.jsx)("div",{className:"absolute top-4 left-4",children:(0,r.jsxs)(g.$,{variant:"outline",size:"sm",onClick:ee,className:"border-white/20 text-white hover:bg-white/10",children:[(0,r.jsx)(z.A,{className:"h-4 w-4 mr-2"}),"Scan Again"]})}),l&&(0,r.jsx)(J.Sheet,{open:u,onOpenChange:p,children:(0,r.jsxs)(J.SheetContent,{side:"bottom",className:"flex flex-col h-auto max-h-[85vh] rounded-t-3xl border-0 bg-gradient-to-b from-white via-white to-gray-50/80 backdrop-blur-xl shadow-2xl",children:[(0,r.jsxs)(J.SheetHeader,{className:"pb-4 pt-2",children:[(0,r.jsx)("div",{className:"w-12 h-1.5 bg-gray-300 rounded-full mx-auto mb-4 opacity-60"}),(0,r.jsx)(J.SheetTitle,{className:"text-center text-2xl font-bold bg-gradient-to-r from-green-600 via-blue-600 to-purple-600 bg-clip-text text-transparent",children:"\uD83C\uDF89 QR Code Scanned!"})]}),m&&(0,r.jsx)("div",{className:"flex-1 overflow-y-auto p-4",children:(0,r.jsx)("div",{className:"space-y-6",children:(0,r.jsxs)("div",{className:"bg-gradient-to-r from-gray-50/80 to-gray-100/60 backdrop-blur-sm rounded-2xl p-5 border border-gray-100",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,r.jsxs)(f.E,{variant:"secondary",className:"bg-".concat(G(m.parsedData.type),"-600/20 text-").concat(G(m.parsedData.type),"-700 border-").concat(G(m.parsedData.type),"-600/30"),children:[m.parsedData.icon," ",m.parsedData.type]}),(0,r.jsxs)("span",{className:"text-xs text-gray-500",children:[m.detectionResult.processingTime.toFixed(0),"ms"]})]}),(0,r.jsx)("h4",{className:"font-semibold text-gray-800 mb-2",children:m.parsedData.label}),(0,r.jsx)("p",{className:"text-sm text-gray-600 break-all mb-4 bg-white/60 p-3 rounded-xl",children:m.detectionResult.data}),(0,r.jsxs)("div",{className:"flex gap-3 flex-wrap",children:[(0,r.jsx)(g.$,{size:"sm",onClick:()=>{navigator.clipboard.writeText(m.detectionResult.data),E({title:"Copied to clipboard"})},className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Copy Data"}),m.parsedData.actions.map((e,t)=>(0,r.jsx)(g.$,{size:"sm",onClick:e.action,variant:"outline",className:"border-gray-300 hover:bg-gray-100",children:e.label},t))]})]})})})]})}),(0,r.jsx)("input",{ref:k,type:"file",accept:"image/*",onChange:et,className:"hidden"}),(0,r.jsx)("canvas",{ref:C,className:"hidden"})]})}var K=a(30926);let X=(0,K.createServerReference)("408525860a195d13e007eb2113e08d11b8b7ae14ac",K.callServer,void 0,K.findSourceMapURL,"analyzeQRContent");var ee=a(16449);function et(){let[e,t]=(0,s.useState)(!1),[a,p]=(0,s.useState)(null),[j,N]=(0,s.useState)([]),[C,E]=(0,s.useState)(!1),[F,_]=(0,s.useState)("all"),[Q,U]=(0,s.useState)("security"),{toast:P}=(0,B.dj)(),z=(0,s.useCallback)(async(e,a)=>{let r={id:"scan-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),timestamp:new Date,detectionResult:e,parsedData:a};t(!0),E(!0);try{let t=await X({content:e.data,type:a.type,context:{scanTime:Date.now(),userPreferences:{strictSecurity:!1,categories:[]}}});p(t),N(e=>[{scanResult:r,analysis:t},...e].slice(0,10)),P({title:"Analysis Complete",description:"Security Level: ".concat(t.security.riskLevel.toUpperCase()),variant:"high"===t.security.riskLevel||"critical"===t.security.riskLevel?"destructive":"default"})}catch(e){N(e=>[{scanResult:r},...e].slice(0,10)),P({title:"Analysis Failed",description:"Could not analyze QR code content",variant:"destructive"})}finally{t(!1)}},[P]),W=(0,s.useCallback)(e=>{P({title:"Scan Error",description:e,variant:"destructive"})},[P]),O=e=>{switch(e){case"low":return"✅";case"medium":return"⚠️";case"high":return"\uD83D\uDD36";case"critical":return"\uD83D\uDEA8";default:return"❔"}},$=(0,s.useMemo)(()=>"all"===F?j:j.filter(e=>e.analysis?e.analysis.security.riskLevel===F:"unknown"===F),[j,F]);return(0,r.jsx)(T,{children:(0,r.jsx)(ee.s,{title:"QR Code Scanner",children:(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50/30 to-purple-50/30",children:(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[(0,r.jsxs)("div",{className:"flex justify-center gap-4 mb-8",children:[(0,r.jsxs)(D,{children:[(0,r.jsx)(I,{asChild:!0,children:(0,r.jsx)(x(),{href:"/generate-qr-code",children:(0,r.jsxs)(g.$,{variant:"outline",className:"border-2 border-gray-300 text-gray-700 hover:text-gray-900 hover:border-gray-400 px-8 py-3 rounded-xl shadow-lg font-semibold text-lg",children:[(0,r.jsx)(i.A,{className:"h-5 w-5 mr-2"}),"CREATE QR"]})})}),(0,r.jsx)(M,{children:(0,r.jsx)("p",{children:"Generate custom QR codes"})})]}),(0,r.jsxs)(D,{children:[(0,r.jsx)(I,{asChild:!0,children:(0,r.jsxs)(g.$,{className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-8 py-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105 font-semibold text-lg",disabled:!0,children:[(0,r.jsx)(n.A,{className:"h-5 w-5 mr-2"}),"SCAN QR"]})}),(0,r.jsx)(M,{children:(0,r.jsx)("p",{children:"AI-powered QR code scanner with security analysis"})})]})]}),(0,r.jsxs)("div",{className:"grid gap-8 lg:grid-cols-2",children:[(0,r.jsx)("div",{className:"bg-white/70 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/50 overflow-hidden",children:(0,r.jsx)("div",{className:"aspect-square relative",children:(0,r.jsx)(Y,{onScanSuccess:z,onScanError:W,autoStart:!1,showResults:!1})})}),(0,r.jsx)("div",{className:"bg-white/70 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/50 p-8",children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-2",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent",children:"\uD83E\uDDE0 Smart Analysis"}),(0,r.jsxs)(D,{children:[(0,r.jsx)(I,{children:(0,r.jsx)(o.A,{className:"h-4 w-4 text-gray-400"})}),(0,r.jsx)(M,{children:(0,r.jsx)("p",{children:"AI-powered security and content analysis"})})]})]}),(0,r.jsx)("p",{className:"text-gray-600",children:C?"Scanning and analyzing...":"Scan a QR code to see detailed analysis"})]}),e&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,r.jsx)(l.A,{className:"h-5 w-5 text-purple-500 animate-pulse"}),(0,r.jsx)("span",{className:"text-purple-600 font-medium",children:"AI Analysis in Progress..."})]}),(0,r.jsx)(v.k,{value:70,className:"h-2"}),(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-purple-500 border-t-transparent"})})]}),a&&!e&&(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)(y.Zp,{className:"border-2 bg-white/80 backdrop-blur-sm",children:[(0,r.jsx)(y.aR,{className:"pb-3",children:(0,r.jsxs)(y.ZB,{className:"flex items-center gap-2 text-lg",children:[(0,r.jsx)(c.A,{className:"h-5 w-5 text-".concat((e=>{switch(e){case"low":return"green";case"medium":return"yellow";case"high":return"orange";case"critical":return"red";default:return"gray"}})(a.security.riskLevel),"-500")}),"Security Status"]})}),(0,r.jsxs)(y.Wu,{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Risk Level:"}),(0,r.jsxs)(f.E,{variant:"low"===a.security.riskLevel?"default":"destructive",className:"text-sm",children:[O(a.security.riskLevel)," ",a.security.riskLevel.toUpperCase()]})]}),(0,r.jsx)(v.k,{value:a.security.riskScore,className:"h-2 mb-3"}),(0,r.jsxs)("div",{className:"text-xs text-gray-500 space-y-1",children:[(0,r.jsxs)("div",{children:["Security Score: ",a.security.riskScore,"/100"]}),(0,r.jsxs)("div",{children:["Risk Level: ",a.security.riskLevel.toUpperCase()]})]}),a.security.threats.length>0&&(0,r.jsxs)(b.Fc,{className:"mt-4",children:[(0,r.jsx)(d.A,{className:"h-4 w-4"}),(0,r.jsxs)(b.TN,{children:[(0,r.jsx)("div",{className:"text-sm font-medium mb-2",children:"Security Concerns:"}),(0,r.jsx)("ul",{className:"text-xs space-y-1",children:a.security.threats.map((e,t)=>(0,r.jsxs)("li",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"w-1 h-1 bg-red-400 rounded-full"}),e.description]},t))})]})]})]})]}),(0,r.jsxs)(w.Tabs,{value:Q,onValueChange:U,className:"w-full",children:[(0,r.jsxs)(w.TabsList,{className:"grid w-full grid-cols-3 bg-gray-100/80 rounded-xl",children:[(0,r.jsxs)(w.TabsTrigger,{value:"security",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm rounded-lg transition-all",children:[(0,r.jsx)(c.A,{className:"h-4 w-4 mr-1"}),"Security"]}),(0,r.jsxs)(w.TabsTrigger,{value:"content",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm rounded-lg transition-all",children:[(0,r.jsx)(m.A,{className:"h-4 w-4 mr-1"}),"Content"]}),(0,r.jsxs)(w.TabsTrigger,{value:"insights",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm rounded-lg transition-all",children:[(0,r.jsx)(h.A,{className:"h-4 w-4 mr-1"}),"Insights"]})]}),(0,r.jsx)(w.TabsContent,{value:"security",className:"mt-4 space-y-4",children:(0,r.jsx)(y.Zp,{className:"bg-white/60 border-gray-200",children:(0,r.jsx)(y.Wu,{className:"pt-4",children:(0,r.jsxs)(R,{type:"single",collapsible:!0,children:[(0,r.jsxs)(k,{value:"threats",children:[(0,r.jsxs)(S,{className:"text-sm font-medium",children:["Security Threats (",a.security.threats.length,")"]}),(0,r.jsx)(A,{children:0===a.security.threats.length?(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"No security threats detected"}):(0,r.jsx)("div",{className:"space-y-2",children:a.security.threats.map((e,t)=>(0,r.jsxs)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,r.jsx)("span",{className:"text-sm font-medium text-red-800",children:e.type}),(0,r.jsx)(f.E,{variant:"destructive",className:"text-xs",children:e.severity})]}),(0,r.jsx)("p",{className:"text-xs text-red-600",children:e.description})]},t))})})]}),(0,r.jsxs)(k,{value:"recommendations",children:[(0,r.jsx)(S,{className:"text-sm font-medium",children:"Security Recommendations"}),(0,r.jsx)(A,{children:0===a.security.recommendations.length?(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"No specific recommendations"}):(0,r.jsx)("ul",{className:"space-y-2 text-sm",children:a.security.recommendations.map((e,t)=>(0,r.jsxs)("li",{className:"flex items-start gap-2",children:[(0,r.jsx)("span",{className:"text-blue-500 mt-0.5",children:"•"}),(0,r.jsx)("span",{className:"text-gray-700",children:e})]},t))})})]})]})})})}),(0,r.jsx)(w.TabsContent,{value:"content",className:"mt-4 space-y-4",children:(0,r.jsx)(y.Zp,{className:"bg-white/60 border-gray-200",children:(0,r.jsx)(y.Wu,{className:"pt-4",children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("div",{className:"text-xs font-medium text-gray-500",children:"Primary Category"}),(0,r.jsx)(f.E,{variant:"outline",className:"text-sm",children:a.categorization.primaryCategory})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("div",{className:"text-xs font-medium text-gray-500",children:"Confidence"}),(0,r.jsxs)(f.E,{variant:"outline",className:"text-sm",children:[Math.round(100*a.categorization.confidence),"%"]})]})]}),a.categorization.subcategories.length>0&&(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("div",{className:"text-xs font-medium text-gray-500",children:"Subcategories"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:a.categorization.subcategories.map((e,t)=>(0,r.jsx)(f.E,{variant:"secondary",className:"text-xs",children:e},t))})]}),a.categorization.suggestedTags.length>0&&(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("div",{className:"text-xs font-medium text-gray-500",children:"Suggested Tags"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:a.categorization.suggestedTags.map((e,t)=>(0,r.jsx)(f.E,{variant:"secondary",className:"text-xs",children:e},t))})]})]})})})}),(0,r.jsx)(w.TabsContent,{value:"insights",className:"mt-4 space-y-4",children:(0,r.jsx)(y.Zp,{className:"bg-white/60 border-gray-200",children:(0,r.jsx)(y.Wu,{className:"pt-4",children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("div",{className:"text-xs font-medium text-gray-500",children:"Summary"}),(0,r.jsx)("p",{className:"text-sm text-gray-700 bg-gray-50 p-3 rounded-lg",children:a.insights.summary})]}),a.insights.keyInformation.length>0&&(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("div",{className:"text-xs font-medium text-gray-500",children:"Key Information"}),(0,r.jsx)("div",{className:"space-y-2",children:a.insights.keyInformation.map((e,t)=>(0,r.jsxs)("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,r.jsx)("span",{className:"text-sm font-medium text-blue-800",children:e.label}),(0,r.jsx)(f.E,{variant:"high"===e.importance?"default":"secondary",className:"text-xs",children:e.importance})]}),(0,r.jsx)("p",{className:"text-xs text-blue-600",children:e.value})]},t))})]}),a.insights.relatedActions.length>0&&(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("div",{className:"text-xs font-medium text-gray-500",children:"Suggested Actions"}),(0,r.jsx)("div",{className:"space-y-2",children:a.insights.relatedActions.map((e,t)=>(0,r.jsxs)("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,r.jsx)("span",{className:"text-sm font-medium text-green-800",children:e.action}),(0,r.jsxs)(f.E,{variant:"high"===e.priority?"default":"secondary",className:"text-xs",children:[e.priority," priority"]})]}),(0,r.jsx)("p",{className:"text-xs text-green-600",children:e.description})]},t))})]}),0===a.insights.keyInformation.length&&0===a.insights.relatedActions.length&&(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)(l.A,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"No detailed insights available for this QR code"})]})]})})})})]})]}),!C&&(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[(0,r.jsxs)("div",{className:"relative mb-6",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-100 via-blue-100 to-indigo-100 rounded-full animate-pulse opacity-50"}),(0,r.jsx)("div",{className:"relative p-6 bg-white rounded-full shadow-lg border border-gray-200",children:(0,r.jsx)(n.A,{className:"h-12 w-12 text-gray-400"})})]}),(0,r.jsxs)("div",{className:"text-center space-y-3 max-w-sm",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-700",children:"\uD83D\uDD0D Ready to Scan"}),(0,r.jsx)("p",{className:"text-gray-500 leading-relaxed",children:"Position a QR code in front of your camera to start AI-powered analysis and security scanning."}),(0,r.jsxs)("div",{className:"flex justify-center items-center gap-2 pt-4",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-purple-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),(0,r.jsx)("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-bounce",style:{animationDelay:"200ms"}}),(0,r.jsx)("div",{className:"w-2 h-2 bg-indigo-400 rounded-full animate-bounce",style:{animationDelay:"400ms"}})]})]})]})]})})]}),j.length>0&&(0,r.jsx)("div",{className:"mt-8",children:(0,r.jsxs)(y.Zp,{className:"bg-white/70 backdrop-blur-xl border border-white/50",children:[(0,r.jsx)(y.aR,{children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)(y.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(u.A,{className:"h-5 w-5"}),"Scan History (",j.length,")"]}),(0,r.jsxs)(L.l6,{value:F,onValueChange:_,children:[(0,r.jsx)(L.bq,{className:"w-40",children:(0,r.jsx)(L.yv,{placeholder:"Filter by risk"})}),(0,r.jsxs)(L.gC,{children:[(0,r.jsx)(L.eb,{value:"all",children:"All Scans"}),(0,r.jsx)(L.eb,{value:"low",children:"Low Risk"}),(0,r.jsx)(L.eb,{value:"medium",children:"Medium Risk"}),(0,r.jsx)(L.eb,{value:"high",children:"High Risk"}),(0,r.jsx)(L.eb,{value:"critical",children:"Critical Risk"}),(0,r.jsx)(L.eb,{value:"unknown",children:"Unknown"})]})]})]})}),(0,r.jsx)(y.Wu,{children:(0,r.jsx)("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:$.map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white/60 rounded-lg border border-gray-200 hover:bg-white/80 transition-colors cursor-pointer",onClick:()=>{p(e.analysis||null),E(!!e.analysis)},children:[(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"text-sm font-medium text-gray-900 truncate",children:[e.scanResult.parsedData.type,": ",e.scanResult.detectionResult.data.substring(0,50),"..."]}),(0,r.jsx)("div",{className:"text-xs text-gray-500",children:e.scanResult.timestamp.toLocaleTimeString()})]}),(0,r.jsx)("div",{className:"flex items-center gap-2",children:e.analysis?(0,r.jsxs)(f.E,{variant:"low"===e.analysis.security.riskLevel?"default":"destructive",className:"text-xs",children:[O(e.analysis.security.riskLevel)," ",e.analysis.security.riskLevel]}):(0,r.jsx)(f.E,{variant:"outline",className:"text-xs",children:"❔ Unknown"})})]},e.scanResult.id))})})]})})]})})})})}},11186:(e,t,a)=>{"use strict";a.d(t,{bq:()=>h,eb:()=>g,gC:()=>x,l6:()=>d,yv:()=>m});var r=a(95155),s=a(12115),i=a(47887),n=a(24033),o=a(12108),l=a(5917),c=a(64269);let d=i.bL;i.YJ;let m=i.WT,h=s.forwardRef((e,t)=>{let{className:a,children:s,...o}=e;return(0,r.jsxs)(i.l9,{ref:t,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...o,children:[s,(0,r.jsx)(i.In,{asChild:!0,children:(0,r.jsx)(n.A,{className:"h-4 w-4 opacity-50"})})]})});h.displayName=i.l9.displayName;let u=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(i.PP,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",a),...s,children:(0,r.jsx)(o.A,{className:"h-4 w-4"})})});u.displayName=i.PP.displayName;let p=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(i.wn,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",a),...s,children:(0,r.jsx)(n.A,{className:"h-4 w-4"})})});p.displayName=i.wn.displayName;let x=s.forwardRef((e,t)=>{let{className:a,children:s,position:n="popper",...o}=e;return(0,r.jsx)(i.ZL,{children:(0,r.jsxs)(i.UC,{ref:t,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:n,...o,children:[(0,r.jsx)(u,{}),(0,r.jsx)(i.LM,{className:(0,c.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,r.jsx)(p,{})]})})});x.displayName=i.UC.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(i.JU,{ref:t,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...s})}).displayName=i.JU.displayName;let g=s.forwardRef((e,t)=>{let{className:a,children:s,...n}=e;return(0,r.jsxs)(i.q7,{ref:t,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...n,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(i.VF,{children:(0,r.jsx)(l.A,{className:"h-4 w-4"})})}),(0,r.jsx)(i.p4,{children:s})]})});g.displayName=i.q7.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(i.wv,{ref:t,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",a),...s})}).displayName=i.wv.displayName},13406:(e,t,a)=>{"use strict";a.d(t,{Tabs:()=>o,TabsContent:()=>d,TabsList:()=>l,TabsTrigger:()=>c});var r=a(95155),s=a(12115),i=a(25667),n=a(64269);let o=i.bL,l=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(i.B8,{ref:t,className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...s})});l.displayName=i.B8.displayName;let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(i.l9,{ref:t,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...s})});c.displayName=i.l9.displayName;let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(i.UC,{ref:t,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...s})});d.displayName=i.UC.displayName},18332:(e,t,a)=>{"use strict";a.d(t,{Fc:()=>h,TN:()=>u});var r=a(95155),s=a(12115),i=a(83101),n=a(35130),o=a(2068),l=a(65229),c=a(64269),d=a(3998);let m=(0,i.F)("relative w-full rounded-xl border shadow-sm transition-all duration-300 ease-in-out [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-current",{variants:{variant:{default:"bg-background text-foreground border-border hover:shadow-md",destructive:"bg-gradient-to-r from-red-50 to-rose-50 dark:from-red-950/20 dark:to-rose-950/20 border-red-200/50 dark:border-red-800/50 text-red-900 dark:text-red-100 [&>svg]:text-red-600 dark:[&>svg]:text-red-400 animate-pulse-subtle hover:from-red-100 hover:to-rose-100 dark:hover:from-red-950/30 dark:hover:to-rose-950/30",success:"bg-gradient-to-r from-emerald-50 to-green-50 dark:from-emerald-950/20 dark:to-green-950/20 border-emerald-200/50 dark:border-emerald-800/50 text-emerald-900 dark:text-emerald-100 [&>svg]:text-emerald-600 dark:[&>svg]:text-emerald-400 hover:from-emerald-100 hover:to-green-100 dark:hover:from-emerald-950/30 dark:hover:to-green-950/30",warning:"bg-gradient-to-r from-amber-50 to-yellow-50 dark:from-amber-950/20 dark:to-yellow-950/20 border-amber-200/50 dark:border-amber-800/50 text-amber-900 dark:text-amber-100 [&>svg]:text-amber-600 dark:[&>svg]:text-amber-400 hover:from-amber-100 hover:to-yellow-100 dark:hover:from-amber-950/30 dark:hover:to-yellow-950/30",info:"bg-gradient-to-r from-blue-50 to-sky-50 dark:from-blue-950/20 dark:to-sky-950/20 border-blue-200/50 dark:border-blue-800/50 text-blue-900 dark:text-blue-100 [&>svg]:text-blue-600 dark:[&>svg]:text-blue-400 hover:from-blue-100 hover:to-sky-100 dark:hover:from-blue-950/30 dark:hover:to-sky-950/30",outline:"border-2 border-gray-200 dark:border-gray-700 bg-transparent text-foreground hover:bg-gray-50 dark:hover:bg-gray-900/50 hover:border-gray-300 dark:hover:border-gray-600",glass:"bg-white/10 dark:bg-gray-900/10 backdrop-blur-md border-white/20 dark:border-gray-700/30 text-foreground shadow-lg hover:bg-white/20 dark:hover:bg-gray-900/20",neon:"bg-gradient-to-r from-purple-900/20 to-pink-900/20 border-purple-500/50 text-purple-100 shadow-lg shadow-purple-500/25 [&>svg]:text-purple-400 hover:shadow-purple-500/40 hover:from-purple-900/30 hover:to-pink-900/30",minimal:"bg-transparent border-l-4 border-l-blue-500 border-t-0 border-r-0 border-b-0 rounded-none pl-6 text-foreground hover:bg-gray-50 dark:hover:bg-gray-900/50",elevated:"bg-white dark:bg-gray-900 border-0 shadow-xl shadow-gray-200/50 dark:shadow-gray-900/50 text-foreground hover:shadow-2xl hover:scale-[1.01] transform"},size:{xs:"p-2 text-xs",sm:"p-3 text-sm",default:"p-4",lg:"p-6 text-lg",xl:"p-8 text-xl"},animation:{none:"",slideIn:"animate-slide-in-from-left",fadeIn:"animate-fade-in",bounceIn:"animate-bounce-in",scaleIn:"animate-scale-in"}},defaultVariants:{variant:"default",size:"default",animation:"fadeIn"}}),h=s.forwardRef((e,t)=>{let{className:a,variant:i,size:h,animation:u,dismissible:p,onDismiss:x,autoClose:g=!1,autoCloseDelay:f=5e3,playSound:b=!1,soundType:y="notification",persistent:w=!1,priority:v="medium",actions:j,progress:N,showProgress:C=!1,icon:R,children:k,...S}=e,[A,E]=s.useState(!0),[T,D]=s.useState(!0),I=s.useRef();s.useRef(N||0);let[M,L]=s.useState(N||0);s.useEffect(()=>{b&&T&&A&&(e=>{try{let t={success:"/sounds/success.mp3",error:"/sounds/error.mp3",warning:"/sounds/warning.mp3",info:"/sounds/info.mp3",notification:"/sounds/notification.mp3"}[e];if(t){let e=new Audio(t);e.volume=.3,e.play().catch(console.warn)}}catch(e){}})(y)},[b,T,y,A]),s.useEffect(()=>(g&&!w&&A&&f>0&&(I.current=setTimeout(()=>{F()},f)),()=>{I.current&&clearTimeout(I.current)}),[g,w,A,f]),s.useEffect(()=>{void 0!==N&&N!==M&&L(N)},[N]);let F=()=>{I.current&&clearTimeout(I.current),E(!1),null==x||x()};return A?(0,r.jsxs)("div",{ref:t,role:"alert","aria-live":"critical"===v?"assertive":"polite","aria-atomic":"true",className:(0,c.cn)(m({variant:i,size:h,animation:u}),{low:"",medium:"",high:"ring-2 ring-yellow-400/50 dark:ring-yellow-500/50",critical:"ring-2 ring-red-500/75 dark:ring-red-400/75 shadow-lg shadow-red-500/25"}[v],a),...S,children:[R&&(0,r.jsx)(R,{className:"h-4 w-4 absolute left-4 top-4"}),(0,r.jsxs)("div",{className:"flex-1",children:[k,C&&(0,r.jsx)("div",{className:"mt-3 w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,r.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 bg-gradient-to-r from-blue-500 to-purple-600",style:{width:"".concat(Math.min(Math.max(M,0),100),"%")}})}),j&&j.length>0&&(0,r.jsx)("div",{className:"flex gap-2 mt-3",children:j.map((e,t)=>(0,r.jsx)(d.$,{variant:e.variant||"default",size:"sm",onClick:e.onClick,className:"h-8 text-xs",children:e.label},t))})]}),(0,r.jsxs)("div",{className:"absolute right-2 top-2 flex gap-1",children:[b&&(0,r.jsxs)(d.$,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-black/10 dark:hover:bg-white/10",onClick:()=>{D(!T)},title:T?"Mute sounds":"Enable sounds",children:[T?(0,r.jsx)(n.A,{className:"h-3 w-3"}):(0,r.jsx)(o.A,{className:"h-3 w-3"}),(0,r.jsx)("span",{className:"sr-only",children:T?"Mute sounds":"Enable sounds"})]}),p&&(0,r.jsxs)(d.$,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-black/10 dark:hover:bg-white/10",onClick:F,title:"Dismiss alert",children:[(0,r.jsx)(l.A,{className:"h-3 w-3"}),(0,r.jsx)("span",{className:"sr-only",children:"Dismiss alert"})]})]}),g&&!w&&f>0&&(0,r.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gray-200 dark:bg-gray-700 rounded-b-xl overflow-hidden",children:(0,r.jsx)("div",{className:"h-full bg-gradient-to-r from-blue-500 to-purple-600 animate-shrink-width",style:{animationDuration:"".concat(f,"ms"),animationTimingFunction:"linear"}})})]}):null});h.displayName="Alert",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("h5",{ref:t,className:(0,c.cn)("mb-2 font-semibold leading-none tracking-tight text-current","flex items-center gap-2",a),...s})}).displayName="AlertTitle";let u=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,c.cn)("text-sm leading-relaxed text-current/80 [&_p]:leading-relaxed",a),...s})});u.displayName="AlertDescription"},27063:(e,t,a)=>{"use strict";a.r(t),a.d(t,{Sheet:()=>c,SheetClose:()=>m,SheetContent:()=>x,SheetDescription:()=>y,SheetFooter:()=>f,SheetHeader:()=>g,SheetOverlay:()=>u,SheetPortal:()=>h,SheetTitle:()=>b,SheetTrigger:()=>d});var r=a(95155),s=a(12115),i=a(89511),n=a(83101),o=a(65229),l=a(64269);let c=i.bL,d=i.l9,m=i.bm,h=i.ZL,u=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(i.hJ,{className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s,ref:t})});u.displayName=i.hJ.displayName;let p=(0,n.F)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),x=s.forwardRef((e,t)=>{let{side:a="right",className:s,children:n,...c}=e;return(0,r.jsxs)(h,{children:[(0,r.jsx)(u,{}),(0,r.jsxs)(i.UC,{ref:t,className:(0,l.cn)(p({side:a}),s),...c,children:[n,(0,r.jsxs)(i.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,r.jsx)(o.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});x.displayName=i.UC.displayName;let g=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...a})};g.displayName="SheetHeader";let f=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};f.displayName="SheetFooter";let b=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(i.hE,{ref:t,className:(0,l.cn)("text-lg font-semibold text-foreground",a),...s})});b.displayName=i.hE.displayName;let y=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(i.VY,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",a),...s})});y.displayName=i.VY.displayName},80991:(e,t,a)=>{"use strict";a.d(t,{k:()=>o});var r=a(95155),s=a(12115),i=a(9484),n=a(64269);let o=s.memo(s.forwardRef((e,t)=>{let{className:a,value:o,...l}=e,c=s.useMemo(()=>({transform:"translateX(-".concat(100-(o||0),"%)")}),[o]);return(0,r.jsx)(i.bL,{ref:t,className:(0,n.cn)("relative h-2 w-full overflow-hidden rounded-full bg-secondary",a),...l,children:(0,r.jsx)(i.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:c})})}));o.displayName=i.bL.displayName},86948:(e,t,a)=>{"use strict";a.d(t,{BT:()=>m,Wu:()=>h,ZB:()=>d,Zp:()=>l,aR:()=>c,wL:()=>u});var r=a(95155),s=a(12115),i=a(64269);let n={default:"rounded-lg border bg-card text-card-foreground shadow-sm",elevated:"rounded-xl border bg-card text-card-foreground shadow-lg hover:shadow-xl",glass:"rounded-xl border border-white/20 bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl text-card-foreground shadow-xl",interactive:"rounded-xl border bg-card text-card-foreground shadow-md hover:shadow-xl cursor-pointer transition-all duration-300"},o={none:"",hover:"hover:scale-[1.01] hover:-translate-y-1 transition-all duration-300 will-change-transform",float:"hover:scale-[1.02] hover:-translate-y-2 transition-all duration-300 will-change-transform"},l=s.memo(s.forwardRef((e,t)=>{let{className:a,variant:s="default",animation:l="hover",...c}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)(n[s],o[l],a),...c})}));l.displayName="Card";let c=s.memo(s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",a),...s})}));c.displayName="CardHeader";let d=s.memo(s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",a),...s})}));d.displayName="CardTitle";let m=s.memo(s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",a),...s})}));m.displayName="CardDescription";let h=s.memo(s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",a),...s})}));h.displayName="CardContent";let u=s.memo(s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",a),...s})}));u.displayName="CardFooter"},87379:(e,t,a)=>{Promise.resolve().then(a.bind(a,1169))}},e=>{e.O(0,[5848,8861,5624,9701,8779,8405,8116,6335,8995,6699,5021,9290,6073,7708,2432,8585,9592,7940,2652,3719,408,5894,6449,2256,7358],()=>e(e.s=87379)),_N_E=e.O()}]);