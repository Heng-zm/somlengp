(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3961],{16244:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>k});var l=t(95155),s=t(12115),a=t(46701),n=t(65229),o=t(87855),i=t(39867),c=t(3998),d=t(15894),u=t(86948),m=t(50168),f=t(72221),h=t(64269),x=t(30926);let p=(0,x.createServerReference)("40295799d8bd424e439eeff16930d921bf2cbf7fe4",x.callServer,void 0,x.findSourceMapURL,"imageToPdf");var g=t(15239),v=t(37908),b=t(17037),j=t(85762);let w={objectFit:"cover"},N=(0,s.memo)(function(){let[e,r]=(0,s.useState)([]),[t,x]=(0,s.useState)(!1),[N,y]=(0,s.useState)(!1),k=(0,s.useRef)(null),{toast:L}=(0,d.dj)(),E=(0,s.useContext)(f.s);if(!E)throw Error("ImageToPdfPage must be used within a LanguageProvider");let{language:R}=E,B=(0,s.useMemo)(()=>m.Wk[R],[R]),C=(0,s.useMemo)(()=>e.map(e=>URL.createObjectURL(e)),[e]);(0,s.useEffect)(()=>()=>{C.forEach(e=>URL.revokeObjectURL(e))},[C]);let M=e=>{if(!e)return;let t=[],l=[];Array.from(e).forEach(e=>{e.type.startsWith("image/")?t.push(e):l.push(e.name)}),l.length>0&&L({title:B.invalidFileType,description:B.selectImageFile,variant:"destructive"}),t.length>0&&r(e=>[...e,...t])},T=(0,s.useCallback)(e=>{r(r=>{let t=r.filter((r,t)=>t!==e);return 0===t.length&&k.current&&(k.current.value=""),t})},[]),D=async()=>{if(0===e.length)return void L({title:B.conversionError,description:B.conversionErrorDescription,variant:"destructive"});x(!0);try{let t=await Promise.all(e.map(e=>new Promise((r,t)=>{let l=new FileReader;l.onloadend=()=>{"string"==typeof l.result?r(l.result):t(Error("Failed to convert blob to Base64."))},l.onerror=t,l.readAsDataURL(e)}))),{pdfDataUri:l}=await p({imageDataUris:t}),s=(e=>{let r=atob(e.split(",")[1]),t=e.split(",")[0].split(":")[1].split(";")[0],l=new ArrayBuffer(r.length),s=new Uint8Array(l);for(let e=0;e<r.length;e++)s[e]=r.charCodeAt(e);return new Blob([l],{type:t})})(l),a=URL.createObjectURL(s),n=document.createElement("a");n.href=a,n.download="converted.pdf",document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(a),r([])}catch(e){L({title:B.conversionError,description:e instanceof Error?e.message:"An unknown error occurred.",variant:"destructive"})}finally{x(!1)}},P=e=>{e.preventDefault(),e.stopPropagation()},U=e=>{P(e),y(!1)},A=e=>{P(e),y(!1),M(e.dataTransfer.files)};return(0,l.jsxs)("div",{className:"flex flex-col h-full bg-transparent text-foreground",onDragEnter:e=>{P(e),e.dataTransfer.items&&e.dataTransfer.items.length>0&&y(!0)},onDragOver:P,children:[(0,l.jsxs)("main",{className:"flex-grow p-4 md:p-6 flex flex-col items-center",children:[(0,l.jsx)("div",{className:"w-full max-w-4xl flex-grow flex flex-col",children:0===e.length?(0,l.jsxs)(u.Zp,{className:(0,h.cn)("flex flex-col items-center justify-center text-center border-2 border-dashed h-full transition-colors cursor-pointer p-6",N?"border-primary bg-primary/10":"border-border"),onClick:()=>{var e;return null==(e=k.current)?void 0:e.click()},onDragLeave:U,onDrop:A,children:[(0,l.jsx)(a.A,{className:"w-16 h-16 text-muted-foreground mb-4"}),(0,l.jsx)("h3",{className:"text-xl font-semibold",children:B.imageToPdfTitle}),(0,l.jsx)("p",{className:"text-muted-foreground mt-2",children:B.dropImages})]}):(0,l.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 h-full",children:[(0,l.jsxs)(u.Zp,{className:"flex flex-col",children:[(0,l.jsxs)("div",{className:"p-4 border-b",children:[(0,l.jsxs)("h3",{className:"text-lg font-semibold",children:[B.imagesToConvert," (",e.length,")"]}),(0,l.jsxs)("p",{className:"text-sm text-muted-foreground mt-1",children:["Total size: ",(0,j.T)(e)]})]}),(0,l.jsx)(b.F,{className:"flex-grow p-4",children:(0,l.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:C.map((e,r)=>(0,l.jsxs)(u.Zp,{className:"relative aspect-square group overflow-hidden rounded-lg",children:[(0,l.jsx)(g.default,{src:e,alt:"Preview ".concat(r),fill:!0,sizes:"(max-width: 640px) 50vw, (max-width: 768px) 33vw, (max-width: 1024px) 25vw, 20vw",style:w,className:"transition-transform duration-300 group-hover:scale-105"}),(0,l.jsx)("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity",children:(0,l.jsx)(c.$,{variant:"destructive",size:"icon",onClick:()=>T(r),children:(0,l.jsx)(n.A,{className:"w-5 h-5"})})})]},e))})})]}),(0,l.jsxs)(u.Zp,{className:(0,h.cn)("flex flex-col items-center justify-center text-center border-2 border-dashed h-full transition-colors cursor-pointer p-6",N?"border-primary bg-primary/10":"border-border"),onClick:()=>{var e;return null==(e=k.current)?void 0:e.click()},onDragLeave:U,onDrop:A,children:[(0,l.jsx)(o.A,{className:"w-16 h-16 text-muted-foreground mb-4"}),(0,l.jsx)("h3",{className:"text-xl font-semibold",children:B.addMoreImages})]})]})}),(0,l.jsx)("input",{type:"file",ref:k,onChange:e=>M(e.target.files),className:"hidden",accept:"image/*",multiple:!0})]}),(0,l.jsx)("footer",{className:"flex-shrink-0 flex items-center justify-center gap-2 p-4 border-t bg-background",children:(0,l.jsx)("div",{className:"w-full max-w-lg flex gap-2 items-center",children:(0,l.jsxs)(c.$,{onClick:D,size:"lg",className:"flex-1 h-12",disabled:t||0===e.length,children:[t?(0,l.jsx)(v.S,{}):(0,l.jsx)(i.A,{className:"h-5 w-5"}),(0,l.jsx)("span",{className:"ml-2 sm:inline font-bold",children:B.convertAndDownload})]})})})]})});var y=t(16449);function k(){return(0,l.jsx)(y.s,{title:"Image to PDF",showModelSelector:!1,children:(0,l.jsx)(N,{})})}},17037:(e,r,t)=>{"use strict";t.d(r,{F:()=>o});var l=t(95155),s=t(12115),a=t(59034),n=t(64269);let o=s.forwardRef((e,r)=>{let{className:t,children:s,...o}=e;return(0,l.jsxs)(a.bL,{ref:r,className:(0,n.cn)("relative overflow-hidden",t),...o,children:[(0,l.jsx)(a.LM,{className:"h-full w-full rounded-[inherit]",children:s}),(0,l.jsx)(i,{}),(0,l.jsx)(a.OK,{})]})});o.displayName=a.bL.displayName;let i=s.forwardRef((e,r)=>{let{className:t,orientation:s="vertical",...o}=e;return(0,l.jsx)(a.VM,{ref:r,orientation:s,className:(0,n.cn)("flex touch-none select-none transition-colors","vertical"===s&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===s&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...o,children:(0,l.jsx)(a.lr,{className:"relative flex-1 rounded-full bg-border"})})});i.displayName=a.VM.displayName},37908:(e,r,t)=>{"use strict";t.d(r,{S:()=>n});var l=t(95155),s=t(12115),a=t(64269);let n=s.memo(function(e){let{className:r}=e;return(0,l.jsxs)("div",{className:(0,a.cn)("flex space-x-2 justify-center items-center",r),children:[(0,l.jsx)("span",{className:"sr-only",children:"Loading..."}),(0,l.jsx)("div",{className:"h-2 w-2 bg-foreground rounded-full animate-bounce-dot [animation-delay:-0.3s]"}),(0,l.jsx)("div",{className:"h-2 w-2 bg-foreground rounded-full animate-bounce-dot [animation-delay:-0.15s]"}),(0,l.jsx)("div",{className:"h-2 w-2 bg-foreground rounded-full animate-bounce-dot"})]})})},85762:(e,r,t)=>{"use strict";function l(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";let t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(r<0?0:r))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][t]}function s(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return l(e.reduce((e,r)=>e+(r instanceof File?r.size:r),0),r)}t.d(r,{T:()=>s,v:()=>l})},96063:(e,r,t)=>{Promise.resolve().then(t.bind(t,16244))}},e=>{e.O(0,[5848,8861,5624,9701,8779,8405,8116,6335,8995,6699,5021,9290,6073,7708,2432,8585,9592,7940,2652,3719,408,5894,6449,6975,7358],()=>e(e.s=96063)),_N_E=e.O()}]);