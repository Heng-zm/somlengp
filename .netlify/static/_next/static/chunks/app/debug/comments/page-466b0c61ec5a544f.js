(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3453],{16150:(e,s,t)=>{Promise.resolve().then(t.bind(t,40780))},40780:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>g});var r=t(95155),n=t(12115),i=t(3998),a=t(86948),o=t(11647),d=t(81661),m=t(92280),l=t(6132),c=t(61362),u=t(78874),x=t(20508);function h(){let[e,s]=(0,n.useState)({}),[t,h]=(0,n.useState)({}),{user:g,loading:b}=(0,m.A)(),{state:j,actions:f,stats:p}=(0,d._)({pageId:"debug-page",userId:null==g?void 0:g.uid}),v=(e,t,r)=>{s(s=>({...s,[e]:t})),r&&h(s=>({...s,[e]:r}))},N=async()=>{try{s(e=>({...e,submitComment:"pending"})),await f.submitComment("This is a test comment"),v("submitComment","success")}catch(e){v("submitComment","error",e instanceof Error?e.message:"Unknown error")}},y=async()=>{try{s(e=>({...e,submitAnonymous:"pending"})),await f.submitAnonymousComment("This is an anonymous test comment"),v("submitAnonymous","success")}catch(e){v("submitAnonymous","error",e instanceof Error?e.message:"Unknown error")}},C=async()=>{if(0===j.comments.length)return void v("voteComment","error","No comments to vote on. Add a comment first.");try{s(e=>({...e,voteComment:"pending"})),await f.voteComment(j.comments[0].id,"upvote"),v("voteComment","success")}catch(e){v("voteComment","error",e instanceof Error?e.message:"Unknown error")}},w=async()=>{if(0===j.comments.length)return void v("replyComment","error","No comments to reply to. Add a comment first.");try{s(e=>({...e,replyComment:"pending"})),await f.submitComment("This is a test reply",j.comments[0].id),v("replyComment","success")}catch(e){v("replyComment","error",e instanceof Error?e.message:"Unknown error")}},A=async()=>{if(0===j.comments.length)return void v("editComment","error","No comments to edit. Add a comment first.");try{s(e=>({...e,editComment:"pending"})),await f.editComment(j.comments[0].id,"This is an edited test comment"),v("editComment","success")}catch(e){v("editComment","error",e instanceof Error?e.message:"Unknown error")}},E=async()=>{if(0===j.comments.length)return void v("deleteComment","error","No comments to delete. Add a comment first.");try{s(e=>({...e,deleteComment:"pending"})),await f.deleteComment(j.comments[0].id),v("deleteComment","success")}catch(e){v("deleteComment","error",e instanceof Error?e.message:"Unknown error")}},k=e=>{switch(e){case"pending":return(0,r.jsx)(l.A,{className:"h-4 w-4 text-yellow-500 animate-pulse"});case"success":return(0,r.jsx)(c.A,{className:"h-4 w-4 text-green-500"});case"error":return(0,r.jsx)(u.A,{className:"h-4 w-4 text-red-500"});default:return(0,r.jsx)("div",{className:"h-4 w-4"})}},T=e=>{switch(e){case"pending":return(0,r.jsx)(o.E,{variant:"outline",className:"text-yellow-600 border-yellow-200",children:"Testing..."});case"success":return(0,r.jsx)(o.E,{variant:"outline",className:"text-green-600 border-green-200",children:"Success"});case"error":return(0,r.jsx)(o.E,{variant:"destructive",children:"Failed"});default:return(0,r.jsx)(o.E,{variant:"secondary",children:"Not Tested"})}};return(0,r.jsx)("div",{className:"space-y-6 p-4",children:(0,r.jsxs)(a.Zp,{children:[(0,r.jsx)(a.aR,{children:(0,r.jsx)(a.ZB,{children:"Comment System Debug Panel"})}),(0,r.jsxs)(a.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[(0,r.jsxs)("h3",{className:"font-semibold mb-2 flex items-center gap-2",children:[(0,r.jsx)(x.A,{className:"h-4 w-4"}),"Authentication Status"]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{children:"Status:"}),b?(0,r.jsx)(o.E,{variant:"outline",children:"Loading..."}):g?(0,r.jsx)(o.E,{variant:"outline",className:"bg-green-100 text-green-700 border-green-300",children:"✓ Authenticated"}):(0,r.jsx)(o.E,{variant:"outline",className:"bg-red-100 text-red-700 border-red-300",children:"✗ Not Authenticated"})]}),(0,r.jsxs)("div",{children:["User ID: ",(null==g?void 0:g.uid)||"None"]}),(0,r.jsxs)("div",{children:["Display Name: ",(null==g?void 0:g.displayName)||"None"]}),(0,r.jsxs)("div",{children:["Email: ",(null==g?void 0:g.email)||"None"]})]})]}),(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,r.jsx)("h3",{className:"font-semibold mb-2",children:"System Status"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,r.jsxs)("div",{children:["Loading: ",j.loading?"Yes":"No"]}),(0,r.jsxs)("div",{children:["Error: ",j.error||"None"]}),(0,r.jsxs)("div",{children:["Comments: ",p.totalComments]}),(0,r.jsxs)("div",{children:["Replies: ",p.totalReplies]})]})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("h3",{className:"font-semibold",children:"Test Actions"}),(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[k(e.submitComment),(0,r.jsx)("span",{children:"Submit Comment"}),T(e.submitComment)]}),(0,r.jsx)(i.$,{onClick:N,disabled:j.submitting,size:"sm",children:"Test"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[k(e.submitAnonymous),(0,r.jsx)("span",{children:"Submit Anonymous Comment"}),T(e.submitAnonymous)]}),(0,r.jsx)(i.$,{onClick:y,disabled:j.submitting,size:"sm",children:"Test"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[k(e.voteComment),(0,r.jsx)("span",{children:"Vote on Comment"}),T(e.voteComment)]}),(0,r.jsx)(i.$,{onClick:C,disabled:j.submitting||0===j.comments.length,size:"sm",children:"Test"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[k(e.replyComment),(0,r.jsx)("span",{children:"Reply to Comment"}),T(e.replyComment)]}),(0,r.jsx)(i.$,{onClick:w,disabled:j.submitting||0===j.comments.length,size:"sm",children:"Test"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[k(e.editComment),(0,r.jsx)("span",{children:"Edit Comment"}),T(e.editComment)]}),(0,r.jsx)(i.$,{onClick:A,disabled:j.submitting||0===j.comments.length,size:"sm",children:"Test"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[k(e.deleteComment),(0,r.jsx)("span",{children:"Delete Comment"}),T(e.deleteComment)]}),(0,r.jsx)(i.$,{onClick:E,disabled:j.submitting||0===j.comments.length,size:"sm",variant:"destructive",children:"Test"})]})]}),Object.entries(t).length>0&&(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("h3",{className:"font-semibold text-red-600",children:"Error Details"}),Object.entries(t).map(e=>{let[s,t]=e;return(0,r.jsxs)("div",{className:"bg-red-50 p-3 rounded-lg text-sm",children:[(0,r.jsxs)("strong",{children:[s,":"]})," ",t]},s)})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("h3",{className:"font-semibold",children:"Raw Comment Data"}),(0,r.jsx)("pre",{className:"bg-gray-100 p-3 rounded-lg text-xs overflow-x-auto",children:JSON.stringify(j.comments,null,2)})]})]})]})})}function g(){return(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 p-4",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Comment System Debug"}),(0,r.jsx)(h,{})]})})}},86948:(e,s,t)=>{"use strict";t.d(s,{BT:()=>c,Wu:()=>u,ZB:()=>l,Zp:()=>d,aR:()=>m,wL:()=>x});var r=t(95155),n=t(12115),i=t(64269);let a={default:"rounded-lg border bg-card text-card-foreground shadow-sm",elevated:"rounded-xl border bg-card text-card-foreground shadow-lg hover:shadow-xl",glass:"rounded-xl border border-white/20 bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl text-card-foreground shadow-xl",interactive:"rounded-xl border bg-card text-card-foreground shadow-md hover:shadow-xl cursor-pointer transition-all duration-300"},o={none:"",hover:"hover:scale-[1.01] hover:-translate-y-1 transition-all duration-300 will-change-transform",float:"hover:scale-[1.02] hover:-translate-y-2 transition-all duration-300 will-change-transform"},d=n.memo(n.forwardRef((e,s)=>{let{className:t,variant:n="default",animation:d="hover",...m}=e;return(0,r.jsx)("div",{ref:s,className:(0,i.cn)(a[n],o[d],t),...m})}));d.displayName="Card";let m=n.memo(n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,r.jsx)("div",{ref:s,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",t),...n})}));m.displayName="CardHeader";let l=n.memo(n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,r.jsx)("div",{ref:s,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",t),...n})}));l.displayName="CardTitle";let c=n.memo(n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,r.jsx)("div",{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",t),...n})}));c.displayName="CardDescription";let u=n.memo(n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,r.jsx)("div",{ref:s,className:(0,i.cn)("p-6 pt-0",t),...n})}));u.displayName="CardContent";let x=n.memo(n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,r.jsx)("div",{ref:s,className:(0,i.cn)("flex items-center p-6 pt-0",t),...n})}));x.displayName="CardFooter"}},e=>{e.O(0,[5848,8861,5624,9701,7388,9812,8779,8405,8116,6335,8995,6699,5021,9290,6073,7708,2432,8585,9592,7940,2652,3719,408,5894,9975,2280,2104,7358],()=>e(e.s=16150)),_N_E=e.O()}]);