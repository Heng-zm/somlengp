(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6676,7063],{4083:(e,t,a)=>{"use strict";a.d(t,{p:()=>p});var s=a(95155),r=a(3998),l=a(11647),i=a(6259),n=a(60890),o=a(89715),d=a(85710),c=a(24722),u=a(24033),m=a(39867),f=a(64269);let x=[{id:"srt",name:"srt",displayName:"SRT",description:"SubRip subtitle format with timestamps",icon:n.A,category:"subtitle"},{id:"vtt",name:"vtt",displayName:"VTT",description:"WebVTT subtitle format for web players",icon:n.A,category:"subtitle"},{id:"txt",name:"txt",displayName:"TXT",description:"Plain text without formatting",icon:o.A,category:"document"},{id:"docx",name:"docx",displayName:"DOCX",description:"Microsoft Word document format",icon:o.A,category:"document"},{id:"json",name:"json",displayName:"JSON",description:"Structured data with timestamps",icon:d.A,category:"data"},{id:"csv",name:"csv",displayName:"CSV",description:"Spreadsheet format for data analysis",icon:c.A,category:"data"}];function p(e){let{selectedFormat:t,onFormatChange:a,formats:n=x,className:o,size:d="sm",label:c="Export Format",disabled:p=!1,showIcon:h=!0}=e,g=n.find(e=>e.id===t),b={sm:"w-4 h-4",lg:"w-5 h-5"},j=n.reduce((e,t)=>(e[t.category]||(e[t.category]=[]),e[t.category].push(t),e),{}),v={subtitle:"Subtitle Formats",document:"Document Formats",data:"Data Formats"};return(0,s.jsxs)(i.rI,{children:[(0,s.jsx)(i.ty,{asChild:!0,children:(0,s.jsxs)(r.$,{variant:"outline",size:d,className:(0,f.cn)("flex justify-between",{sm:"text-sm h-10 px-3",lg:"text-base h-12 px-4"}[d],p&&"opacity-50 cursor-not-allowed",o),disabled:p,children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[h&&g&&(0,s.jsx)(g.icon,{className:(0,f.cn)(b[d])}),(0,s.jsx)("span",{className:"font-medium",children:g?g.displayName:"Select format"})]}),(0,s.jsx)(u.A,{className:(0,f.cn)(b[d],"opacity-50")})]})}),(0,s.jsxs)(i.SQ,{align:"start",className:"w-80 max-w-[90vw]",children:[(0,s.jsxs)(i.lp,{className:"flex items-center gap-2",children:[(0,s.jsx)(m.A,{className:"w-4 h-4"}),c]}),(0,s.jsx)(i.mB,{}),Object.entries(j).map(e=>{let[r,n]=e;return(0,s.jsxs)("div",{children:[(0,s.jsx)(i.lp,{className:"text-xs text-muted-foreground uppercase tracking-wide px-2 py-1",children:v[r]}),n.map(e=>{let r=e.icon,n=t===e.id;return(0,s.jsx)(i._2,{onClick:()=>a(e.id),className:(0,f.cn)("flex flex-col items-start space-y-1 cursor-pointer p-3 min-h-[60px]",n&&"bg-blue-50 dark:bg-blue-950/20"),children:(0,s.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)(r,{className:"w-5 h-5 text-primary"}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("span",{className:"font-medium text-sm",children:e.displayName}),(0,s.jsx)("span",{className:"text-xs text-muted-foreground leading-tight",children:e.description})]})]}),n&&(0,s.jsx)(l.E,{variant:"secondary",className:"text-xs ml-2",children:"Selected"})]})},e.id)}),(0,s.jsx)(i.mB,{})]},r)})]})]})}},4754:(e,t,a)=>{Promise.resolve().then(a.bind(a,88357))},27063:(e,t,a)=>{"use strict";a.r(t),a.d(t,{Sheet:()=>d,SheetClose:()=>u,SheetContent:()=>p,SheetDescription:()=>j,SheetFooter:()=>g,SheetHeader:()=>h,SheetOverlay:()=>f,SheetPortal:()=>m,SheetTitle:()=>b,SheetTrigger:()=>c});var s=a(95155),r=a(12115),l=a(89511),i=a(83101),n=a(65229),o=a(64269);let d=l.bL,c=l.l9,u=l.bm,m=l.ZL,f=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.hJ,{className:(0,o.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r,ref:t})});f.displayName=l.hJ.displayName;let x=(0,i.F)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),p=r.forwardRef((e,t)=>{let{side:a="right",className:r,children:i,...d}=e;return(0,s.jsxs)(m,{children:[(0,s.jsx)(f,{}),(0,s.jsxs)(l.UC,{ref:t,className:(0,o.cn)(x({side:a}),r),...d,children:[i,(0,s.jsxs)(l.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,s.jsx)(n.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});p.displayName=l.UC.displayName;let h=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,o.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...a})};h.displayName="SheetHeader";let g=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,o.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};g.displayName="SheetFooter";let b=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.hE,{ref:t,className:(0,o.cn)("text-lg font-semibold text-foreground",a),...r})});b.displayName=l.hE.displayName;let j=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.VY,{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",a),...r})});j.displayName=l.VY.displayName},31120:(e,t,a)=>{"use strict";a.d(t,{T:()=>i});var s=a(95155),r=a(12115),l=a(64269);let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...r})});i.displayName="Textarea"},37908:(e,t,a)=>{"use strict";a.d(t,{S:()=>i});var s=a(95155),r=a(12115),l=a(64269);let i=r.memo(function(e){let{className:t}=e;return(0,s.jsxs)("div",{className:(0,l.cn)("flex space-x-2 justify-center items-center",t),children:[(0,s.jsx)("span",{className:"sr-only",children:"Loading..."}),(0,s.jsx)("div",{className:"h-2 w-2 bg-foreground rounded-full animate-bounce-dot [animation-delay:-0.3s]"}),(0,s.jsx)("div",{className:"h-2 w-2 bg-foreground rounded-full animate-bounce-dot [animation-delay:-0.15s]"}),(0,s.jsx)("div",{className:"h-2 w-2 bg-foreground rounded-full animate-bounce-dot"})]})})},51834:(e,t,a)=>{"use strict";a.d(t,{Cf:()=>u,Es:()=>f,L3:()=>x,c7:()=>m,lG:()=>o,rr:()=>p});var s=a(95155),r=a(12115),l=a(89511),i=a(65229),n=a(64269);let o=l.bL;l.l9;let d=l.ZL;l.bm;let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.hJ,{ref:t,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r})});c.displayName=l.hJ.displayName;let u=r.forwardRef((e,t)=>{let{className:a,children:r,...o}=e;return(0,s.jsxs)(d,{children:[(0,s.jsx)(c,{}),(0,s.jsxs)(l.UC,{ref:t,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-lg",a),...o,children:[r,(0,s.jsxs)(l.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(i.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=l.UC.displayName;let m=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};m.displayName="DialogHeader";let f=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};f.displayName="DialogFooter";let x=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.hE,{ref:t,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",a),...r})});x.displayName=l.hE.displayName;let p=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.VY,{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...r})});p.displayName=l.VY.displayName},65142:(e,t,a)=>{"use strict";a.d(t,{p:()=>i});var s=a(95155),r=a(12115),l=a(64269);let i=r.forwardRef((e,t)=>{let{className:a,type:r,...i}=e;return(0,s.jsx)("input",{type:r,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...i})});i.displayName="Input"},76444:(e,t,a)=>{"use strict";a.d(t,{J:()=>d});var s=a(95155),r=a(12115),l=a(10489),i=a(83101),n=a(64269);let o=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.b,{ref:t,className:(0,n.cn)(o(),a),...r})});d.displayName=l.b.displayName},79902:(e,t,a)=>{"use strict";a.d(t,{Mf:()=>r,sO:()=>s});let s=1e5,r=1048576e7},85762:(e,t,a)=>{"use strict";function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";let a=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,a)).toFixed(t<0?0:t))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][a]}function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return s(e.reduce((e,t)=>e+(t instanceof File?t.size:t),0),t)}a.d(t,{T:()=>r,v:()=>s})},88357:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>V});var s=a(95155),r=a(12115),l=a(46701),i=a(89715),n=a(65229),o=a(75426),d=a(39867),c=a(95740),u=a(3998),m=a(27063),f=a(15894),x=a(30926);let p=(0,x.createServerReference)("40f0c059b45b56313ede146214dcbc0c9197d1e5be",x.callServer,void 0,x.findSourceMapURL,"transcribeAudio"),h=(0,x.createServerReference)("4069c4fbf7c5ad871bde3d2760c2f7ca945ebdca0a",x.callServer,void 0,x.findSourceMapURL,"improveTranscriptionAccuracy");var g=a(31120);let b=(0,r.memo)(function(e){let{transcript:t,onTranscriptChange:a,disabled:r}=e;return(0,s.jsx)("div",{className:"relative h-full w-full",children:(0,s.jsx)(g.T,{value:t,onChange:e=>a(e.target.value),placeholder:"Your transcribed text will appear here. You can edit it directly.",className:"h-full w-full resize-none text-base leading-relaxed p-6 border-0 focus-visible:ring-0 focus-visible:ring-offset-0",disabled:r,"aria-label":"Transcription Editor"})})});var j=a(64269),v=a(76444),y=a(86948);let N=r.memo(function(e){let{min:t=1,max:a=30,value:l,onChange:i}=e,n=r.useMemo(()=>Array.from({length:a-t+1},(e,a)=>a+t),[t,a]),o=(0,r.useRef)(null),[d,c]=(0,r.useState)(l),u=(0,r.useRef)(!1),m=r.useCallback(e=>{let t=o.current;if(t){let a=t.querySelector('[data-value="'.concat(e,'"]'));if(a){let e=t.offsetWidth,s=a.offsetWidth,r=a.offsetLeft-e/2+s/2;t.scrollTo({left:r,behavior:"smooth"})}}},[]);(0,r.useEffect)(()=>{void 0!==l&&(c(l),m(l))},[l,m]);let f=()=>{u.current=!1,void 0!==d&&(i(d),m(d))},x=()=>{u.current=!0},p=r.useCallback(e=>{c(e),i(e),m(e)},[i,m]);return(0,s.jsxs)("div",{className:"relative w-full h-16 flex items-center justify-center overflow-hidden",children:[(0,s.jsx)("div",{ref:o,onScroll:()=>{if(!u.current)return;let e=o.current;if(!e)return;let t=e.scrollLeft+e.offsetWidth/2,a=null,s=1/0;if(e.querySelectorAll("[data-value]").forEach(e=>{let r=e.offsetWidth,l=Math.abs(t-(e.offsetLeft+r/2));l<s&&(s=l,a=e)}),a){let e=a.getAttribute("data-value");if(e){let t=parseInt(e,10);t!==d&&c(t)}}},onMouseDown:x,onMouseUp:f,onMouseLeave:f,onTouchStart:x,onTouchEnd:f,className:"flex items-center gap-4 overflow-x-auto snap-x snap-mandatory no-scrollbar px-[calc(50%-2rem)] cursor-grab active:cursor-grabbing",children:n.map(e=>(0,s.jsx)("div",{"data-value":e,onClick:()=>p(e),className:(0,j.cn)("snap-center shrink-0 w-16 h-16 flex items-center justify-center text-4xl font-bold transition-all duration-150 ease-in-out cursor-pointer",d===e?"text-primary scale-100":"text-muted-foreground/30 scale-75"),children:e},e))}),(0,s.jsx)("div",{className:"absolute inset-y-0 left-1/2 -translate-x-1/2 w-0.5 bg-primary/20","aria-hidden":"true"})]})});var w=a(65142),S=a(11647),k=a(37586),C=a(39347),T=a(51834),A=a(42529);let E=(0,r.memo)(function(e){let{message:t,onAnimationEnd:a,onClose:l}=e,[i,o]=(0,r.useState)(!1),d=(0,r.useCallback)(()=>{l?l():a()},[l,a]);(0,r.useEffect)(()=>{let e=setTimeout(()=>o(!0),50),t=setTimeout(()=>{a()},3e3);return()=>{clearTimeout(e),clearTimeout(t)}},[a]);let c=(0,r.useMemo)(()=>({opacity:+!!i,transform:i?"scale(1)":"scale(0.95)"}),[i]),m=(0,r.useMemo)(()=>({transform:i?"scale(1)":"scale(0.5)"}),[i]);return(0,s.jsxs)("div",{className:"relative flex flex-col items-center justify-center gap-4 text-center transition-opacity duration-500 ease-in-out",style:c,children:[(0,s.jsxs)(u.$,{variant:"ghost",size:"icon",className:"absolute -top-2 -right-2 h-8 w-8 rounded-full opacity-70 hover:opacity-100",onClick:d,children:[(0,s.jsx)(n.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]}),(0,s.jsx)(A.A,{className:"h-20 w-20 text-green-500 transition-transform duration-500 ease-out",style:m}),(0,s.jsx)("h2",{className:"text-2xl font-bold",children:t}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:"This dialog will close automatically in a few seconds"})]})});var F=a(37908);let L=(0,r.memo)(function(e){let{open:t,onOpenChange:a,onSubmit:l,translations:i}=e,[n,o]=(0,r.useState)(0),[d,c]=(0,r.useState)(0),[m,f]=(0,r.useState)(""),[x,p]=(0,r.useState)(!1),[h,b]=(0,r.useState)(!1),v=(0,r.useCallback)(()=>{o(0),f(""),p(!1),b(!1),c(0)},[]),y=(0,r.useCallback)(async()=>{if(0!==n&&!x){p(!0);try{await l(n,m)?b(!0):p(!1)}catch(e){p(!1)}}},[n,m,x,l]),N=(0,r.useCallback)(e=>{!x&&(a(e),e||setTimeout(v,300))},[x,a,v]),w=(0,r.useCallback)(()=>{N(!1)},[N]);return(0,s.jsx)(T.lG,{open:t,onOpenChange:N,children:(0,s.jsx)(T.Cf,{className:"sm:max-w-[425px] flex items-center justify-center min-h-[350px]",children:h?(0,s.jsx)(E,{message:i.thankYou,onAnimationEnd:w},"feedback-success"):(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsxs)(T.c7,{children:[(0,s.jsxs)(T.L3,{className:"flex items-center gap-2",children:[(0,s.jsx)(k.A,{className:"text-primary"}),i.title]}),(0,s.jsx)(T.rr,{children:i.description})]}),(0,s.jsxs)("div",{className:"grid gap-6 py-4",children:[(0,s.jsx)("div",{className:"flex justify-center gap-2",children:[1,2,3,4,5].map(e=>(0,s.jsx)(C.A,{className:(0,j.cn)("h-10 w-10 cursor-pointer transition-colors",(d||n)>=e?"text-yellow-400 fill-yellow-400":"text-muted-foreground/30"),onClick:()=>o(e),onMouseEnter:()=>c(e),onMouseLeave:()=>c(0)},e))}),(0,s.jsx)(g.T,{value:m,onChange:e=>f(e.target.value),placeholder:i.feedbackPlaceholder,rows:4,disabled:x})]}),(0,s.jsxs)(T.Es,{children:[(0,s.jsx)(u.$,{type:"button",variant:"ghost",onClick:()=>N(!1),disabled:x,children:i.rateLater}),(0,s.jsxs)(u.$,{type:"button",onClick:y,disabled:0===n||x,children:[x?(0,s.jsx)(F.S,{}):(0,s.jsx)(C.A,{className:"mr-2 h-4 w-4"}),i.submit]})]})]},"feedback-form")})})});var R=a(50168),M=a(72221),D=a(4083),z=a(79902),O=a(85762);let P=e=>new Promise((t,a)=>{let s=new FileReader;s.onloadend=()=>{"string"==typeof s.result?t(s.result):a(Error("Failed to convert blob to Base64."))},s.onerror=a,s.readAsDataURL(e)});function B(){let[e,t]=(0,r.useState)(null),[x,g]=(0,r.useState)(!1),[k,C]=(0,r.useState)([]),[T,A]=(0,r.useState)(""),[E,B]=(0,r.useState)(1),[J,V]=(0,r.useState)("srt"),[Y,$]=(0,r.useState)(!1),[W,U]=(0,r.useState)(!1),[_,H]=(0,r.useState)([]),[I,Z]=(0,r.useState)(""),[G,q]=(0,r.useState)(!1),K=(0,r.useRef)(!1),{toast:X}=(0,f.dj)(),Q=(0,r.useRef)(null),ee=(0,r.useContext)(M.s);if(!ee)throw Error("SoundsPage must be used within a LanguageProvider");let{language:et}=ee,ea=(0,r.useMemo)(()=>R.Wk[et],[et]);(0,r.useEffect)(()=>{K.current="true"===localStorage.getItem("hasRated")},[]);let es=()=>{t(null),C([]),A(""),Q.current&&(Q.current.value="")},er=(0,r.useCallback)(e=>{let t=(e.message||"").toLowerCase(),a=ea.transcriptionError,s=e.message||"An error occurred while processing your audio.";t.includes("503")||t.includes("model is overloaded")?(a=ea.modelOverloadedTitle,s=(0,R.uJ)(ea.modelOverloadedDescription)):t.includes("413")||t.includes("too large")?(a=ea.fileTooLargeTitle,s=(0,R.uJ)(ea.fileTooLargeDescription,z.sO)):(t.includes("429")||t.includes("rate limit"))&&(a=ea.rateLimitExceeded,s=(0,R.uJ)(ea.rateLimitMessage)),X({title:a,description:s,variant:"destructive"}),es()},[ea,X]),el=(0,r.useCallback)(async()=>{if(e){g(!0);try{let t=await P(e),a=await h({audioDataUri:t,customVocabulary:_});a&&a.transcript?(C(a.transcript),A(a.text),X({title:"Transcription Improved!",description:"The text has been updated with your custom vocabulary."})):X({title:ea.transcriptionFailed,description:ea.noTranscript,variant:"destructive"})}catch(e){er(e)}finally{g(!1)}}},[e,_,ea,X,er]),ei=(0,r.useCallback)(async e=>{g(!0),C([]),A("");try{let t=await P(e),a=await p({audioDataUri:t});a&&a.transcript?(C(a.transcript),A(a.text)):X({title:ea.transcriptionFailed,description:ea.noTranscript,variant:"destructive"})}catch(e){er(e)}finally{g(!1)}},[ea,X,er]),en=e=>{if(e){if(e.size>z.Mf)return void X({title:ea.fileTooLargeTitle,description:(0,R.uJ)(ea.fileTooLargeDescription,z.sO),variant:"destructive"});e.type.startsWith("audio/")?(t(e),ei(e)):X({title:ea.invalidFileType,description:ea.selectAudioFile,variant:"destructive"})}},eo=e=>{e.preventDefault(),e.stopPropagation()},ed=(0,r.useCallback)(async()=>{let{exportTranscript:e}=await Promise.all([a.e(8779),a.e(8405),a.e(8116),a.e(6335),a.e(8995),a.e(6699),a.e(5021),a.e(9290),a.e(6073),a.e(7708),a.e(2432),a.e(8585),a.e(9592),a.e(7940),a.e(2652),a.e(3719),a.e(408),a.e(1404)]).then(a.bind(a,31404));e(T,J,k,X,E),U(!1),K.current||q(!0)},[T,J,k,X,E]),ec=!x&&k.length>0,eu=()=>{I.trim()&&!_.includes(I.trim())&&(H([..._,I.trim()]),Z(""))},em=(0,r.useCallback)(async(e,t)=>{try{let a=await fetch("/api/feedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({rating:e,feedback:t})});if(!a.ok){let e=await a.json().catch(()=>({message:ea.feedbackError}));return X({title:ea.feedbackError,description:e.message,variant:"destructive"}),!1}return localStorage.setItem("hasRated","true"),K.current=!0,!0}catch(e){return X({title:ea.feedbackError,variant:"destructive"}),!1}},[ea.feedbackError,X]),ef=(0,r.useMemo)(()=>({title:ea.ratingTitle,description:ea.ratingDescription,feedbackPlaceholder:ea.ratingFeedbackPlaceholder,submit:ea.ratingSubmit,rateLater:ea.ratingLater,thankYou:ea.ratingThankYou}),[ea]);return(0,s.jsxs)("div",{className:"flex flex-col h-full bg-transparent text-foreground",onDragEnter:e=>{eo(e),e.dataTransfer.items&&e.dataTransfer.items.length>0&&$(!0)},onDragOver:eo,onDragLeave:e=>{eo(e),$(!1)},onDrop:e=>{var t;eo(e),$(!1),en(null==(t=e.dataTransfer.files)?void 0:t[0])},children:[(0,s.jsxs)("main",{className:"flex-grow p-4 md:p-6 flex flex-col items-center",children:[(0,s.jsx)("div",{className:"w-full max-w-4xl flex-grow flex flex-col",children:e?(0,s.jsxs)(y.Zp,{className:"w-full h-full flex-grow flex flex-col shadow-sm overflow-hidden",children:[(0,s.jsxs)("div",{className:"flex-shrink-0 flex items-center justify-between p-3 border-b bg-muted/30",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 overflow-hidden",children:[(0,s.jsx)(i.A,{className:"w-5 h-5 text-primary"}),(0,s.jsx)("span",{className:"font-medium truncate",children:e.name}),(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:(0,O.v)(e.size)})]}),(0,s.jsxs)(u.$,{type:"button",onClick:es,variant:"ghost",size:"icon",className:"rounded-full",children:[(0,s.jsx)(n.A,{className:"w-4 h-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Clear file"})]})]}),(0,s.jsxs)("div",{className:"flex-grow relative h-[78vh]",children:[x&&(0,s.jsxs)("div",{className:"absolute inset-0 bg-background/80 flex flex-col items-center justify-center z-10 backdrop-blur-sm",children:[(0,s.jsx)(F.S,{}),(0,s.jsx)("p",{className:"text-lg font-medium text-foreground mt-4",children:ea.transcribing})]}),(0,s.jsx)(b,{transcript:T,onTranscriptChange:A,disabled:x})]})]}):(0,s.jsxs)(y.Zp,{className:(0,j.cn)("flex-grow flex flex-col items-center justify-center text-center border-2 border-dashed transition-colors cursor-pointer p-6",Y?"border-primary bg-primary/10":"border-border"),onClick:()=>{var e;return null==(e=Q.current)?void 0:e.click()},children:[(0,s.jsx)(l.A,{className:"w-16 h-16 text-muted-foreground mb-4"}),(0,s.jsx)("h3",{className:"text-xl font-semibold",children:ea.chooseFile}),(0,s.jsx)("p",{className:"text-muted-foreground mt-2",children:ea.dropAudio})]})}),(0,s.jsx)("input",{type:"file",ref:Q,onChange:e=>{var t;return en(null==(t=e.target.files)?void 0:t[0])},className:"hidden",accept:"audio/mp3,audio/wav,audio/ogg,audio/m4a,audio/*"})]}),e&&(0,s.jsx)("footer",{className:"flex-shrink-0 flex items-center justify-center gap-2 p-4 border-t bg-background",children:(0,s.jsxs)("div",{className:"w-full max-w-lg flex gap-2 items-center",children:[(0,s.jsxs)(u.$,{type:"button",onClick:()=>{T&&navigator.clipboard.writeText(T).then(()=>{X({title:ea.copied})})},variant:"outline",size:"icon",className:"h-12 w-12",disabled:x||!ec,children:[(0,s.jsx)(o.A,{className:"h-5 w-5"}),(0,s.jsx)("span",{className:"sr-only",children:ea.copy})]}),(0,s.jsxs)(m.Sheet,{open:W,onOpenChange:U,children:[(0,s.jsx)(m.SheetTrigger,{asChild:!0,children:(0,s.jsxs)(u.$,{type:"button",size:"lg",className:"flex-1 h-12",disabled:x||!ec,children:[x?(0,s.jsx)(F.S,{}):(0,s.jsx)(d.A,{className:"h-5 w-5"}),(0,s.jsx)("span",{className:"ml-2 sm:inline font-bold",children:x?ea.transcribing:ea.download})]})}),(0,s.jsxs)(m.SheetContent,{side:"bottom",className:"rounded-t-lg bg-background border-t",children:[(0,s.jsxs)(m.SheetHeader,{className:"text-left",children:[(0,s.jsx)(m.SheetTitle,{children:ea.exportSettings}),(0,s.jsx)(m.SheetDescription,{children:ea.chooseFormat})]}),(0,s.jsxs)("div",{className:"grid gap-6 py-6",children:[(0,s.jsxs)("div",{className:"grid gap-3",children:[(0,s.jsx)(v.J,{children:ea.exportFormat}),(0,s.jsx)(D.p,{selectedFormat:J,onFormatChange:V,label:ea.exportFormat,className:"w-full"})]}),(0,s.jsxs)("div",{className:"grid gap-3",children:[(0,s.jsx)(v.J,{htmlFor:"words-per-second",className:"text-center",children:ea.wordsPerSecond}),(0,s.jsx)(N,{value:E,onChange:B}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground text-center",children:ea.wordsPerSecondHint})]}),(0,s.jsxs)("div",{className:"p-4 border rounded-lg bg-muted/30",children:[(0,s.jsx)("h4",{className:"font-semibold mb-2",children:ea.improveAccuracy}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:ea.customVocabularyHint}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(w.p,{value:I,onChange:e=>Z(e.target.value),onKeyDown:e=>"Enter"===e.key&&eu(),placeholder:ea.pressEnterToAdd}),(0,s.jsx)(u.$,{type:"button",onClick:eu,variant:"secondary",children:ea.addWord})]}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2 mt-3",children:_.map(e=>(0,s.jsxs)(S.E,{variant:"secondary",className:"text-base px-3 py-1",children:[e,(0,s.jsx)("button",{type:"button",onClick:()=>{H(_.filter(t=>t!==e))},className:"ml-2 rounded-full hover:bg-muted-foreground/20 p-0.5",children:(0,s.jsx)(n.A,{className:"h-3 w-3"})})]},e))}),_.length>0&&(0,s.jsxs)(u.$,{type:"button",onClick:el,disabled:x,size:"sm",className:"mt-3 w-full",children:[x?(0,s.jsx)(F.S,{}):(0,s.jsx)(c.A,{className:"mr-2"}),ea.retranscribe]})]}),(0,s.jsx)(u.$,{type:"button",onClick:ed,size:"lg",disabled:x,children:x?(0,s.jsx)(F.S,{}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.A,{className:"mr-2"}),ea.exportTranscript]})})]})]})]})]})}),(0,s.jsx)(L,{open:G,onOpenChange:q,onSubmit:em,translations:ef})]})}var J=a(16449);function V(){return(0,s.jsx)(J.s,{title:"Voice Transcript",showModelSelector:!0,children:(0,s.jsx)(B,{})})}}},e=>{e.O(0,[5848,8861,5624,9701,8779,8405,8116,6335,8995,6699,5021,9290,6073,7708,2432,8585,9592,7940,2652,3719,408,5894,6449,6975,7358],()=>e(e.s=4754)),_N_E=e.O()}]);