(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1744],{4041:(e,a,s)=>{"use strict";s.d(a,{BackCameraExample:()=>d,SimpleBackCameraExample:()=>c});var l=s(95155),r=s(12115),t=s(62256);function d(){let e=(0,r.useRef)(null),a=(0,r.useRef)(null),[s,d]=(0,r.useState)(null),{stream:c,isLoading:n,isSupported:i,hasPermission:o,devices:m,backCameras:x,frontCameras:h,currentFacingMode:u,error:g,requestBackCamera:b,requestBackCameraWithFallback:p,switchFacingMode:j,stopCamera:N,refreshDevices:y}=(0,t.Yf)(!1,"high");(0,r.useEffect)(()=>{e.current&&c&&(e.current.srcObject=c)},[c]);let f=async()=>{await b("high")},C=async()=>{await p("high")},v=async()=>{await j("high")};return i?(0,l.jsxs)("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"\uD83D\uDCF8 Back Camera Example"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Comprehensive back camera functionality with device switching and photo capture"})]}),(0,l.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold mb-3",children:"Camera Status"}),(0,l.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"font-medium",children:"Permission:"}),(0,l.jsx)("span",{className:"ml-2 px-2 py-1 rounded ".concat(o?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:o?"Granted":"Denied"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"font-medium",children:"Status:"}),(0,l.jsx)("span",{className:"ml-2 px-2 py-1 rounded ".concat(c?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:n?"Loading...":c?"Active":"Inactive"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"font-medium",children:"Camera:"}),(0,l.jsx)("span",{className:"ml-2",children:"environment"===u?"\uD83D\uDCF7 Back":"user"===u?"\uD83E\uDD33 Front":"❌ None"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"font-medium",children:"Devices:"}),(0,l.jsxs)("span",{className:"ml-2",children:[m.length," total"]})]})]})]}),g&&(0,l.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:[(0,l.jsx)("strong",{children:"Error:"})," ",g.message,(0,l.jsx)("br",{}),(0,l.jsxs)("small",{children:["Code: ",g.code]})]}),(0,l.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,l.jsx)("button",{onClick:f,disabled:n,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"\uD83D\uDCF7 Start Back Camera"}),(0,l.jsx)("button",{onClick:C,disabled:n,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"\uD83D\uDCF7 Back Camera (with fallback)"}),(0,l.jsx)("button",{onClick:v,disabled:n||!c,className:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"\uD83D\uDD04 Switch Camera"}),(0,l.jsx)("button",{onClick:()=>{if(e.current&&a.current){let s=e.current,l=a.current,r=l.getContext("2d");r&&(l.width=s.videoWidth,l.height=s.videoHeight,r.drawImage(s,0,0,s.videoWidth,s.videoHeight),d(l.toDataURL("image/png")))}},disabled:!c,className:"px-4 py-2 bg-orange-600 text-white rounded hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"\uD83D\uDCF8 Capture Photo"}),(0,l.jsx)("button",{onClick:N,disabled:!c,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"⏹️ Stop Camera"}),(0,l.jsx)("button",{onClick:y,className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700",children:"\uD83D\uDD04 Refresh Devices"})]}),(0,l.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,l.jsxs)("h3",{className:"text-lg font-semibold mb-3",children:["\uD83D\uDCF7 Back Cameras (",x.length,")"]}),0===x.length?(0,l.jsx)("p",{className:"text-gray-600 text-sm",children:"No back cameras detected"}):(0,l.jsx)("ul",{className:"space-y-2",children:x.map((e,a)=>(0,l.jsxs)("li",{className:"text-sm",children:[(0,l.jsxs)("span",{className:"font-medium",children:["Camera ",a+1,":"]}),(0,l.jsx)("br",{}),(0,l.jsx)("span",{className:"text-gray-600",children:e.label})]},e.deviceId))})]}),(0,l.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,l.jsxs)("h3",{className:"text-lg font-semibold mb-3",children:["\uD83E\uDD33 Front Cameras (",h.length,")"]}),0===h.length?(0,l.jsx)("p",{className:"text-gray-600 text-sm",children:"No front cameras detected"}):(0,l.jsx)("ul",{className:"space-y-2",children:h.map((e,a)=>(0,l.jsxs)("li",{className:"text-sm",children:[(0,l.jsxs)("span",{className:"font-medium",children:["Camera ",a+1,":"]}),(0,l.jsx)("br",{}),(0,l.jsx)("span",{className:"text-gray-600",children:e.label})]},e.deviceId))})]})]}),(0,l.jsxs)("div",{className:"bg-gray-900 rounded-lg p-4",children:[(0,l.jsxs)("h3",{className:"text-lg font-semibold text-white mb-3",children:["\uD83D\uDCF9 Live Camera Feed",u&&(0,l.jsxs)("span",{className:"ml-2 text-sm text-gray-300",children:["(","environment"===u?"Back Camera":"Front Camera",")"]})]}),c?(0,l.jsx)("video",{ref:e,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full max-w-2xl mx-auto rounded-lg",style:{transform:"user"===u?"scaleX(-1)":"none"}}):(0,l.jsx)("div",{className:"w-full max-w-2xl mx-auto h-64 bg-gray-800 rounded-lg flex items-center justify-center",children:(0,l.jsx)("p",{className:"text-gray-400",children:"No camera stream active"})})]}),s&&(0,l.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold",children:"\uD83D\uDCF8 Captured Photo"}),(0,l.jsx)("button",{onClick:()=>{if(s){let e=document.createElement("a");e.download="back-camera-photo-".concat(Date.now(),".png"),e.href=s,e.click()}},className:"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",children:"\uD83D\uDCBE Download"})]}),(0,l.jsx)("img",{src:s,alt:"Captured photo",className:"w-full max-w-md mx-auto rounded-lg border"})]}),(0,l.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"\uD83D\uDCCB How to Use"}),(0,l.jsxs)("ol",{className:"list-decimal list-inside space-y-2 text-blue-800 text-sm",children:[(0,l.jsx)("li",{children:'Click "Start Back Camera" to request access to the rear-facing camera'}),(0,l.jsx)("li",{children:'Use "Back Camera (with fallback)" for better compatibility across devices'}),(0,l.jsx)("li",{children:'Click "Switch Camera" to toggle between front and back cameras'}),(0,l.jsx)("li",{children:'Use "Capture Photo" to take a picture from the current camera feed'}),(0,l.jsx)("li",{children:"Download captured photos using the download button"}),(0,l.jsx)("li",{children:'Click "Stop Camera" when you\'re done to release the camera'})]})]}),(0,l.jsx)("canvas",{ref:a,style:{display:"none"}})]}):(0,l.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:[(0,l.jsx)("strong",{children:"Camera not supported!"}),(0,l.jsx)("p",{children:"Your browser or device doesn't support camera access."})]})}function c(){let e=(0,r.useRef)(null),{stream:a,requestBackCamera:s,stopCamera:d,isLoading:c,error:n}=(0,t.Yf)();return(0,r.useEffect)(()=>{e.current&&a&&(e.current.srcObject=a)},[a]),(0,l.jsxs)("div",{className:"max-w-2xl mx-auto p-6 space-y-4",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-center",children:"Simple Back Camera"}),n&&(0,l.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:n.message}),(0,l.jsxs)("div",{className:"flex gap-3 justify-center",children:[(0,l.jsx)("button",{onClick:()=>s("high"),disabled:c,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50",children:"\uD83D\uDCF7 Start Back Camera"}),(0,l.jsx)("button",{onClick:d,disabled:!a,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50",children:"⏹️ Stop Camera"})]}),(0,l.jsx)("div",{className:"bg-gray-900 rounded-lg p-4",children:a?(0,l.jsx)("video",{ref:e,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full rounded-lg"}):(0,l.jsx)("div",{className:"w-full h-64 bg-gray-800 rounded-lg flex items-center justify-center",children:(0,l.jsx)("p",{className:"text-gray-400",children:'Click "Start Back Camera" to begin'})})})]})}},6943:(e,a,s)=>{Promise.resolve().then(s.bind(s,4041))}},e=>{e.O(0,[2256,8779,8405,8116,6335,8995,6699,5021,9290,6073,7708,2432,8585,9592,7940,2652,3719,408,7358],()=>e(e.s=6943)),_N_E=e.O()}]);