(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4152,7063],{4083:(e,t,s)=>{"use strict";s.d(t,{p:()=>p});var a=s(95155),r=s(3998),i=s(11647),l=s(6259),n=s(60890),o=s(89715),d=s(85710),c=s(24722),m=s(24033),x=s(39867),u=s(64269);let f=[{id:"srt",name:"srt",displayName:"SRT",description:"SubRip subtitle format with timestamps",icon:n.A,category:"subtitle"},{id:"vtt",name:"vtt",displayName:"VTT",description:"WebVTT subtitle format for web players",icon:n.A,category:"subtitle"},{id:"txt",name:"txt",displayName:"TXT",description:"Plain text without formatting",icon:o.A,category:"document"},{id:"docx",name:"docx",displayName:"DOCX",description:"Microsoft Word document format",icon:o.A,category:"document"},{id:"json",name:"json",displayName:"JSON",description:"Structured data with timestamps",icon:d.A,category:"data"},{id:"csv",name:"csv",displayName:"CSV",description:"Spreadsheet format for data analysis",icon:c.A,category:"data"}];function p(e){let{selectedFormat:t,onFormatChange:s,formats:n=f,className:o,size:d="sm",label:c="Export Format",disabled:p=!1,showIcon:h=!0}=e,g=n.find(e=>e.id===t),b={sm:"w-4 h-4",lg:"w-5 h-5"},j=n.reduce((e,t)=>(e[t.category]||(e[t.category]=[]),e[t.category].push(t),e),{}),N={subtitle:"Subtitle Formats",document:"Document Formats",data:"Data Formats"};return(0,a.jsxs)(l.rI,{children:[(0,a.jsx)(l.ty,{asChild:!0,children:(0,a.jsxs)(r.$,{variant:"outline",size:d,className:(0,u.cn)("flex justify-between",{sm:"text-sm h-10 px-3",lg:"text-base h-12 px-4"}[d],p&&"opacity-50 cursor-not-allowed",o),disabled:p,children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[h&&g&&(0,a.jsx)(g.icon,{className:(0,u.cn)(b[d])}),(0,a.jsx)("span",{className:"font-medium",children:g?g.displayName:"Select format"})]}),(0,a.jsx)(m.A,{className:(0,u.cn)(b[d],"opacity-50")})]})}),(0,a.jsxs)(l.SQ,{align:"start",className:"w-80 max-w-[90vw]",children:[(0,a.jsxs)(l.lp,{className:"flex items-center gap-2",children:[(0,a.jsx)(x.A,{className:"w-4 h-4"}),c]}),(0,a.jsx)(l.mB,{}),Object.entries(j).map(e=>{let[r,n]=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)(l.lp,{className:"text-xs text-muted-foreground uppercase tracking-wide px-2 py-1",children:N[r]}),n.map(e=>{let r=e.icon,n=t===e.id;return(0,a.jsx)(l._2,{onClick:()=>s(e.id),className:(0,u.cn)("flex flex-col items-start space-y-1 cursor-pointer p-3 min-h-[60px]",n&&"bg-blue-50 dark:bg-blue-950/20"),children:(0,a.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(r,{className:"w-5 h-5 text-primary"}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"font-medium text-sm",children:e.displayName}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground leading-tight",children:e.description})]})]}),n&&(0,a.jsx)(i.E,{variant:"secondary",className:"text-xs ml-2",children:"Selected"})]})},e.id)}),(0,a.jsx)(l.mB,{})]},r)})]})]})}},27063:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Sheet:()=>d,SheetClose:()=>m,SheetContent:()=>p,SheetDescription:()=>j,SheetFooter:()=>g,SheetHeader:()=>h,SheetOverlay:()=>u,SheetPortal:()=>x,SheetTitle:()=>b,SheetTrigger:()=>c});var a=s(95155),r=s(12115),i=s(89511),l=s(83101),n=s(65229),o=s(64269);let d=i.bL,c=i.l9,m=i.bm,x=i.ZL,u=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.hJ,{className:(0,o.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r,ref:t})});u.displayName=i.hJ.displayName;let f=(0,l.F)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),p=r.forwardRef((e,t)=>{let{side:s="right",className:r,children:l,...d}=e;return(0,a.jsxs)(x,{children:[(0,a.jsx)(u,{}),(0,a.jsxs)(i.UC,{ref:t,className:(0,o.cn)(f({side:s}),r),...d,children:[l,(0,a.jsxs)(i.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,a.jsx)(n.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});p.displayName=i.UC.displayName;let h=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,o.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...s})};h.displayName="SheetHeader";let g=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,o.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s})};g.displayName="SheetFooter";let b=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.hE,{ref:t,className:(0,o.cn)("text-lg font-semibold text-foreground",s),...r})});b.displayName=i.hE.displayName;let j=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.VY,{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",s),...r})});j.displayName=i.VY.displayName},31120:(e,t,s)=>{"use strict";s.d(t,{T:()=>l});var a=s(95155),r=s(12115),i=s(64269);let l=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...r})});l.displayName="Textarea"},37908:(e,t,s)=>{"use strict";s.d(t,{S:()=>l});var a=s(95155),r=s(12115),i=s(64269);let l=r.memo(function(e){let{className:t}=e;return(0,a.jsxs)("div",{className:(0,i.cn)("flex space-x-2 justify-center items-center",t),children:[(0,a.jsx)("span",{className:"sr-only",children:"Loading..."}),(0,a.jsx)("div",{className:"h-2 w-2 bg-foreground rounded-full animate-bounce-dot [animation-delay:-0.3s]"}),(0,a.jsx)("div",{className:"h-2 w-2 bg-foreground rounded-full animate-bounce-dot [animation-delay:-0.15s]"}),(0,a.jsx)("div",{className:"h-2 w-2 bg-foreground rounded-full animate-bounce-dot"})]})})},46197:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>C});var a=s(95155),r=s(12115),i=s(89715),l=s(46701),n=s(65229),o=s(75426),d=s(39867),c=s(3998),m=s(15894),x=s(64269),u=s(86948),f=s(31120),p=s(30926);let h=(0,p.createServerReference)("403518eeae926a379874067430c74565e5d33e8fa1",p.callServer,void 0,p.findSourceMapURL,"transcribePdf");var g=s(50168),b=s(72221),j=s(27063),N=s(76444),v=s(4083),y=s(79902),w=s(37908),S=s(85762);function T(){let[e,t]=(0,r.useState)(null),[p,T]=(0,r.useState)(!1),[k,C]=(0,r.useState)(""),[F,A]=(0,r.useState)(!1),[D,P]=(0,r.useState)(!1),[O,E]=(0,r.useState)("docx"),{toast:L}=(0,m.dj)(),M=(0,r.useRef)(null),z=(0,r.useContext)(b.s);if(!z)throw Error("PdfTranscriptPage must be used within a LanguageProvider");let{language:B}=z,R=(0,r.useMemo)(()=>g.Wk[B],[B]),_=()=>{t(null),C(""),M.current&&(M.current.value="")},V=(0,r.useCallback)(e=>{let t=(e.message||"").toLowerCase(),s=R.transcriptionError,a=e.message||"An error occurred while processing your PDF.";t.includes("503")||t.includes("model is overloaded")?(s=R.modelOverloadedTitle,a=R.modelOverloadedDescription):t.includes("413")||t.includes("too large")?(s=R.fileTooLargeTitle,a=R.fileTooLargeDescription(y.sO)):(t.includes("429")||t.includes("rate limit"))&&(s=R.rateLimitExceeded,a=R.rateLimitMessage),L({title:s,description:a,variant:"destructive"}),_()},[R,L]),J=(0,r.useCallback)(async e=>{if(e){if("application/pdf"!==e.type)return void L({title:R.invalidFileType,description:R.selectPdfFile,variant:"destructive"});if(e.size>y.Mf)return void L({title:R.fileTooLargeTitle,description:R.fileTooLargeDescription(y.sO),variant:"destructive"});t(e),T(!0),C("");try{let t=await new Promise((t,s)=>{let a=new FileReader;a.onloadend=()=>{"string"==typeof a.result?t(a.result):s(Error("Failed to convert blob to Base64."))},a.onerror=s,a.readAsDataURL(e)}),s=await h({pdfDataUri:t});s&&s.text?C(s.text):(L({title:R.transcriptionFailed,description:R.noText,variant:"destructive"}),_())}catch(e){V(e)}finally{T(!1)}}},[R,L,V]),$=e=>{e.preventDefault(),e.stopPropagation()},U=async()=>{if(!k.trim())return void L({title:R.exportFailed,description:R.noTextToExport,variant:"destructive"});let{exportTranscript:e}=await Promise.all([s.e(8779),s.e(8405),s.e(8116),s.e(6335),s.e(8995),s.e(6699),s.e(5021),s.e(9290),s.e(6073),s.e(7708),s.e(2432),s.e(8585),s.e(9592),s.e(7940),s.e(2652),s.e(3719),s.e(408),s.e(1404)]).then(s.bind(s,31404));e(k,O,[],L),P(!1)},W=!p&&k,X=(0,r.useMemo)(()=>[{id:"docx",name:"docx",displayName:"DOCX",description:"Microsoft Word document format",icon:i.A,category:"document"},{id:"txt",name:"txt",displayName:"TXT",description:"Plain text without formatting",icon:i.A,category:"document"}],[]);return(0,a.jsxs)("div",{className:"flex flex-col h-full bg-transparent text-foreground",onDragEnter:e=>{$(e),e.dataTransfer.items&&e.dataTransfer.items.length>0&&A(!0)},onDragOver:$,onDragLeave:e=>{$(e),A(!1)},onDrop:e=>{var t;$(e),A(!1),J(null==(t=e.dataTransfer.files)?void 0:t[0])},children:[(0,a.jsxs)("main",{className:"flex-grow p-4 md:p-6 flex flex-col items-center",children:[(0,a.jsx)("div",{className:"w-full max-w-4xl flex-grow flex flex-col",children:e?(0,a.jsxs)(u.Zp,{className:"h-full flex-grow flex flex-col overflow-hidden",children:[(0,a.jsxs)("div",{className:"flex-shrink-0 flex items-center justify-between p-3 border-b bg-muted/30",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 overflow-hidden",children:[(0,a.jsx)(i.A,{className:"w-5 h-5 text-primary"}),(0,a.jsx)("span",{className:"font-medium truncate",children:e.name}),(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:(0,S.v)(e.size)})]}),(0,a.jsxs)(c.$,{onClick:_,variant:"ghost",size:"icon",className:"rounded-full",children:[(0,a.jsx)(n.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Clear file"})]})]}),(0,a.jsxs)("div",{className:"flex-grow relative h-[78vh]",children:[p&&(0,a.jsxs)("div",{className:"absolute inset-0 bg-background/80 flex flex-col items-center justify-center z-10 backdrop-blur-sm",children:[(0,a.jsx)(w.S,{}),(0,a.jsx)("p",{className:"text-lg font-medium text-foreground mt-4",children:R.transcribing})]}),(0,a.jsx)(f.T,{value:k,readOnly:!0,placeholder:p?"Transcribing...":R.transcribedTextPlaceholder,className:"h-full w-full resize-none text-base leading-relaxed p-6 border-0 focus-visible:ring-0 focus-visible:ring-offset-0 bg-transparent","aria-label":"Transcribed Text",disabled:p})]})]}):(0,a.jsxs)(u.Zp,{className:(0,x.cn)("flex-grow flex cursor-pointer flex-col items-center justify-center border-2 border-dashed text-center transition-colors p-6",F?"border-primary bg-primary/10":"border-border"),onClick:()=>{var e;return null==(e=M.current)?void 0:e.click()},children:[(0,a.jsx)(l.A,{className:"mb-4 h-16 w-16 text-muted-foreground"}),(0,a.jsx)("h3",{className:"text-xl font-semibold",children:R.chooseFile}),(0,a.jsx)("p",{className:"mt-2 text-muted-foreground",children:R.dropPdf})]})}),(0,a.jsx)("input",{type:"file",ref:M,onChange:e=>{var t;return J(null==(t=e.target.files)?void 0:t[0])},className:"hidden",accept:"application/pdf"})]}),e&&(0,a.jsx)("footer",{className:"flex-shrink-0 flex items-center justify-center gap-2 p-4 bg-background border-t",children:(0,a.jsxs)("div",{className:"w-full max-w-lg flex gap-2 items-center justify-center",children:[(0,a.jsxs)(c.$,{onClick:()=>{k&&navigator.clipboard.writeText(k).then(()=>{L({title:R.copied})})},variant:"outline",size:"icon",className:"h-12 w-12",disabled:p||!W,children:[(0,a.jsx)(o.A,{className:"h-5 w-5"}),(0,a.jsx)("span",{className:"sr-only",children:R.copy})]}),(0,a.jsxs)(j.Sheet,{open:D,onOpenChange:P,children:[(0,a.jsx)(j.SheetTrigger,{asChild:!0,children:(0,a.jsxs)(c.$,{size:"lg",className:"h-12 flex-1",disabled:p||!W,children:[p?(0,a.jsx)(w.S,{}):(0,a.jsx)(d.A,{className:"h-5 w-5"}),(0,a.jsx)("span",{className:"ml-2 sm:inline font-bold",children:p?R.transcribing:R.download})]})}),(0,a.jsxs)(j.SheetContent,{side:"bottom",className:"rounded-t-lg bg-background border-t",children:[(0,a.jsxs)(j.SheetHeader,{className:"text-left",children:[(0,a.jsx)(j.SheetTitle,{children:R.exportSettings}),(0,a.jsx)(j.SheetDescription,{children:R.chooseFormat})]}),(0,a.jsxs)("div",{className:"grid gap-6 py-6",children:[(0,a.jsxs)("div",{className:"grid gap-3",children:[(0,a.jsx)(N.J,{children:R.exportFormat}),(0,a.jsx)(v.p,{selectedFormat:O,onFormatChange:E,formats:X,label:R.exportFormat,className:"w-full",size:"lg"})]}),(0,a.jsx)(c.$,{onClick:U,size:"lg",disabled:p,children:p?(0,a.jsx)(w.S,{}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.A,{className:"mr-2"}),R.exportTranscript]})})]})]})]})]})})]})}var k=s(16449);function C(){return(0,a.jsx)(k.s,{title:"PDF Transcript",showModelSelector:!0,children:(0,a.jsx)(T,{})})}},76444:(e,t,s)=>{"use strict";s.d(t,{J:()=>d});var a=s(95155),r=s(12115),i=s(10489),l=s(83101),n=s(64269);let o=(0,l.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.b,{ref:t,className:(0,n.cn)(o(),s),...r})});d.displayName=i.b.displayName},79902:(e,t,s)=>{"use strict";s.d(t,{Mf:()=>r,sO:()=>a});let a=1e5,r=1048576e7},85762:(e,t,s)=>{"use strict";function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";let s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(t<0?0:t))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][s]}function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return a(e.reduce((e,t)=>e+(t instanceof File?t.size:t),0),t)}s.d(t,{T:()=>r,v:()=>a})},98337:(e,t,s)=>{Promise.resolve().then(s.bind(s,46197))}},e=>{e.O(0,[5848,8861,5624,9701,8779,8405,8116,6335,8995,6699,5021,9290,6073,7708,2432,8585,9592,7940,2652,3719,408,5894,6449,6975,7358],()=>e(e.s=98337)),_N_E=e.O()}]);