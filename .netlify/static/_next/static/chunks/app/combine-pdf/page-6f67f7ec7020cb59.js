(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8123],{17037:(e,r,t)=>{"use strict";t.d(r,{F:()=>i});var s=t(95155),l=t(12115),a=t(59034),n=t(64269);let i=l.forwardRef((e,r)=>{let{className:t,children:l,...i}=e;return(0,s.jsxs)(a.bL,{ref:r,className:(0,n.cn)("relative overflow-hidden",t),...i,children:[(0,s.jsx)(a.LM,{className:"h-full w-full rounded-[inherit]",children:l}),(0,s.jsx)(o,{}),(0,s.jsx)(a.OK,{})]})});i.displayName=a.bL.displayName;let o=l.forwardRef((e,r)=>{let{className:t,orientation:l="vertical",...i}=e;return(0,s.jsx)(a.VM,{ref:r,orientation:l,className:(0,n.cn)("flex touch-none select-none transition-colors","vertical"===l&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===l&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...i,children:(0,s.jsx)(a.lr,{className:"relative flex-1 rounded-full bg-border"})})});o.displayName=a.VM.displayName},33935:(e,r,t)=>{Promise.resolve().then(t.bind(t,56903))},37908:(e,r,t)=>{"use strict";t.d(r,{S:()=>n});var s=t(95155),l=t(12115),a=t(64269);let n=l.memo(function(e){let{className:r}=e;return(0,s.jsxs)("div",{className:(0,a.cn)("flex space-x-2 justify-center items-center",r),children:[(0,s.jsx)("span",{className:"sr-only",children:"Loading..."}),(0,s.jsx)("div",{className:"h-2 w-2 bg-foreground rounded-full animate-bounce-dot [animation-delay:-0.3s]"}),(0,s.jsx)("div",{className:"h-2 w-2 bg-foreground rounded-full animate-bounce-dot [animation-delay:-0.15s]"}),(0,s.jsx)("div",{className:"h-2 w-2 bg-foreground rounded-full animate-bounce-dot"})]})})},56903:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>k});var s=t(95155),l=t(12115),a=t(46701),n=t(92001),i=t(65229),o=t(7504),c=t(39867),d=t(3998),f=t(15894),m=t(86948),u=t(50168),x=t(72221),h=t(64269),p=t(30926);let b=(0,p.createServerReference)("40579f0208a07c443b5da5b3fea158b9fe1a0c8ad5",p.callServer,void 0,p.findSourceMapURL,"combinePdf");var g=t(79902),v=t(37908),j=t(17037),N=t(85762);function w(){let[e,r]=(0,l.useState)([]),[t,p]=(0,l.useState)(!1),[w,y]=(0,l.useState)(!1),k=(0,l.useRef)(null),{toast:L}=(0,f.dj)(),C=(0,l.useContext)(x.s);if(!C)throw Error("CombinePdfPage must be used within a LanguageProvider");let{language:E}=C,M=(0,l.useMemo)(()=>u.Wk[E],[E]),P=e=>{if(!e)return;let t=[],s=[];Array.from(e).forEach(e=>{"application/pdf"!==e.type?s.push(e.name):t.push(e)}),s.length>0&&L({title:M.invalidFileType,description:M.selectPdfFile,variant:"destructive"}),t.length>0&&r(e=>[...e,...t])},B=async()=>{if(e.length<2)return void L({title:M.combineError,description:M.combineErrorDescription,variant:"destructive"});p(!0);try{let t=await Promise.all(e.map(e=>new Promise((r,t)=>{let s=new FileReader;s.onloadend=()=>{"string"==typeof s.result?r(s.result):t(Error("Failed to convert blob to Base64."))},s.onerror=t,s.readAsDataURL(e)}))),{combinedPdfDataUri:s}=await b({pdfDataUris:t}),l=(e=>{let r=atob(e.split(",")[1]),t=e.split(",")[0].split(":")[1].split(";")[0],s=new ArrayBuffer(r.length),l=new Uint8Array(s);for(let e=0;e<r.length;e++)l[e]=r.charCodeAt(e);return new Blob([s],{type:t})})(s),a=URL.createObjectURL(l),n=document.createElement("a");n.href=a,n.download="combined.pdf",document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(a),r([])}catch(s){let e=M.combineError,r=s instanceof Error?s.message:"An unknown error occurred.",t=(s instanceof Error?s.message:"").toLowerCase();(t.includes("413")||t.includes("too large"))&&(e=M.fileTooLargeTitle,r=(0,u.uJ)(M.fileTooLargeDescription,g.sO)),L({title:e,description:r,variant:"destructive"})}finally{p(!1)}},D=e=>{e.preventDefault(),e.stopPropagation()},T=e=>{D(e),y(!1)},A=e=>{D(e),y(!1),P(e.dataTransfer.files)};return(0,s.jsxs)("div",{className:"flex flex-col h-full bg-transparent text-foreground",onDragEnter:e=>{D(e),e.dataTransfer.items&&e.dataTransfer.items.length>0&&y(!0)},onDragOver:D,children:[(0,s.jsxs)("main",{className:"flex-grow p-4 md:p-6 flex flex-col items-center",children:[(0,s.jsx)("div",{className:"w-full max-w-4xl flex-grow flex flex-col",children:0===e.length?(0,s.jsxs)(m.Zp,{className:(0,h.cn)("flex flex-col items-center justify-center text-center border-2 border-dashed h-full transition-colors cursor-pointer p-6",w?"border-primary bg-primary/10":"border-border"),onClick:()=>{var e;return null==(e=k.current)?void 0:e.click()},onDragLeave:T,onDrop:A,children:[(0,s.jsx)(a.A,{className:"w-16 h-16 text-muted-foreground mb-4"}),(0,s.jsx)("h3",{className:"text-xl font-semibold",children:M.combinePdfTitle}),(0,s.jsx)("p",{className:"text-muted-foreground mt-2",children:M.dropMultiplePdfs})]}):(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 h-full",children:[(0,s.jsxs)(m.Zp,{className:"flex flex-col",children:[(0,s.jsxs)("div",{className:"p-4 border-b",children:[(0,s.jsxs)("h3",{className:"text-lg font-semibold",children:[M.filesToCombine," (",e.length,")"]}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground mt-1",children:["Total size: ",(0,N.T)(e)]})]}),(0,s.jsx)(j.F,{className:"flex-grow p-4",children:(0,s.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:e.map((e,t)=>(0,s.jsxs)(m.Zp,{className:"relative group aspect-square flex flex-col items-center justify-center p-2 text-center transition-shadow hover:shadow-md",children:[(0,s.jsx)(n.A,{className:"w-12 h-12 text-primary mb-2"}),(0,s.jsx)("p",{className:"text-sm font-medium truncate w-full",children:e.name}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:(0,N.v)(e.size)}),(0,s.jsx)("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity rounded-lg",children:(0,s.jsx)(d.$,{variant:"destructive",size:"icon",onClick:()=>{r(e=>e.filter((e,r)=>r!==t))},children:(0,s.jsx)(i.A,{className:"w-5 h-5"})})})]},t))})})]}),(0,s.jsxs)(m.Zp,{className:(0,h.cn)("flex flex-col items-center justify-center text-center border-2 border-dashed h-full transition-colors cursor-pointer p-6",w?"border-primary bg-primary/10":"border-border"),onClick:()=>{var e;return null==(e=k.current)?void 0:e.click()},onDragLeave:T,onDrop:A,children:[(0,s.jsx)(o.A,{className:"w-16 h-16 text-muted-foreground mb-4"}),(0,s.jsx)("h3",{className:"text-xl font-semibold",children:M.addMorePdfs})]})]})}),(0,s.jsx)("input",{type:"file",ref:k,onChange:e=>P(e.target.files),className:"hidden",accept:"application/pdf",multiple:!0})]}),(0,s.jsx)("footer",{className:"flex-shrink-0 flex items-center justify-center gap-2 p-4 border-t bg-background",children:(0,s.jsx)("div",{className:"w-full max-w-lg flex gap-2 items-center",children:(0,s.jsxs)(d.$,{onClick:B,size:"lg",className:"flex-1 h-12",disabled:t||e.length<2,children:[t?(0,s.jsx)(v.S,{}):(0,s.jsx)(c.A,{className:"h-5 w-5"}),(0,s.jsx)("span",{className:"ml-2 sm:inline font-bold",children:M.combineAndDownload})]})})})]})}var y=t(16449);function k(){return(0,s.jsx)(y.s,{title:"Combine PDF",showModelSelector:!1,children:(0,s.jsx)(w,{})})}},79902:(e,r,t)=>{"use strict";t.d(r,{Mf:()=>l,sO:()=>s});let s=1e5,l=1048576e7},85762:(e,r,t)=>{"use strict";function s(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";let t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(r<0?0:r))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][t]}function l(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return s(e.reduce((e,r)=>e+(r instanceof File?r.size:r),0),r)}t.d(r,{T:()=>l,v:()=>s})}},e=>{e.O(0,[5848,8861,5624,9701,8779,8405,8116,6335,8995,6699,5021,9290,6073,7708,2432,8585,9592,7940,2652,3719,408,5894,6449,6975,7358],()=>e(e.s=33935)),_N_E=e.O()}]);