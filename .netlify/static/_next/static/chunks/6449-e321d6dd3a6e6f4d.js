"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6449],{3998:(e,t,r)=>{r.d(t,{$:()=>d,r:()=>l});var a=r(95155),s=r(12115),o=r(32467),i=r(83101),n=r(64269);let l=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 active:scale-[0.98] hover:scale-[1.02] will-change-transform",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-md hover:shadow-lg",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-md hover:shadow-lg",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground shadow-sm hover:shadow-md",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 shadow-sm hover:shadow-md",ghost:"hover:bg-accent/10 hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",gradient:"bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700 shadow-lg hover:shadow-xl"},size:{xs:"h-8 px-2 text-xs",sm:"h-9 px-3 text-sm",default:"h-10 px-4 py-2",lg:"h-11 px-6 text-base",xl:"h-12 px-8 text-lg",icon:"h-10 w-10","icon-sm":"h-8 w-8","icon-lg":"h-12 w-12"},animation:{none:"",scale:"hover:scale-[1.02] active:scale-[0.98]",lift:"hover:-translate-y-0.5 hover:shadow-lg",glow:"hover:shadow-lg hover:shadow-primary/25"}},defaultVariants:{variant:"default",size:"default",animation:"scale"}}),d=s.memo(s.forwardRef((e,t)=>{let{className:r,variant:s,size:i,asChild:d=!1,...c}=e,u=d?o.DX:"button";return(0,a.jsx)(u,{className:(0,n.cn)(l({variant:s,size:i,className:r})),ref:t,...c})}));d.displayName="Button"},6259:(e,t,r)=>{r.d(t,{SQ:()=>m,_2:()=>f,lp:()=>h,mB:()=>p,rI:()=>c,ty:()=>u});var a=r(95155),s=r(12115),o=r(47971),i=r(27937),n=r(5917),l=r(99051),d=r(64269);let c=o.bL,u=o.l9;o.YJ,o.ZL,o.Pb,o.z6,s.forwardRef((e,t)=>{let{className:r,inset:s,children:n,...l}=e;return(0,a.jsxs)(o.ZP,{ref:t,className:(0,d.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s&&"pl-8",r),...l,children:[n,(0,a.jsx)(i.A,{className:"ml-auto"})]})}).displayName=o.ZP.displayName,s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(o.G5,{ref:t,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...s})}).displayName=o.G5.displayName;let m=s.forwardRef((e,t)=>{let{className:r,sideOffset:s=4,...i}=e;return(0,a.jsx)(o.ZL,{children:(0,a.jsx)(o.UC,{ref:t,sideOffset:s,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...i})})});m.displayName=o.UC.displayName;let f=s.forwardRef((e,t)=>{let{className:r,inset:s,...i}=e;return(0,a.jsx)(o.q7,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s&&"pl-8",r),...i})});f.displayName=o.q7.displayName,s.forwardRef((e,t)=>{let{className:r,children:s,checked:i,...l}=e;return(0,a.jsxs)(o.H_,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),checked:i,...l,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(o.VF,{children:(0,a.jsx)(n.A,{className:"h-4 w-4"})})}),s]})}).displayName=o.H_.displayName,s.forwardRef((e,t)=>{let{className:r,children:s,...i}=e;return(0,a.jsxs)(o.hN,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...i,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(o.VF,{children:(0,a.jsx)(l.A,{className:"h-2 w-2 fill-current"})})}),s]})}).displayName=o.hN.displayName;let h=s.forwardRef((e,t)=>{let{className:r,inset:s,...i}=e;return(0,a.jsx)(o.JU,{ref:t,className:(0,d.cn)("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",r),...i})});h.displayName=o.JU.displayName;let p=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(o.wv,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",r),...s})});p.displayName=o.wv.displayName},11647:(e,t,r)=>{r.d(t,{E:()=>l});var a=r(95155),s=r(12115),o=r(83101),i=r(64269);let n=(0,o.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}}),l=s.memo(function(e){let{className:t,variant:r,...s}=e;return(0,a.jsx)("div",{className:(0,i.cn)(n({variant:r}),t),...s})})},16449:(e,t,r)=>{r.d(t,{s:()=>b,N:()=>v});var a=r(95155),s=r(12115),o=r(90368),i=r(52619),n=r.n(i),l=r(20063),d=r(3998),c=r(72221),u=r(40105),m=r(11647),f=r(6259),h=r(15870),p=r(24033),g=r(64269);let y=[{id:"gemini-1.5-flash",name:"gemini-1.5-flash",displayName:"Gemini 1.5 Flash",description:"Fast and efficient for most tasks",icon:"⚡"},{id:"gemini-2.0-flash-exp",name:"gemini-2.0-flash-exp",displayName:"Gemini 2.0 Flash (Experimental)",description:"Latest experimental model with enhanced capabilities",icon:"✨"},{id:"gemini-2.5-flash",name:"gemini-2.5-flash",displayName:"Gemini 2.5 Flash",description:"Next-generation model with improved performance and capabilities",icon:"\uD83D\uDE80"}];function x(e){let{selectedModel:t,onModelChange:r,models:s=y,className:o,size:i="sm",showIcon:n=!0,label:l="Select AI Model",disabled:c=!1}=e,u={sm:"w-4 h-4",lg:"w-5 h-5"};return(0,a.jsxs)(f.rI,{children:[(0,a.jsx)(f.ty,{asChild:!0,children:(0,a.jsxs)(d.$,{variant:"outline",size:i,className:(0,g.cn)("flex",{sm:"text-sm h-8",lg:"text-base h-12"}[i],c&&"opacity-50 cursor-not-allowed",o),disabled:c,children:[n&&(0,a.jsx)(h.A,{className:(0,g.cn)(u[i],"mr-2")}),t.displayName,(0,a.jsx)(p.A,{className:(0,g.cn)(u[i],"ml-2")})]})}),(0,a.jsxs)(f.SQ,{align:"end",className:"w-56 sm:w-64 max-w-[90vw]",children:[(0,a.jsx)(f.lp,{children:l}),(0,a.jsx)(f.mB,{}),s.map(e=>(0,a.jsxs)(f._2,{onClick:()=>r(e),className:(0,g.cn)("flex flex-col items-start space-y-1 cursor-pointer",t.id===e.id&&"bg-blue-50 dark:bg-blue-950/20"),children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-lg",children:e.icon}),(0,a.jsx)("span",{className:"font-medium",children:e.displayName}),t.id===e.id&&(0,a.jsx)(m.E,{variant:"secondary",className:"text-xs",children:"Active"})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.description})]},e.id))]})]})}function v(e){let{children:t}=e;return(0,a.jsx)(a.Fragment,{children:t})}let b=s.memo(function(e){let{children:t,title:r,showModelSelector:i=!1}=e,m=(0,s.useContext)(c.s),f=(0,l.usePathname)(),{addHistoryItem:h}=(0,u.W)(),[p,g]=(0,s.useState)(y[0]);if(!m)throw Error("FeaturePageLayout must be used within an AppLayout");(0,s.useEffect)(()=>{r&&f&&h({href:f,label:r,timestamp:Date.now()})},[r,f,h]);let v=s.useMemo(()=>(0,a.jsxs)("header",{className:"fixed top-0 left-0 right-0 z-50 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 border-b flex items-center justify-between p-2 sm:p-4",children:[(0,a.jsx)(d.$,{variant:"ghost",size:"icon",asChild:!0,children:(0,a.jsxs)(n(),{href:"/home",children:[(0,a.jsx)(o.A,{}),(0,a.jsx)("span",{className:"sr-only",children:"Back to Home"})]})}),(0,a.jsx)("h1",{className:"text-lg sm:text-xl font-bold",children:r}),i?(0,a.jsx)(x,{selectedModel:p,onModelChange:g,size:"sm"}):(0,a.jsx)("div",{className:"w-10"})]}),[r,i,p]),b=s.useMemo(()=>(0,a.jsx)("div",{className:"flex-grow overflow-y-auto pt-16",children:t}),[t]);return(0,a.jsxs)("div",{className:"flex flex-col h-full",children:[v,b]})})},40105:(e,t,r)=>{r.d(t,{W:()=>o});var a=r(12115);let s="voiceScribeFeatureHistory";function o(){let[e,t]=(0,a.useState)([]),[r,o]=(0,a.useState)(!1),[i,n]=(0,a.useState)(!1),[l,d]=(0,a.useState)(null),c=(0,a.useRef)([]),u=(0,a.useRef)(null),m=(0,a.useCallback)(e=>e&&"object"==typeof e&&"string"==typeof e.id&&e.id.length>0&&"string"==typeof e.href&&e.href.length>0&&"string"==typeof e.label&&e.label.length>0&&"number"==typeof e.timestamp&&e.timestamp>0&&"number"==typeof e.count&&e.count>0&&"number"==typeof e.lastVisited&&e.lastVisited>0,[]),f=(0,a.useCallback)(()=>{let e=Date.now(),t=Math.random().toString(36).substr(2,9);return"hist_".concat(e,"_").concat(t)},[]),h=(0,a.useCallback)(e=>{u.current&&clearTimeout(u.current),u.current=setTimeout(()=>{try{let t=e.filter(m).slice(0,100).sort((e,t)=>t.lastVisited-e.lastVisited);localStorage.setItem(s,JSON.stringify(t)),c.current=t,d(null)}catch(e){d("Failed to save history")}},300)},[m]),p=(0,a.useCallback)(async()=>{n(!0),d(null);try{let e=localStorage.getItem(s);if(!e){t([]),c.current=[];return}let r=JSON.parse(e);if(!Array.isArray(r))throw Error("Invalid history format: not an array");let a=r.map(e=>{try{let t={id:e.id||f(),href:e.href||"",label:e.label||"Unknown",timestamp:e.timestamp||Date.now(),count:Math.max(1,e.count||1),lastVisited:e.lastVisited||e.timestamp||Date.now(),favorite:!!e.favorite,category:e.category||"General",notes:e.notes||""};return m(t)?t:null}catch(e){return null}}).filter(e=>null!==e).sort((e,t)=>t.lastVisited-e.lastVisited);t(a),c.current=a,a.length!==r.length&&h(a)}catch(e){d("Failed to load history"),t([]),c.current=[]}finally{n(!1),o(!0)}},[m,f,h]);(0,a.useEffect)(()=>{p()},[p]),(0,a.useEffect)(()=>()=>{u.current&&clearTimeout(u.current)},[]);let g=(0,a.useCallback)(e=>{try{if(!e.href||!e.label||!e.timestamp)throw Error("Invalid history item: missing required fields");t(t=>{let r,a=Date.now(),s=t.findIndex(t=>t.href===e.href);if(-1!==s){let o=(r=t.map((t,r)=>r===s?{...t,label:e.label,timestamp:e.timestamp,lastVisited:a,count:t.count+1}:t))[s];r.splice(s,1),r.unshift(o)}else r=[{id:f(),href:e.href,label:e.label,timestamp:e.timestamp,lastVisited:a,count:1,favorite:!1,category:e.category||"General",notes:e.notes||""},...t];return r.length>100&&(r=r.slice(0,100)),h(r),r}),d(null)}catch(e){d("Failed to add history item")}},[f,h]),y=(0,a.useCallback)(r=>{try{if(!r||"string"!=typeof r)return d("Invalid item ID provided"),!1;if(!e.some(e=>e.id===r))return d("History item not found"),!1;return t(e=>{let t=e.filter(e=>e.id!==r);return h(t),t}),d(null),!0}catch(e){return d("Failed to delete history item"),!1}},[e,h]),x=(0,a.useCallback)((r,a)=>{try{if(!r||"string"!=typeof r)throw Error("Invalid item ID");if(!e.some(e=>e.id===r))return!1;return t(e=>{let t=e.map(e=>e.id===r?{...e,...a,id:e.id}:e);return h(t),t}),d(null),!0}catch(e){return d("Failed to update history item"),!1}},[e,h]),v=(0,a.useCallback)(()=>{try{t([]),c.current=[],localStorage.removeItem(s),d(null)}catch(e){d("Failed to clear history")}},[]),b=(0,a.useCallback)(r=>{try{if(!r||"string"!=typeof r)return d("Invalid item ID provided"),!1;let a=e.find(e=>e.id===r);if(!a)return d("History item not found"),!1;let s=!a.favorite;return t(e=>{let t=e.map(e=>e.id===r?{...e,favorite:s}:e);return h(t),t}),d(null),s}catch(e){return d("Failed to toggle favorite"),!1}},[e,h]),w=(0,a.useCallback)(t=>{try{if(!t||"string"!=typeof t||""===t.trim())return e;let r=t.toLowerCase().trim();return e.filter(e=>{var t,a;return e.label.toLowerCase().includes(r)||e.href.toLowerCase().includes(r)||(null==(t=e.category)?void 0:t.toLowerCase().includes(r))||(null==(a=e.notes)?void 0:a.toLowerCase().includes(r))})}catch(e){return d("Failed to search history"),[]}},[e]),N=(0,a.useCallback)(()=>{try{let t=e.reduce((e,t)=>e+t.count,0),r=e.length,a=e.filter(e=>e.favorite).length,s=[...e].sort((e,t)=>t.count-e.count).slice(0,10),o=[...e].sort((e,t)=>t.lastVisited-e.lastVisited).slice(0,10),i={};return e.forEach(e=>{let t=e.category||"General";i[t]=(i[t]||0)+e.count}),{totalVisits:t,uniquePages:r,favoritePages:a,mostVisited:s,recentVisits:o,categories:i}}catch(e){return{totalVisits:0,uniquePages:0,favoritePages:0,mostVisited:[],recentVisits:[],categories:{}}}},[e]),j=(0,a.useCallback)(t=>{try{if(!t||"string"!=typeof t)return e;let r=t.toLowerCase().trim();return e.filter(e=>{var t;return(null==(t=e.category)?void 0:t.toLowerCase())===r})}catch(e){return[]}},[e]),k=(0,a.useCallback)(()=>{try{let t={version:"1.0",exportDate:new Date().toISOString(),appName:"SomlengP Voice Features",history:e};return JSON.stringify(t,null,2)}catch(e){throw Error("Failed to export history")}},[e]),C=(0,a.useCallback)(r=>{let a=[],s=0;try{let o=JSON.parse(r);if(!o.history||!Array.isArray(o.history))throw Error("Invalid export format: missing history array");let i=[];return o.history.forEach((t,r)=>{try{let o={id:t.id||f(),href:t.href||"",label:t.label||"Imported Item",timestamp:t.timestamp||Date.now(),lastVisited:t.lastVisited||t.timestamp||Date.now(),count:Math.max(1,t.count||1),favorite:!!t.favorite,category:t.category||"General",notes:t.notes||""};m(o)?!e.some(e=>e.href===o.href)&&(i.push(o),s++):a.push("Item ".concat(r+1,": Invalid item format"))}catch(e){a.push("Item ".concat(r+1,": ").concat(e))}}),i.length>0&&t(e=>{let t=[...i,...e].sort((e,t)=>t.lastVisited-e.lastVisited).slice(0,100);return h(t),t}),{success:!0,imported:s,errors:a}}catch(e){return{success:!1,imported:0,errors:["Failed to parse import data: ".concat(e)]}}},[e,m,f,h]);return{history:(0,a.useMemo)(()=>e,[e]),isLoaded:r,isLoading:i,error:l,addHistoryItem:g,deleteHistoryItem:y,updateHistoryItem:x,clearHistory:v,toggleFavorite:b,searchHistory:w,getHistoryStats:N,getHistoryByCategory:j,exportHistory:k,importHistory:C}}},64269:(e,t,r)=>{r.d(t,{cn:()=>o});var a=r(2821),s=r(75889);function o(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}},72221:(e,t,r)=>{r.d(t,{s:()=>a});let a=(0,r(12115).createContext)(void 0)}}]);