"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8309],{88309:(t,e,n)=>{n.d(e,{Ok:()=>r});var a=n(48370);let o=0;function r(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"msg",e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=0;for(;n<3;)try{if("string"!=typeof t||0===t.length)throw new a.yI("Prefix must be a non-empty string",{provided:t});if(t.length>20)throw new a.yI("Prefix too long (max 20 characters)",{provided:t,length:t.length});let r=t.replace(/[^a-zA-Z0-9_-]/g,"_"),{data:c,error:h}=(0,a.xZ)(()=>o=(o+1)%999999,0,{operation:"incrementCounter",attempt:n+1});o=h?Math.floor(1e3*Math.random())+1e3*n:c||0;let l=Date.now();if(!l||l<=0||!Number.isInteger(l))throw new a.yI("Invalid timestamp generated for message ID",{timestamp:l});if(!Number.isInteger(o)||o<0)throw new a.yI("Invalid counter value",{counter:o});let i=o.toString().padStart(6,"0"),f="".concat(r,"_").concat(l,"_").concat(i);if(e){let t=Math.floor(1e4*Math.random()).toString().padStart(4,"0");f+="_".concat(t)}if(f.length>100)throw new a.yI("Generated ID too long",{id:f,length:f.length});if(!/^[a-zA-Z0-9_-]+$/.test(f))throw new a.yI("Generated ID contains invalid characters",{id:f});return f}catch(l){if(++n>=3){a.r_.handle(l,{function:"generateMessageId",counter:o,prefix:t,attempts:n,includeRandomSeed:e});let r=Date.now()||new Date().getTime()||Math.floor(Date.now()),c=Math.floor(1e4*Math.random()),h=Math.floor(1e3*Math.random());return"fallback_".concat(r,"_").concat(c,"_").concat(h)}let r=10*Math.pow(2,n),c=10*Math.random(),h=Date.now();for(;Date.now()-h<r+c;);}return"emergency_".concat(Date.now(),"_").concat(Math.floor(1e5*Math.random()))}}}]);