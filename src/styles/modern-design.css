/* Modern Design System Enhancements */
/* Note: This file should be imported after @tailwind directives */

@layer utilities {
  /* Container Query Support */
  @container (min-width: 400px) {
    .container-md-text {
      @apply text-lg;
    }
  }

  /* Modern Gradient Backgrounds */
  .gradient-radial {
    background: radial-gradient(circle at center, var(--tw-gradient-stops));
  }

  .gradient-conic {
    background: conic-gradient(from 180deg at 50% 50%, var(--tw-gradient-stops));
  }

  /* Enhanced Glass Morphism */
  .glass-modern {
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px) saturate(180%);
    -webkit-backdrop-filter: blur(10px) saturate(180%);
    border: 1px solid rgba(255, 255, 255, 0.18);
  }

  .dark .glass-modern {
    background: rgba(0, 0, 0, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.1);
  }

  /* Smooth Scrolling with Snap */
  .scroll-snap-x {
    scroll-snap-type: x mandatory;
    -webkit-overflow-scrolling: touch;
  }

  .scroll-snap-item {
    scroll-snap-align: start;
    scroll-snap-stop: always;
  }

  /* Modern Focus States */
  .focus-modern {
    @apply focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary;
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Improved Button States */
  .btn-modern {
    @apply px-4 py-2 rounded-lg font-medium transition-all duration-200;
    @apply hover:scale-105 active:scale-95;
    @apply focus-modern;
  }

  .btn-primary {
    @apply btn-modern bg-primary text-primary-foreground;
    @apply hover:opacity-90;
  }

  .btn-secondary {
    @apply btn-modern bg-secondary text-secondary-foreground;
    @apply hover:bg-secondary/80;
  }

  .btn-ghost {
    @apply btn-modern bg-transparent hover:bg-accent/10;
  }

  /* Card Enhancements */
  .card-modern {
    @apply rounded-2xl border bg-card text-card-foreground;
    @apply transition-all duration-300;
    @apply hover:shadow-xl hover:-translate-y-1;
  }

  .card-interactive {
    @apply card-modern cursor-pointer;
    @apply hover:border-primary/50;
  }

  /* Text Gradients */
  .text-gradient {
    @apply bg-clip-text text-transparent;
    background-image: linear-gradient(135deg, #000000 0%, #808080 100%);
  }

  .dark .text-gradient {
    background-image: linear-gradient(135deg, #ffffff 0%, #808080 100%);
  }

  /* Modern Input States */
  .input-modern {
    @apply w-full rounded-lg border bg-input px-4 py-2;
    @apply transition-all duration-200;
    @apply focus:border-primary focus:ring-2 focus:ring-primary/20;
    @apply placeholder:text-muted-foreground;
  }

  /* Loading States */
  .skeleton {
    @apply animate-pulse bg-muted rounded;
  }

  .skeleton-text {
    @apply skeleton h-4 w-full;
  }

  .skeleton-avatar {
    @apply skeleton h-12 w-12 rounded-full;
  }

  /* Enhanced Transitions */
  .transition-smooth {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .transition-bounce {
    transition: all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
  }

  /* Modern Grid Layouts */
  .grid-auto-fit {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1rem;
  }

  .grid-auto-fill {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 1rem;
  }

  /* Improved Hover Effects */
  .hover-lift {
    @apply transition-all duration-300;
    @apply hover:-translate-y-2 hover:shadow-2xl;
  }

  .hover-glow {
    @apply transition-all duration-300;
    @apply hover:shadow-[0_0_20px_rgba(0,0,0,0.1)];
  }

  .dark .hover-glow {
    @apply hover:shadow-[0_0_20px_rgba(255,255,255,0.1)];
  }

  /* Backdrop Enhancements */
  .backdrop-modern {
    @apply backdrop-blur-md backdrop-brightness-150;
  }

  .dark .backdrop-modern {
    @apply backdrop-brightness-75;
  }

  /* Modern Badge Styles */
  .badge-modern {
    @apply inline-flex items-center rounded-full px-3 py-1 text-xs font-medium;
    @apply bg-primary/10 text-primary;
    @apply transition-colors duration-200;
  }

  .badge-success {
    @apply badge-modern bg-green-100 text-green-800;
  }

  .dark .badge-success {
    @apply bg-green-900/30 text-green-400;
  }

  .badge-warning {
    @apply badge-modern bg-yellow-100 text-yellow-800;
  }

  .dark .badge-warning {
    @apply bg-yellow-900/30 text-yellow-400;
  }

  .badge-error {
    @apply badge-modern bg-red-100 text-red-800;
  }

  .dark .badge-error {
    @apply bg-red-900/30 text-red-400;
  }

  /* Enhanced Dividers */
  .divider-modern {
    @apply border-t border-border/50;
    @apply relative overflow-hidden;
  }

  .divider-modern::after {
    content: '';
    @apply absolute inset-0;
    @apply bg-gradient-to-r from-transparent via-border to-transparent;
    @apply h-px;
  }

  /* Modern Tooltips */
  .tooltip-modern {
    @apply absolute z-50 px-3 py-1 text-xs rounded-lg;
    @apply bg-popover text-popover-foreground;
    @apply border shadow-lg;
    @apply animate-fade-in-scale;
  }

  /* Print Optimization */
  @media print {
    .no-print {
      display: none !important;
    }
    
    .print-break-before {
      page-break-before: always;
    }
    
    .print-break-after {
      page-break-after: always;
    }
  }

  /* Reduced Motion Support */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }

  /* High Contrast Mode Support */
  @media (prefers-contrast: high) {
    .card-modern,
    .btn-modern,
    .input-modern {
      border-width: 2px;
    }
  }
}

/* CSS Variables for Dynamic Theming */
@layer base {
  :root {
    --transition-fast: 150ms;
    --transition-base: 200ms;
    --transition-slow: 300ms;
    --spacing-xs: 0.25rem;
    --spacing-sm: 0.5rem;
    --spacing-md: 1rem;
    --spacing-lg: 1.5rem;
    --spacing-xl: 2rem;
  }
}
